var VendorGraph=function(){"use strict";var N0=Object.defineProperty;var A0=(ce,_e,Mt)=>_e in ce?N0(ce,_e,{enumerable:!0,configurable:!0,writable:!0,value:Mt}):ce[_e]=Mt;var so=(ce,_e,Mt)=>A0(ce,typeof _e!="symbol"?_e+"":_e,Mt);function ce(){}function _e(e,t){for(const n in t)e[n]=t[n];return e}function Mt(e){return e()}function ao(){return Object.create(null)}function Ye(e){e.forEach(Mt)}function Ae(e){return typeof e=="function"}function me(e,t){return e!=e?t==t:e!==t||e&&typeof e=="object"||typeof e=="function"}function uo(e,t){return e!=e?t==t:e!==t}function $l(e){return Object.keys(e).length===0}function sn(e,...t){if(e==null){for(const i of t)i(void 0);return ce}const n=e.subscribe(...t);return n.unsubscribe?()=>n.unsubscribe():n}function $(e){let t;return sn(e,n=>t=n)(),t}function U(e,t,n){e.$$.on_destroy.push(sn(t,n))}function qe(e,t,n,i){if(e){const o=fo(e,t,n,i);return e[0](o)}}function fo(e,t,n,i){return e[1]&&i?_e(n.ctx.slice(),e[1](i(t))):n.ctx}function Ze(e,t,n,i){if(e[2]&&i){const o=e[2](i(n));if(t.dirty===void 0)return o;if(typeof o=="object"){const r=[],s=Math.max(t.dirty.length,o.length);for(let l=0;l<s;l+=1)r[l]=t.dirty[l]|o[l];return r}return t.dirty|o}return t.dirty}function Ge(e,t,n,i,o,r){if(o){const s=fo(t,n,i,r);e.p(s,o)}}function Ue(e){if(e.ctx.length>32){const t=[],n=e.ctx.length/32;for(let i=0;i<n;i++)t[i]=-1;return t}return-1}function nt(e){const t={};for(const n in e)n[0]!=="$"&&(t[n]=e[n]);return t}function De(e,t){const n={};t=new Set(t);for(const i in e)!t.has(i)&&i[0]!=="$"&&(n[i]=e[i]);return n}function es(e){const t={};for(const n in e)t[n]=!0;return t}function co(e){return e??""}function zn(e,t,n){return e.set(n),t}function Be(e){return e&&Ae(e.destroy)?e.destroy:ce}const ts=typeof window<"u"?window:typeof globalThis<"u"?globalThis:global;function L(e,t){e.appendChild(t)}function F(e,t,n){e.insertBefore(t,n||null)}function B(e){e.parentNode&&e.parentNode.removeChild(e)}function ho(e,t){for(let n=0;n<e.length;n+=1)e[n]&&e[n].d(t)}function se(e){return document.createElement(e)}function Ce(e){return document.createElementNS("http://www.w3.org/2000/svg",e)}function ve(e){return document.createTextNode(e)}function ue(){return ve(" ")}function We(){return ve("")}function Se(e,t,n,i){return e.addEventListener(t,n,i),()=>e.removeEventListener(t,n,i)}function w(e,t,n){n==null?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}const ns=["width","height"];function Rt(e,t){const n=Object.getOwnPropertyDescriptors(e.__proto__);for(const i in t)t[i]==null?e.removeAttribute(i):i==="style"?e.style.cssText=t[i]:i==="__value"?e.value=e[i]=t[i]:n[i]&&n[i].set&&ns.indexOf(i)===-1?e[i]=t[i]:w(e,i,t[i])}function is(e){return Array.from(e.childNodes)}function Pe(e,t){t=""+t,e.data!==t&&(e.data=t)}function ae(e,t,n,i){n==null?e.style.removeProperty(t):e.style.setProperty(t,n,"")}let Pn;function os(){if(Pn===void 0){Pn=!1;try{typeof window<"u"&&window.parent&&window.parent.document}catch{Pn=!0}}return Pn}function rs(e,t){getComputedStyle(e).position==="static"&&(e.style.position="relative");const i=se("iframe");i.setAttribute("style","display: block; position: absolute; top: 0; left: 0; width: 100%; height: 100%; overflow: hidden; border: 0; opacity: 0; pointer-events: none; z-index: -1;"),i.setAttribute("aria-hidden","true"),i.tabIndex=-1;const o=os();let r;return o?(i.src="data:text/html,<script>onresize=function(){parent.postMessage(0,'*')}<\/script>",r=Se(window,"message",s=>{s.source===i.contentWindow&&t()})):(i.src="about:blank",i.onload=()=>{r=Se(i.contentWindow,"resize",t),t()}),L(e,i),()=>{(o||r&&i.contentWindow)&&r(),B(i)}}function fe(e,t,n){e.classList.toggle(t,!!n)}function ls(e,t,{bubbles:n=!1,cancelable:i=!1}={}){return new CustomEvent(e,{detail:t,bubbles:n,cancelable:i})}function Nn(e,t){return new e(t)}let an;function un(e){an=e}function Xt(){if(!an)throw new Error("Function called outside component initialization");return an}function fn(e){Xt().$$.on_mount.push(e)}function _i(e){Xt().$$.on_destroy.push(e)}function cn(){const e=Xt();return(t,n,{cancelable:i=!1}={})=>{const o=e.$$.callbacks[t];if(o){const r=ls(t,n,{cancelable:i});return o.slice().forEach(s=>{s.call(e,r)}),!r.defaultPrevented}return!0}}function An(e,t){return Xt().$$.context.set(e,t),t}function Dn(e){return Xt().$$.context.get(e)}function ss(e){return Xt().$$.context.has(e)}function pe(e,t){const n=e.$$.callbacks[t.type];n&&n.slice().forEach(i=>i.call(this,t))}const Yt=[],dn=[];let Wt=[];const go=[],as=Promise.resolve();let bi=!1;function us(){bi||(bi=!0,as.then(mo))}function On(e){Wt.push(e)}const wi=new Set;let Lt=0;function mo(){if(Lt!==0)return;const e=an;do{try{for(;Lt<Yt.length;){const t=Yt[Lt];Lt++,un(t),fs(t.$$)}}catch(t){throw Yt.length=0,Lt=0,t}for(un(null),Yt.length=0,Lt=0;dn.length;)dn.pop()();for(let t=0;t<Wt.length;t+=1){const n=Wt[t];wi.has(n)||(wi.add(n),n())}Wt.length=0}while(Yt.length);for(;go.length;)go.pop()();bi=!1,wi.clear(),un(e)}function fs(e){if(e.fragment!==null){e.update(),Ye(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(On)}}function cs(e){const t=[],n=[];Wt.forEach(i=>e.indexOf(i)===-1?t.push(i):n.push(i)),n.forEach(i=>i()),Wt=t}const Tn=new Set;let zt;function Te(){zt={r:0,c:[],p:zt}}function He(){zt.r||Ye(zt.c),zt=zt.p}function R(e,t){e&&e.i&&(Tn.delete(e),e.i(t))}function Y(e,t,n,i){if(e&&e.o){if(Tn.has(e))return;Tn.add(e),zt.c.push(()=>{Tn.delete(e),i&&(n&&e.d(1),i())}),e.o(t)}else i&&i()}function je(e){return(e==null?void 0:e.length)!==void 0?e:Array.from(e)}function Hn(e,t){Y(e,1,1,()=>{t.delete(e.key)})}function In(e,t,n,i,o,r,s,l,a,u,f,c){let d=e.length,h=r.length,m=d;const y={};for(;m--;)y[e[m].key]=m;const _=[],g=new Map,C=new Map,k=[];for(m=h;m--;){const E=c(o,r,m),N=n(E);let A=s.get(N);A?k.push(()=>A.p(E,t)):(A=u(N,E),A.c()),g.set(N,_[m]=A),N in y&&C.set(N,Math.abs(m-y[N]))}const v=new Set,D=new Set;function O(E){R(E,1),E.m(l,f),s.set(E.key,E),f=E.first,h--}for(;d&&h;){const E=_[h-1],N=e[d-1],A=E.key,W=N.key;E===N?(f=E.first,d--,h--):g.has(W)?!s.has(A)||v.has(A)?O(E):D.has(W)?d--:C.get(A)>C.get(W)?(D.add(A),O(E)):(v.add(W),d--):(a(N,s),d--)}for(;d--;){const E=e[d];g.has(E.key)||a(E,s)}for(;h;)O(_[h-1]);return Ye(k),_}function dt(e,t){const n={},i={},o={$$scope:1};let r=e.length;for(;r--;){const s=e[r],l=t[r];if(l){for(const a in s)a in l||(i[a]=1);for(const a in l)o[a]||(n[a]=l[a],o[a]=1);e[r]=l}else for(const a in s)o[a]=1}for(const s in i)s in n||(n[s]=void 0);return n}function Bt(e){return typeof e=="object"&&e!==null?e:{}}function le(e){e&&e.c()}function ne(e,t,n){const{fragment:i,after_update:o}=e.$$;i&&i.m(t,n),On(()=>{const r=e.$$.on_mount.map(Mt).filter(Ae);e.$$.on_destroy?e.$$.on_destroy.push(...r):Ye(r),e.$$.on_mount=[]}),o.forEach(On)}function ie(e,t){const n=e.$$;n.fragment!==null&&(cs(n.after_update),Ye(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function ds(e,t){e.$$.dirty[0]===-1&&(Yt.push(e),us(),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function he(e,t,n,i,o,r,s=null,l=[-1]){const a=an;un(e);const u=e.$$={fragment:null,ctx:[],props:r,update:ce,not_equal:o,bound:ao(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(t.context||(a?a.$$.context:[])),callbacks:ao(),dirty:l,skip_bound:!1,root:t.target||a.$$.root};s&&s(u.root);let f=!1;if(u.ctx=n?n(e,t.props||{},(c,d,...h)=>{const m=h.length?h[0]:d;return u.ctx&&o(u.ctx[c],u.ctx[c]=m)&&(!u.skip_bound&&u.bound[c]&&u.bound[c](m),f&&ds(e,c)),d}):[],u.update(),f=!0,Ye(u.before_update),u.fragment=i?i(u.ctx):!1,t.target){if(t.hydrate){const c=is(t.target);u.fragment&&u.fragment.l(c),c.forEach(B)}else u.fragment&&u.fragment.c();t.intro&&R(e.$$.fragment),ne(e,t.target,t.anchor),mo()}un(a)}class ge{constructor(){so(this,"$$");so(this,"$$set")}$destroy(){ie(this,1),this.$destroy=ce}$on(t,n){if(!Ae(n))return ce;const i=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return i.push(n),()=>{const o=i.indexOf(n);o!==-1&&i.splice(o,1)}}$set(t){this.$$set&&!$l(t)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}const hs="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(hs);const Kt=[];function xe(e,t){return{subscribe:oe(e,t).subscribe}}function oe(e,t=ce){let n;const i=new Set;function o(l){if(me(e,l)&&(e=l,n)){const a=!Kt.length;for(const u of i)u[1](),Kt.push(u,e);if(a){for(let u=0;u<Kt.length;u+=2)Kt[u][0](Kt[u+1]);Kt.length=0}}}function r(l){o(l(e))}function s(l,a=ce){const u=[l,a];return i.add(u),i.size===1&&(n=t(o,r)||ce),l(e),()=>{i.delete(u),i.size===0&&n&&(n(),n=null)}}return{set:o,update:r,subscribe:s}}function Ft(e,t,n){const i=!Array.isArray(e),o=i?[e]:e;if(!o.every(Boolean))throw new Error("derived() expects stores as input, got a falsy value");const r=t.length<2;return xe(n,(s,l)=>{let a=!1;const u=[];let f=0,c=ce;const d=()=>{if(f)return;c();const m=t(i?u[0]:u,s,l);r?s(m):c=Ae(m)?m:ce},h=o.map((m,y)=>sn(m,_=>{u[y]=_,f&=~(1<<y),a&&d()},()=>{f|=1<<y}));return a=!0,d(),function(){Ye(h),c(),a=!1}})}function Ee(e){if(typeof e=="string"||typeof e=="number")return""+e;let t="";if(Array.isArray(e))for(let n=0,i;n<e.length;n++)(i=Ee(e[n]))!==""&&(t+=(t&&" ")+i);else for(let n in e)e[n]&&(t+=(t&&" ")+n);return t}var gs={value:()=>{}};function Vn(){for(var e=0,t=arguments.length,n={},i;e<t;++e){if(!(i=arguments[e]+"")||i in n||/[\s.]/.test(i))throw new Error("illegal type: "+i);n[i]=[]}return new Rn(n)}function Rn(e){this._=e}function ms(e,t){return e.trim().split(/^|\s+/).map(function(n){var i="",o=n.indexOf(".");if(o>=0&&(i=n.slice(o+1),n=n.slice(0,o)),n&&!t.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:i}})}Rn.prototype=Vn.prototype={constructor:Rn,on:function(e,t){var n=this._,i=ms(e+"",n),o,r=-1,s=i.length;if(arguments.length<2){for(;++r<s;)if((o=(e=i[r]).type)&&(o=ys(n[o],e.name)))return o;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++r<s;)if(o=(e=i[r]).type)n[o]=yo(n[o],e.name,t);else if(t==null)for(o in n)n[o]=yo(n[o],e.name,null);return this},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new Rn(e)},call:function(e,t){if((o=arguments.length-2)>0)for(var n=new Array(o),i=0,o,r;i<o;++i)n[i]=arguments[i+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(r=this._[e],i=0,o=r.length;i<o;++i)r[i].value.apply(t,n)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var i=this._[e],o=0,r=i.length;o<r;++o)i[o].value.apply(t,n)}};function ys(e,t){for(var n=0,i=e.length,o;n<i;++n)if((o=e[n]).name===t)return o.value}function yo(e,t,n){for(var i=0,o=e.length;i<o;++i)if(e[i].name===t){e[i]=gs,e=e.slice(0,i).concat(e.slice(i+1));break}return n!=null&&e.push({name:t,value:n}),e}var ki="http://www.w3.org/1999/xhtml";const _o={svg:"http://www.w3.org/2000/svg",xhtml:ki,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Xn(e){var t=e+="",n=t.indexOf(":");return n>=0&&(t=e.slice(0,n))!=="xmlns"&&(e=e.slice(n+1)),_o.hasOwnProperty(t)?{space:_o[t],local:e}:e}function _s(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===ki&&t.documentElement.namespaceURI===ki?t.createElement(e):t.createElementNS(n,e)}}function bs(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function bo(e){var t=Xn(e);return(t.local?bs:_s)(t)}function ws(){}function vi(e){return e==null?ws:function(){return this.querySelector(e)}}function ks(e){typeof e!="function"&&(e=vi(e));for(var t=this._groups,n=t.length,i=new Array(n),o=0;o<n;++o)for(var r=t[o],s=r.length,l=i[o]=new Array(s),a,u,f=0;f<s;++f)(a=r[f])&&(u=e.call(a,a.__data__,f,r))&&("__data__"in a&&(u.__data__=a.__data__),l[f]=u);return new Qe(i,this._parents)}function vs(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function ps(){return[]}function wo(e){return e==null?ps:function(){return this.querySelectorAll(e)}}function Ss(e){return function(){return vs(e.apply(this,arguments))}}function Cs(e){typeof e=="function"?e=Ss(e):e=wo(e);for(var t=this._groups,n=t.length,i=[],o=[],r=0;r<n;++r)for(var s=t[r],l=s.length,a,u=0;u<l;++u)(a=s[u])&&(i.push(e.call(a,a.__data__,u,s)),o.push(a));return new Qe(i,o)}function ko(e){return function(){return this.matches(e)}}function vo(e){return function(t){return t.matches(e)}}var Es=Array.prototype.find;function Ms(e){return function(){return Es.call(this.children,e)}}function zs(){return this.firstElementChild}function Ps(e){return this.select(e==null?zs:Ms(typeof e=="function"?e:vo(e)))}var Ns=Array.prototype.filter;function As(){return Array.from(this.children)}function Ds(e){return function(){return Ns.call(this.children,e)}}function Os(e){return this.selectAll(e==null?As:Ds(typeof e=="function"?e:vo(e)))}function Ts(e){typeof e!="function"&&(e=ko(e));for(var t=this._groups,n=t.length,i=new Array(n),o=0;o<n;++o)for(var r=t[o],s=r.length,l=i[o]=[],a,u=0;u<s;++u)(a=r[u])&&e.call(a,a.__data__,u,r)&&l.push(a);return new Qe(i,this._parents)}function po(e){return new Array(e.length)}function Hs(){return new Qe(this._enter||this._groups.map(po),this._parents)}function Yn(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}Yn.prototype={constructor:Yn,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function Is(e){return function(){return e}}function Vs(e,t,n,i,o,r){for(var s=0,l,a=t.length,u=r.length;s<u;++s)(l=t[s])?(l.__data__=r[s],i[s]=l):n[s]=new Yn(e,r[s]);for(;s<a;++s)(l=t[s])&&(o[s]=l)}function Rs(e,t,n,i,o,r,s){var l,a,u=new Map,f=t.length,c=r.length,d=new Array(f),h;for(l=0;l<f;++l)(a=t[l])&&(d[l]=h=s.call(a,a.__data__,l,t)+"",u.has(h)?o[l]=a:u.set(h,a));for(l=0;l<c;++l)h=s.call(e,r[l],l,r)+"",(a=u.get(h))?(i[l]=a,a.__data__=r[l],u.delete(h)):n[l]=new Yn(e,r[l]);for(l=0;l<f;++l)(a=t[l])&&u.get(d[l])===a&&(o[l]=a)}function Xs(e){return e.__data__}function Ys(e,t){if(!arguments.length)return Array.from(this,Xs);var n=t?Rs:Vs,i=this._parents,o=this._groups;typeof e!="function"&&(e=Is(e));for(var r=o.length,s=new Array(r),l=new Array(r),a=new Array(r),u=0;u<r;++u){var f=i[u],c=o[u],d=c.length,h=Ws(e.call(f,f&&f.__data__,u,i)),m=h.length,y=l[u]=new Array(m),_=s[u]=new Array(m),g=a[u]=new Array(d);n(f,c,y,_,g,h,t);for(var C=0,k=0,v,D;C<m;++C)if(v=y[C]){for(C>=k&&(k=C+1);!(D=_[k])&&++k<m;);v._next=D||null}}return s=new Qe(s,i),s._enter=l,s._exit=a,s}function Ws(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function Ls(){return new Qe(this._exit||this._groups.map(po),this._parents)}function Bs(e,t,n){var i=this.enter(),o=this,r=this.exit();return typeof e=="function"?(i=e(i),i&&(i=i.selection())):i=i.append(e+""),t!=null&&(o=t(o),o&&(o=o.selection())),n==null?r.remove():n(r),i&&o?i.merge(o).order():o}function Ks(e){for(var t=e.selection?e.selection():e,n=this._groups,i=t._groups,o=n.length,r=i.length,s=Math.min(o,r),l=new Array(o),a=0;a<s;++a)for(var u=n[a],f=i[a],c=u.length,d=l[a]=new Array(c),h,m=0;m<c;++m)(h=u[m]||f[m])&&(d[m]=h);for(;a<o;++a)l[a]=n[a];return new Qe(l,this._parents)}function Fs(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var i=e[t],o=i.length-1,r=i[o],s;--o>=0;)(s=i[o])&&(r&&s.compareDocumentPosition(r)^4&&r.parentNode.insertBefore(s,r),r=s);return this}function qs(e){e||(e=Zs);function t(c,d){return c&&d?e(c.__data__,d.__data__):!c-!d}for(var n=this._groups,i=n.length,o=new Array(i),r=0;r<i;++r){for(var s=n[r],l=s.length,a=o[r]=new Array(l),u,f=0;f<l;++f)(u=s[f])&&(a[f]=u);a.sort(t)}return new Qe(o,this._parents).order()}function Zs(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function Gs(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function Us(){return Array.from(this)}function Js(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var i=e[t],o=0,r=i.length;o<r;++o){var s=i[o];if(s)return s}return null}function Qs(){let e=0;for(const t of this)++e;return e}function js(){return!this.node()}function xs(e){for(var t=this._groups,n=0,i=t.length;n<i;++n)for(var o=t[n],r=0,s=o.length,l;r<s;++r)(l=o[r])&&e.call(l,l.__data__,r,o);return this}function $s(e){return function(){this.removeAttribute(e)}}function ea(e){return function(){this.removeAttributeNS(e.space,e.local)}}function ta(e,t){return function(){this.setAttribute(e,t)}}function na(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function ia(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttribute(e):this.setAttribute(e,n)}}function oa(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function ra(e,t){var n=Xn(e);if(arguments.length<2){var i=this.node();return n.local?i.getAttributeNS(n.space,n.local):i.getAttribute(n)}return this.each((t==null?n.local?ea:$s:typeof t=="function"?n.local?oa:ia:n.local?na:ta)(n,t))}function So(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function la(e){return function(){this.style.removeProperty(e)}}function sa(e,t,n){return function(){this.style.setProperty(e,t,n)}}function aa(e,t,n){return function(){var i=t.apply(this,arguments);i==null?this.style.removeProperty(e):this.style.setProperty(e,i,n)}}function ua(e,t,n){return arguments.length>1?this.each((t==null?la:typeof t=="function"?aa:sa)(e,t,n??"")):qt(this.node(),e)}function qt(e,t){return e.style.getPropertyValue(t)||So(e).getComputedStyle(e,null).getPropertyValue(t)}function fa(e){return function(){delete this[e]}}function ca(e,t){return function(){this[e]=t}}function da(e,t){return function(){var n=t.apply(this,arguments);n==null?delete this[e]:this[e]=n}}function ha(e,t){return arguments.length>1?this.each((t==null?fa:typeof t=="function"?da:ca)(e,t)):this.node()[e]}function Co(e){return e.trim().split(/^|\s+/)}function pi(e){return e.classList||new Eo(e)}function Eo(e){this._node=e,this._names=Co(e.getAttribute("class")||"")}Eo.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function Mo(e,t){for(var n=pi(e),i=-1,o=t.length;++i<o;)n.add(t[i])}function zo(e,t){for(var n=pi(e),i=-1,o=t.length;++i<o;)n.remove(t[i])}function ga(e){return function(){Mo(this,e)}}function ma(e){return function(){zo(this,e)}}function ya(e,t){return function(){(t.apply(this,arguments)?Mo:zo)(this,e)}}function _a(e,t){var n=Co(e+"");if(arguments.length<2){for(var i=pi(this.node()),o=-1,r=n.length;++o<r;)if(!i.contains(n[o]))return!1;return!0}return this.each((typeof t=="function"?ya:t?ga:ma)(n,t))}function ba(){this.textContent=""}function wa(e){return function(){this.textContent=e}}function ka(e){return function(){var t=e.apply(this,arguments);this.textContent=t??""}}function va(e){return arguments.length?this.each(e==null?ba:(typeof e=="function"?ka:wa)(e)):this.node().textContent}function pa(){this.innerHTML=""}function Sa(e){return function(){this.innerHTML=e}}function Ca(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t??""}}function Ea(e){return arguments.length?this.each(e==null?pa:(typeof e=="function"?Ca:Sa)(e)):this.node().innerHTML}function Ma(){this.nextSibling&&this.parentNode.appendChild(this)}function za(){return this.each(Ma)}function Pa(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function Na(){return this.each(Pa)}function Aa(e){var t=typeof e=="function"?e:bo(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function Da(){return null}function Oa(e,t){var n=typeof e=="function"?e:bo(e),i=t==null?Da:typeof t=="function"?t:vi(t);return this.select(function(){return this.insertBefore(n.apply(this,arguments),i.apply(this,arguments)||null)})}function Ta(){var e=this.parentNode;e&&e.removeChild(this)}function Ha(){return this.each(Ta)}function Ia(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function Va(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function Ra(e){return this.select(e?Va:Ia)}function Xa(e){return arguments.length?this.property("__data__",e):this.node().__data__}function Ya(e){return function(t){e.call(this,t,this.__data__)}}function Wa(e){return e.trim().split(/^|\s+/).map(function(t){var n="",i=t.indexOf(".");return i>=0&&(n=t.slice(i+1),t=t.slice(0,i)),{type:t,name:n}})}function La(e){return function(){var t=this.__on;if(t){for(var n=0,i=-1,o=t.length,r;n<o;++n)r=t[n],(!e.type||r.type===e.type)&&r.name===e.name?this.removeEventListener(r.type,r.listener,r.options):t[++i]=r;++i?t.length=i:delete this.__on}}}function Ba(e,t,n){return function(){var i=this.__on,o,r=Ya(t);if(i){for(var s=0,l=i.length;s<l;++s)if((o=i[s]).type===e.type&&o.name===e.name){this.removeEventListener(o.type,o.listener,o.options),this.addEventListener(o.type,o.listener=r,o.options=n),o.value=t;return}}this.addEventListener(e.type,r,n),o={type:e.type,name:e.name,value:t,listener:r,options:n},i?i.push(o):this.__on=[o]}}function Ka(e,t,n){var i=Wa(e+""),o,r=i.length,s;if(arguments.length<2){var l=this.node().__on;if(l){for(var a=0,u=l.length,f;a<u;++a)for(o=0,f=l[a];o<r;++o)if((s=i[o]).type===f.type&&s.name===f.name)return f.value}return}for(l=t?Ba:La,o=0;o<r;++o)this.each(l(i[o],t,n));return this}function Po(e,t,n){var i=So(e),o=i.CustomEvent;typeof o=="function"?o=new o(t,n):(o=i.document.createEvent("Event"),n?(o.initEvent(t,n.bubbles,n.cancelable),o.detail=n.detail):o.initEvent(t,!1,!1)),e.dispatchEvent(o)}function Fa(e,t){return function(){return Po(this,e,t)}}function qa(e,t){return function(){return Po(this,e,t.apply(this,arguments))}}function Za(e,t){return this.each((typeof t=="function"?qa:Fa)(e,t))}function*Ga(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var i=e[t],o=0,r=i.length,s;o<r;++o)(s=i[o])&&(yield s)}var No=[null];function Qe(e,t){this._groups=e,this._parents=t}function hn(){return new Qe([[document.documentElement]],No)}function Ua(){return this}Qe.prototype=hn.prototype={constructor:Qe,select:ks,selectAll:Cs,selectChild:Ps,selectChildren:Os,filter:Ts,data:Ys,enter:Hs,exit:Ls,join:Bs,merge:Ks,selection:Ua,order:Fs,sort:qs,call:Gs,nodes:Us,node:Js,size:Qs,empty:js,each:xs,attr:ra,style:ua,property:ha,classed:_a,text:va,html:Ea,raise:za,lower:Na,append:Aa,insert:Oa,remove:Ha,clone:Ra,datum:Xa,on:Ka,dispatch:Za,[Symbol.iterator]:Ga};function $e(e){return typeof e=="string"?new Qe([[document.querySelector(e)]],[document.documentElement]):new Qe([[e]],No)}function Ja(e){let t;for(;t=e.sourceEvent;)e=t;return e}function it(e,t){if(e=Ja(e),t===void 0&&(t=e.currentTarget),t){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var i=n.createSVGPoint();return i.x=e.clientX,i.y=e.clientY,i=i.matrixTransform(t.getScreenCTM().inverse()),[i.x,i.y]}if(t.getBoundingClientRect){var o=t.getBoundingClientRect();return[e.clientX-o.left-t.clientLeft,e.clientY-o.top-t.clientTop]}}return[e.pageX,e.pageY]}const Qa={passive:!1},gn={capture:!0,passive:!1};function Si(e){e.stopImmediatePropagation()}function Zt(e){e.preventDefault(),e.stopImmediatePropagation()}function Ao(e){var t=e.document.documentElement,n=$e(e).on("dragstart.drag",Zt,gn);"onselectstart"in t?n.on("selectstart.drag",Zt,gn):(t.__noselect=t.style.MozUserSelect,t.style.MozUserSelect="none")}function Do(e,t){var n=e.document.documentElement,i=$e(e).on("dragstart.drag",null);t&&(i.on("click.drag",Zt,gn),setTimeout(function(){i.on("click.drag",null)},0)),"onselectstart"in n?i.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}const Wn=e=>()=>e;function Ci(e,{sourceEvent:t,subject:n,target:i,identifier:o,active:r,x:s,y:l,dx:a,dy:u,dispatch:f}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},subject:{value:n,enumerable:!0,configurable:!0},target:{value:i,enumerable:!0,configurable:!0},identifier:{value:o,enumerable:!0,configurable:!0},active:{value:r,enumerable:!0,configurable:!0},x:{value:s,enumerable:!0,configurable:!0},y:{value:l,enumerable:!0,configurable:!0},dx:{value:a,enumerable:!0,configurable:!0},dy:{value:u,enumerable:!0,configurable:!0},_:{value:f}})}Ci.prototype.on=function(){var e=this._.on.apply(this._,arguments);return e===this._?this:e};function ja(e){return!e.ctrlKey&&!e.button}function xa(){return this.parentNode}function $a(e,t){return t??{x:e.x,y:e.y}}function eu(){return navigator.maxTouchPoints||"ontouchstart"in this}function tu(){var e=ja,t=xa,n=$a,i=eu,o={},r=Vn("start","drag","end"),s=0,l,a,u,f,c=0;function d(v){v.on("mousedown.drag",h).filter(i).on("touchstart.drag",_).on("touchmove.drag",g,Qa).on("touchend.drag touchcancel.drag",C).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function h(v,D){if(!(f||!e.call(this,v,D))){var O=k(this,t.call(this,v,D),v,D,"mouse");O&&($e(v.view).on("mousemove.drag",m,gn).on("mouseup.drag",y,gn),Ao(v.view),Si(v),u=!1,l=v.clientX,a=v.clientY,O("start",v))}}function m(v){if(Zt(v),!u){var D=v.clientX-l,O=v.clientY-a;u=D*D+O*O>c}o.mouse("drag",v)}function y(v){$e(v.view).on("mousemove.drag mouseup.drag",null),Do(v.view,u),Zt(v),o.mouse("end",v)}function _(v,D){if(e.call(this,v,D)){var O=v.changedTouches,E=t.call(this,v,D),N=O.length,A,W;for(A=0;A<N;++A)(W=k(this,E,v,D,O[A].identifier,O[A]))&&(Si(v),W("start",v,O[A]))}}function g(v){var D=v.changedTouches,O=D.length,E,N;for(E=0;E<O;++E)(N=o[D[E].identifier])&&(Zt(v),N("drag",v,D[E]))}function C(v){var D=v.changedTouches,O=D.length,E,N;for(f&&clearTimeout(f),f=setTimeout(function(){f=null},500),E=0;E<O;++E)(N=o[D[E].identifier])&&(Si(v),N("end",v,D[E]))}function k(v,D,O,E,N,A){var W=r.copy(),J=it(A||O,D),Z,T,b;if((b=n.call(v,new Ci("beforestart",{sourceEvent:O,target:d,identifier:N,active:s,x:J[0],y:J[1],dx:0,dy:0,dispatch:W}),E))!=null)return Z=b.x-J[0]||0,T=b.y-J[1]||0,function S(p,z,H){var I=J,X;switch(p){case"start":o[N]=S,X=s++;break;case"end":delete o[N],--s;case"drag":J=it(H||z,D),X=s;break}W.call(p,v,new Ci(p,{sourceEvent:z,subject:b,target:d,identifier:N,active:X,x:J[0]+Z,y:J[1]+T,dx:J[0]-I[0],dy:J[1]-I[1],dispatch:W}),E)}}return d.filter=function(v){return arguments.length?(e=typeof v=="function"?v:Wn(!!v),d):e},d.container=function(v){return arguments.length?(t=typeof v=="function"?v:Wn(v),d):t},d.subject=function(v){return arguments.length?(n=typeof v=="function"?v:Wn(v),d):n},d.touchable=function(v){return arguments.length?(i=typeof v=="function"?v:Wn(!!v),d):i},d.on=function(){var v=r.on.apply(r,arguments);return v===r?d:v},d.clickDistance=function(v){return arguments.length?(c=(v=+v)*v,d):Math.sqrt(c)},d}function Ei(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function Oo(e,t){var n=Object.create(e.prototype);for(var i in t)n[i]=t[i];return n}function mn(){}var yn=.7,Ln=1/yn,Gt="\\s*([+-]?\\d+)\\s*",_n="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",st="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",nu=/^#([0-9a-f]{3,8})$/,iu=new RegExp(`^rgb\\(${Gt},${Gt},${Gt}\\)$`),ou=new RegExp(`^rgb\\(${st},${st},${st}\\)$`),ru=new RegExp(`^rgba\\(${Gt},${Gt},${Gt},${_n}\\)$`),lu=new RegExp(`^rgba\\(${st},${st},${st},${_n}\\)$`),su=new RegExp(`^hsl\\(${_n},${st},${st}\\)$`),au=new RegExp(`^hsla\\(${_n},${st},${st},${_n}\\)$`),To={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Ei(mn,bn,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:Ho,formatHex:Ho,formatHex8:uu,formatHsl:fu,formatRgb:Io,toString:Io});function Ho(){return this.rgb().formatHex()}function uu(){return this.rgb().formatHex8()}function fu(){return Wo(this).formatHsl()}function Io(){return this.rgb().formatRgb()}function bn(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=nu.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?Vo(t):n===3?new Je(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?Bn(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?Bn(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=iu.exec(e))?new Je(t[1],t[2],t[3],1):(t=ou.exec(e))?new Je(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=ru.exec(e))?Bn(t[1],t[2],t[3],t[4]):(t=lu.exec(e))?Bn(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=su.exec(e))?Yo(t[1],t[2]/100,t[3]/100,1):(t=au.exec(e))?Yo(t[1],t[2]/100,t[3]/100,t[4]):To.hasOwnProperty(e)?Vo(To[e]):e==="transparent"?new Je(NaN,NaN,NaN,0):null}function Vo(e){return new Je(e>>16&255,e>>8&255,e&255,1)}function Bn(e,t,n,i){return i<=0&&(e=t=n=NaN),new Je(e,t,n,i)}function cu(e){return e instanceof mn||(e=bn(e)),e?(e=e.rgb(),new Je(e.r,e.g,e.b,e.opacity)):new Je}function Mi(e,t,n,i){return arguments.length===1?cu(e):new Je(e,t,n,i??1)}function Je(e,t,n,i){this.r=+e,this.g=+t,this.b=+n,this.opacity=+i}Ei(Je,Mi,Oo(mn,{brighter(e){return e=e==null?Ln:Math.pow(Ln,e),new Je(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?yn:Math.pow(yn,e),new Je(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Je(Pt(this.r),Pt(this.g),Pt(this.b),Kn(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Ro,formatHex:Ro,formatHex8:du,formatRgb:Xo,toString:Xo}));function Ro(){return`#${Nt(this.r)}${Nt(this.g)}${Nt(this.b)}`}function du(){return`#${Nt(this.r)}${Nt(this.g)}${Nt(this.b)}${Nt((isNaN(this.opacity)?1:this.opacity)*255)}`}function Xo(){const e=Kn(this.opacity);return`${e===1?"rgb(":"rgba("}${Pt(this.r)}, ${Pt(this.g)}, ${Pt(this.b)}${e===1?")":`, ${e})`}`}function Kn(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Pt(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Nt(e){return e=Pt(e),(e<16?"0":"")+e.toString(16)}function Yo(e,t,n,i){return i<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new ot(e,t,n,i)}function Wo(e){if(e instanceof ot)return new ot(e.h,e.s,e.l,e.opacity);if(e instanceof mn||(e=bn(e)),!e)return new ot;if(e instanceof ot)return e;e=e.rgb();var t=e.r/255,n=e.g/255,i=e.b/255,o=Math.min(t,n,i),r=Math.max(t,n,i),s=NaN,l=r-o,a=(r+o)/2;return l?(t===r?s=(n-i)/l+(n<i)*6:n===r?s=(i-t)/l+2:s=(t-n)/l+4,l/=a<.5?r+o:2-r-o,s*=60):l=a>0&&a<1?0:s,new ot(s,l,a,e.opacity)}function hu(e,t,n,i){return arguments.length===1?Wo(e):new ot(e,t,n,i??1)}function ot(e,t,n,i){this.h=+e,this.s=+t,this.l=+n,this.opacity=+i}Ei(ot,hu,Oo(mn,{brighter(e){return e=e==null?Ln:Math.pow(Ln,e),new ot(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?yn:Math.pow(yn,e),new ot(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,i=n+(n<.5?n:1-n)*t,o=2*n-i;return new Je(zi(e>=240?e-240:e+120,o,i),zi(e,o,i),zi(e<120?e+240:e-120,o,i),this.opacity)},clamp(){return new ot(Lo(this.h),Fn(this.s),Fn(this.l),Kn(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Kn(this.opacity);return`${e===1?"hsl(":"hsla("}${Lo(this.h)}, ${Fn(this.s)*100}%, ${Fn(this.l)*100}%${e===1?")":`, ${e})`}`}}));function Lo(e){return e=(e||0)%360,e<0?e+360:e}function Fn(e){return Math.max(0,Math.min(1,e||0))}function zi(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const Bo=e=>()=>e;function gu(e,t){return function(n){return e+n*t}}function mu(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(i){return Math.pow(e+i*t,n)}}function yu(e){return(e=+e)==1?Ko:function(t,n){return n-t?mu(t,n,e):Bo(isNaN(t)?n:t)}}function Ko(e,t){var n=t-e;return n?gu(e,n):Bo(isNaN(e)?t:e)}const Fo=function e(t){var n=yu(t);function i(o,r){var s=n((o=Mi(o)).r,(r=Mi(r)).r),l=n(o.g,r.g),a=n(o.b,r.b),u=Ko(o.opacity,r.opacity);return function(f){return o.r=s(f),o.g=l(f),o.b=a(f),o.opacity=u(f),o+""}}return i.gamma=e,i}(1);function wt(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}var Pi=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Ni=new RegExp(Pi.source,"g");function _u(e){return function(){return e}}function bu(e){return function(t){return e(t)+""}}function wu(e,t){var n=Pi.lastIndex=Ni.lastIndex=0,i,o,r,s=-1,l=[],a=[];for(e=e+"",t=t+"";(i=Pi.exec(e))&&(o=Ni.exec(t));)(r=o.index)>n&&(r=t.slice(n,r),l[s]?l[s]+=r:l[++s]=r),(i=i[0])===(o=o[0])?l[s]?l[s]+=o:l[++s]=o:(l[++s]=null,a.push({i:s,x:wt(i,o)})),n=Ni.lastIndex;return n<t.length&&(r=t.slice(n),l[s]?l[s]+=r:l[++s]=r),l.length<2?a[0]?bu(a[0].x):_u(t):(t=a.length,function(u){for(var f=0,c;f<t;++f)l[(c=a[f]).i]=c.x(u);return l.join("")})}var qo=180/Math.PI,Ai={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function Zo(e,t,n,i,o,r){var s,l,a;return(s=Math.sqrt(e*e+t*t))&&(e/=s,t/=s),(a=e*n+t*i)&&(n-=e*a,i-=t*a),(l=Math.sqrt(n*n+i*i))&&(n/=l,i/=l,a/=l),e*i<t*n&&(e=-e,t=-t,a=-a,s=-s),{translateX:o,translateY:r,rotate:Math.atan2(t,e)*qo,skewX:Math.atan(a)*qo,scaleX:s,scaleY:l}}var qn;function ku(e){const t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?Ai:Zo(t.a,t.b,t.c,t.d,t.e,t.f)}function vu(e){return e==null||(qn||(qn=document.createElementNS("http://www.w3.org/2000/svg","g")),qn.setAttribute("transform",e),!(e=qn.transform.baseVal.consolidate()))?Ai:(e=e.matrix,Zo(e.a,e.b,e.c,e.d,e.e,e.f))}function Go(e,t,n,i){function o(u){return u.length?u.pop()+" ":""}function r(u,f,c,d,h,m){if(u!==c||f!==d){var y=h.push("translate(",null,t,null,n);m.push({i:y-4,x:wt(u,c)},{i:y-2,x:wt(f,d)})}else(c||d)&&h.push("translate("+c+t+d+n)}function s(u,f,c,d){u!==f?(u-f>180?f+=360:f-u>180&&(u+=360),d.push({i:c.push(o(c)+"rotate(",null,i)-2,x:wt(u,f)})):f&&c.push(o(c)+"rotate("+f+i)}function l(u,f,c,d){u!==f?d.push({i:c.push(o(c)+"skewX(",null,i)-2,x:wt(u,f)}):f&&c.push(o(c)+"skewX("+f+i)}function a(u,f,c,d,h,m){if(u!==c||f!==d){var y=h.push(o(h)+"scale(",null,",",null,")");m.push({i:y-4,x:wt(u,c)},{i:y-2,x:wt(f,d)})}else(c!==1||d!==1)&&h.push(o(h)+"scale("+c+","+d+")")}return function(u,f){var c=[],d=[];return u=e(u),f=e(f),r(u.translateX,u.translateY,f.translateX,f.translateY,c,d),s(u.rotate,f.rotate,c,d),l(u.skewX,f.skewX,c,d),a(u.scaleX,u.scaleY,f.scaleX,f.scaleY,c,d),u=f=null,function(h){for(var m=-1,y=d.length,_;++m<y;)c[(_=d[m]).i]=_.x(h);return c.join("")}}}var pu=Go(ku,"px, ","px)","deg)"),Su=Go(vu,", ",")",")"),Cu=1e-12;function Uo(e){return((e=Math.exp(e))+1/e)/2}function Eu(e){return((e=Math.exp(e))-1/e)/2}function Mu(e){return((e=Math.exp(2*e))-1)/(e+1)}const zu=function e(t,n,i){function o(r,s){var l=r[0],a=r[1],u=r[2],f=s[0],c=s[1],d=s[2],h=f-l,m=c-a,y=h*h+m*m,_,g;if(y<Cu)g=Math.log(d/u)/t,_=function(E){return[l+E*h,a+E*m,u*Math.exp(t*E*g)]};else{var C=Math.sqrt(y),k=(d*d-u*u+i*y)/(2*u*n*C),v=(d*d-u*u-i*y)/(2*d*n*C),D=Math.log(Math.sqrt(k*k+1)-k),O=Math.log(Math.sqrt(v*v+1)-v);g=(O-D)/t,_=function(E){var N=E*g,A=Uo(D),W=u/(n*C)*(A*Mu(t*N+D)-Eu(D));return[l+W*h,a+W*m,u*A/Uo(t*N+D)]}}return _.duration=g*1e3*t/Math.SQRT2,_}return o.rho=function(r){var s=Math.max(.001,+r),l=s*s,a=l*l;return e(s,l,a)},o}(Math.SQRT2,2,4);var Ut=0,wn=0,kn=0,Jo=1e3,Zn,vn,Gn=0,At=0,Un=0,pn=typeof performance=="object"&&performance.now?performance:Date,Qo=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function Di(){return At||(Qo(Pu),At=pn.now()+Un)}function Pu(){At=0}function Jn(){this._call=this._time=this._next=null}Jn.prototype=jo.prototype={constructor:Jn,restart:function(e,t,n){if(typeof e!="function")throw new TypeError("callback is not a function");n=(n==null?Di():+n)+(t==null?0:+t),!this._next&&vn!==this&&(vn?vn._next=this:Zn=this,vn=this),this._call=e,this._time=n,Oi()},stop:function(){this._call&&(this._call=null,this._time=1/0,Oi())}};function jo(e,t,n){var i=new Jn;return i.restart(e,t,n),i}function Nu(){Di(),++Ut;for(var e=Zn,t;e;)(t=At-e._time)>=0&&e._call.call(void 0,t),e=e._next;--Ut}function xo(){At=(Gn=pn.now())+Un,Ut=wn=0;try{Nu()}finally{Ut=0,Du(),At=0}}function Au(){var e=pn.now(),t=e-Gn;t>Jo&&(Un-=t,Gn=e)}function Du(){for(var e,t=Zn,n,i=1/0;t;)t._call?(i>t._time&&(i=t._time),e=t,t=t._next):(n=t._next,t._next=null,t=e?e._next=n:Zn=n);vn=e,Oi(i)}function Oi(e){if(!Ut){wn&&(wn=clearTimeout(wn));var t=e-At;t>24?(e<1/0&&(wn=setTimeout(xo,e-pn.now()-Un)),kn&&(kn=clearInterval(kn))):(kn||(Gn=pn.now(),kn=setInterval(Au,Jo)),Ut=1,Qo(xo))}}function $o(e,t,n){var i=new Jn;return t=t==null?0:+t,i.restart(o=>{i.stop(),e(o+t)},t,n),i}var Ou=Vn("start","end","cancel","interrupt"),Tu=[],er=0,tr=1,Ti=2,Qn=3,nr=4,Hi=5,jn=6;function xn(e,t,n,i,o,r){var s=e.__transition;if(!s)e.__transition={};else if(n in s)return;Hu(e,n,{name:t,index:i,group:o,on:Ou,tween:Tu,time:r.time,delay:r.delay,duration:r.duration,ease:r.ease,timer:null,state:er})}function Ii(e,t){var n=rt(e,t);if(n.state>er)throw new Error("too late; already scheduled");return n}function at(e,t){var n=rt(e,t);if(n.state>Qn)throw new Error("too late; already running");return n}function rt(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}function Hu(e,t,n){var i=e.__transition,o;i[t]=n,n.timer=jo(r,0,n.time);function r(u){n.state=tr,n.timer.restart(s,n.delay,n.time),n.delay<=u&&s(u-n.delay)}function s(u){var f,c,d,h;if(n.state!==tr)return a();for(f in i)if(h=i[f],h.name===n.name){if(h.state===Qn)return $o(s);h.state===nr?(h.state=jn,h.timer.stop(),h.on.call("interrupt",e,e.__data__,h.index,h.group),delete i[f]):+f<t&&(h.state=jn,h.timer.stop(),h.on.call("cancel",e,e.__data__,h.index,h.group),delete i[f])}if($o(function(){n.state===Qn&&(n.state=nr,n.timer.restart(l,n.delay,n.time),l(u))}),n.state=Ti,n.on.call("start",e,e.__data__,n.index,n.group),n.state===Ti){for(n.state=Qn,o=new Array(d=n.tween.length),f=0,c=-1;f<d;++f)(h=n.tween[f].value.call(e,e.__data__,n.index,n.group))&&(o[++c]=h);o.length=c+1}}function l(u){for(var f=u<n.duration?n.ease.call(null,u/n.duration):(n.timer.restart(a),n.state=Hi,1),c=-1,d=o.length;++c<d;)o[c].call(e,f);n.state===Hi&&(n.on.call("end",e,e.__data__,n.index,n.group),a())}function a(){n.state=jn,n.timer.stop(),delete i[t];for(var u in i)return;delete e.__transition}}function $n(e,t){var n=e.__transition,i,o,r=!0,s;if(n){t=t==null?null:t+"";for(s in n){if((i=n[s]).name!==t){r=!1;continue}o=i.state>Ti&&i.state<Hi,i.state=jn,i.timer.stop(),i.on.call(o?"interrupt":"cancel",e,e.__data__,i.index,i.group),delete n[s]}r&&delete e.__transition}}function Iu(e){return this.each(function(){$n(this,e)})}function Vu(e,t){var n,i;return function(){var o=at(this,e),r=o.tween;if(r!==n){i=n=r;for(var s=0,l=i.length;s<l;++s)if(i[s].name===t){i=i.slice(),i.splice(s,1);break}}o.tween=i}}function Ru(e,t,n){var i,o;if(typeof n!="function")throw new Error;return function(){var r=at(this,e),s=r.tween;if(s!==i){o=(i=s).slice();for(var l={name:t,value:n},a=0,u=o.length;a<u;++a)if(o[a].name===t){o[a]=l;break}a===u&&o.push(l)}r.tween=o}}function Xu(e,t){var n=this._id;if(e+="",arguments.length<2){for(var i=rt(this.node(),n).tween,o=0,r=i.length,s;o<r;++o)if((s=i[o]).name===e)return s.value;return null}return this.each((t==null?Vu:Ru)(n,e,t))}function Vi(e,t,n){var i=e._id;return e.each(function(){var o=at(this,i);(o.value||(o.value={}))[t]=n.apply(this,arguments)}),function(o){return rt(o,i).value[t]}}function ir(e,t){var n;return(typeof t=="number"?wt:t instanceof bn?Fo:(n=bn(t))?(t=n,Fo):wu)(e,t)}function Yu(e){return function(){this.removeAttribute(e)}}function Wu(e){return function(){this.removeAttributeNS(e.space,e.local)}}function Lu(e,t,n){var i,o=n+"",r;return function(){var s=this.getAttribute(e);return s===o?null:s===i?r:r=t(i=s,n)}}function Bu(e,t,n){var i,o=n+"",r;return function(){var s=this.getAttributeNS(e.space,e.local);return s===o?null:s===i?r:r=t(i=s,n)}}function Ku(e,t,n){var i,o,r;return function(){var s,l=n(this),a;return l==null?void this.removeAttribute(e):(s=this.getAttribute(e),a=l+"",s===a?null:s===i&&a===o?r:(o=a,r=t(i=s,l)))}}function Fu(e,t,n){var i,o,r;return function(){var s,l=n(this),a;return l==null?void this.removeAttributeNS(e.space,e.local):(s=this.getAttributeNS(e.space,e.local),a=l+"",s===a?null:s===i&&a===o?r:(o=a,r=t(i=s,l)))}}function qu(e,t){var n=Xn(e),i=n==="transform"?Su:ir;return this.attrTween(e,typeof t=="function"?(n.local?Fu:Ku)(n,i,Vi(this,"attr."+e,t)):t==null?(n.local?Wu:Yu)(n):(n.local?Bu:Lu)(n,i,t))}function Zu(e,t){return function(n){this.setAttribute(e,t.call(this,n))}}function Gu(e,t){return function(n){this.setAttributeNS(e.space,e.local,t.call(this,n))}}function Uu(e,t){var n,i;function o(){var r=t.apply(this,arguments);return r!==i&&(n=(i=r)&&Gu(e,r)),n}return o._value=t,o}function Ju(e,t){var n,i;function o(){var r=t.apply(this,arguments);return r!==i&&(n=(i=r)&&Zu(e,r)),n}return o._value=t,o}function Qu(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;var i=Xn(e);return this.tween(n,(i.local?Uu:Ju)(i,t))}function ju(e,t){return function(){Ii(this,e).delay=+t.apply(this,arguments)}}function xu(e,t){return t=+t,function(){Ii(this,e).delay=t}}function $u(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?ju:xu)(t,e)):rt(this.node(),t).delay}function ef(e,t){return function(){at(this,e).duration=+t.apply(this,arguments)}}function tf(e,t){return t=+t,function(){at(this,e).duration=t}}function nf(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?ef:tf)(t,e)):rt(this.node(),t).duration}function of(e,t){if(typeof t!="function")throw new Error;return function(){at(this,e).ease=t}}function rf(e){var t=this._id;return arguments.length?this.each(of(t,e)):rt(this.node(),t).ease}function lf(e,t){return function(){var n=t.apply(this,arguments);if(typeof n!="function")throw new Error;at(this,e).ease=n}}function sf(e){if(typeof e!="function")throw new Error;return this.each(lf(this._id,e))}function af(e){typeof e!="function"&&(e=ko(e));for(var t=this._groups,n=t.length,i=new Array(n),o=0;o<n;++o)for(var r=t[o],s=r.length,l=i[o]=[],a,u=0;u<s;++u)(a=r[u])&&e.call(a,a.__data__,u,r)&&l.push(a);return new ht(i,this._parents,this._name,this._id)}function uf(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,i=t.length,o=n.length,r=Math.min(i,o),s=new Array(i),l=0;l<r;++l)for(var a=t[l],u=n[l],f=a.length,c=s[l]=new Array(f),d,h=0;h<f;++h)(d=a[h]||u[h])&&(c[h]=d);for(;l<i;++l)s[l]=t[l];return new ht(s,this._parents,this._name,this._id)}function ff(e){return(e+"").trim().split(/^|\s+/).every(function(t){var n=t.indexOf(".");return n>=0&&(t=t.slice(0,n)),!t||t==="start"})}function cf(e,t,n){var i,o,r=ff(t)?Ii:at;return function(){var s=r(this,e),l=s.on;l!==i&&(o=(i=l).copy()).on(t,n),s.on=o}}function df(e,t){var n=this._id;return arguments.length<2?rt(this.node(),n).on.on(e):this.each(cf(n,e,t))}function hf(e){return function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}}function gf(){return this.on("end.remove",hf(this._id))}function mf(e){var t=this._name,n=this._id;typeof e!="function"&&(e=vi(e));for(var i=this._groups,o=i.length,r=new Array(o),s=0;s<o;++s)for(var l=i[s],a=l.length,u=r[s]=new Array(a),f,c,d=0;d<a;++d)(f=l[d])&&(c=e.call(f,f.__data__,d,l))&&("__data__"in f&&(c.__data__=f.__data__),u[d]=c,xn(u[d],t,n,d,u,rt(f,n)));return new ht(r,this._parents,t,n)}function yf(e){var t=this._name,n=this._id;typeof e!="function"&&(e=wo(e));for(var i=this._groups,o=i.length,r=[],s=[],l=0;l<o;++l)for(var a=i[l],u=a.length,f,c=0;c<u;++c)if(f=a[c]){for(var d=e.call(f,f.__data__,c,a),h,m=rt(f,n),y=0,_=d.length;y<_;++y)(h=d[y])&&xn(h,t,n,y,d,m);r.push(d),s.push(f)}return new ht(r,s,t,n)}var _f=hn.prototype.constructor;function bf(){return new _f(this._groups,this._parents)}function wf(e,t){var n,i,o;return function(){var r=qt(this,e),s=(this.style.removeProperty(e),qt(this,e));return r===s?null:r===n&&s===i?o:o=t(n=r,i=s)}}function or(e){return function(){this.style.removeProperty(e)}}function kf(e,t,n){var i,o=n+"",r;return function(){var s=qt(this,e);return s===o?null:s===i?r:r=t(i=s,n)}}function vf(e,t,n){var i,o,r;return function(){var s=qt(this,e),l=n(this),a=l+"";return l==null&&(a=l=(this.style.removeProperty(e),qt(this,e))),s===a?null:s===i&&a===o?r:(o=a,r=t(i=s,l))}}function pf(e,t){var n,i,o,r="style."+t,s="end."+r,l;return function(){var a=at(this,e),u=a.on,f=a.value[r]==null?l||(l=or(t)):void 0;(u!==n||o!==f)&&(i=(n=u).copy()).on(s,o=f),a.on=i}}function Sf(e,t,n){var i=(e+="")=="transform"?pu:ir;return t==null?this.styleTween(e,wf(e,i)).on("end.style."+e,or(e)):typeof t=="function"?this.styleTween(e,vf(e,i,Vi(this,"style."+e,t))).each(pf(this._id,e)):this.styleTween(e,kf(e,i,t),n).on("end.style."+e,null)}function Cf(e,t,n){return function(i){this.style.setProperty(e,t.call(this,i),n)}}function Ef(e,t,n){var i,o;function r(){var s=t.apply(this,arguments);return s!==o&&(i=(o=s)&&Cf(e,s,n)),i}return r._value=t,r}function Mf(e,t,n){var i="style."+(e+="");if(arguments.length<2)return(i=this.tween(i))&&i._value;if(t==null)return this.tween(i,null);if(typeof t!="function")throw new Error;return this.tween(i,Ef(e,t,n??""))}function zf(e){return function(){this.textContent=e}}function Pf(e){return function(){var t=e(this);this.textContent=t??""}}function Nf(e){return this.tween("text",typeof e=="function"?Pf(Vi(this,"text",e)):zf(e==null?"":e+""))}function Af(e){return function(t){this.textContent=e.call(this,t)}}function Df(e){var t,n;function i(){var o=e.apply(this,arguments);return o!==n&&(t=(n=o)&&Af(o)),t}return i._value=e,i}function Of(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;return this.tween(t,Df(e))}function Tf(){for(var e=this._name,t=this._id,n=rr(),i=this._groups,o=i.length,r=0;r<o;++r)for(var s=i[r],l=s.length,a,u=0;u<l;++u)if(a=s[u]){var f=rt(a,t);xn(a,e,n,u,s,{time:f.time+f.delay+f.duration,delay:0,duration:f.duration,ease:f.ease})}return new ht(i,this._parents,e,n)}function Hf(){var e,t,n=this,i=n._id,o=n.size();return new Promise(function(r,s){var l={value:s},a={value:function(){--o===0&&r()}};n.each(function(){var u=at(this,i),f=u.on;f!==e&&(t=(e=f).copy(),t._.cancel.push(l),t._.interrupt.push(l),t._.end.push(a)),u.on=t}),o===0&&r()})}var If=0;function ht(e,t,n,i){this._groups=e,this._parents=t,this._name=n,this._id=i}function rr(){return++If}var gt=hn.prototype;ht.prototype={constructor:ht,select:mf,selectAll:yf,selectChild:gt.selectChild,selectChildren:gt.selectChildren,filter:af,merge:uf,selection:bf,transition:Tf,call:gt.call,nodes:gt.nodes,node:gt.node,size:gt.size,empty:gt.empty,each:gt.each,on:df,attr:qu,attrTween:Qu,style:Sf,styleTween:Mf,text:Nf,textTween:Of,remove:gf,tween:Xu,delay:$u,duration:nf,ease:rf,easeVarying:sf,end:Hf,[Symbol.iterator]:gt[Symbol.iterator]};function Vf(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var Rf={time:null,delay:0,duration:250,ease:Vf};function Xf(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return n}function Yf(e){var t,n;e instanceof ht?(t=e._id,e=e._name):(t=rr(),(n=Rf).time=Di(),e=e==null?null:e+"");for(var i=this._groups,o=i.length,r=0;r<o;++r)for(var s=i[r],l=s.length,a,u=0;u<l;++u)(a=s[u])&&xn(a,e,t,u,s,n||Xf(a,t));return new ht(i,this._parents,e,t)}hn.prototype.interrupt=Iu,hn.prototype.transition=Yf;const ei=e=>()=>e;function Wf(e,{sourceEvent:t,target:n,transform:i,dispatch:o}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:i,enumerable:!0,configurable:!0},_:{value:o}})}function mt(e,t,n){this.k=e,this.x=t,this.y=n}mt.prototype={constructor:mt,scale:function(e){return e===1?this:new mt(this.k*e,this.x,this.y)},translate:function(e,t){return e===0&t===0?this:new mt(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var ti=new mt(1,0,0);lr.prototype=mt.prototype;function lr(e){for(;!e.__zoom;)if(!(e=e.parentNode))return ti;return e.__zoom}function Ri(e){e.stopImmediatePropagation()}function Sn(e){e.preventDefault(),e.stopImmediatePropagation()}function Lf(e){return(!e.ctrlKey||e.type==="wheel")&&!e.button}function Bf(){var e=this;return e instanceof SVGElement?(e=e.ownerSVGElement||e,e.hasAttribute("viewBox")?(e=e.viewBox.baseVal,[[e.x,e.y],[e.x+e.width,e.y+e.height]]):[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]):[[0,0],[e.clientWidth,e.clientHeight]]}function sr(){return this.__zoom||ti}function Kf(e){return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*(e.ctrlKey?10:1)}function Ff(){return navigator.maxTouchPoints||"ontouchstart"in this}function qf(e,t,n){var i=e.invertX(t[0][0])-n[0][0],o=e.invertX(t[1][0])-n[1][0],r=e.invertY(t[0][1])-n[0][1],s=e.invertY(t[1][1])-n[1][1];return e.translate(o>i?(i+o)/2:Math.min(0,i)||Math.max(0,o),s>r?(r+s)/2:Math.min(0,r)||Math.max(0,s))}function ar(){var e=Lf,t=Bf,n=qf,i=Kf,o=Ff,r=[0,1/0],s=[[-1/0,-1/0],[1/0,1/0]],l=250,a=zu,u=Vn("start","zoom","end"),f,c,d,h=500,m=150,y=0,_=10;function g(b){b.property("__zoom",sr).on("wheel.zoom",N,{passive:!1}).on("mousedown.zoom",A).on("dblclick.zoom",W).filter(o).on("touchstart.zoom",J).on("touchmove.zoom",Z).on("touchend.zoom touchcancel.zoom",T).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}g.transform=function(b,S,p,z){var H=b.selection?b.selection():b;H.property("__zoom",sr),b!==H?D(b,S,p,z):H.interrupt().each(function(){O(this,arguments).event(z).start().zoom(null,typeof S=="function"?S.apply(this,arguments):S).end()})},g.scaleBy=function(b,S,p,z){g.scaleTo(b,function(){var H=this.__zoom.k,I=typeof S=="function"?S.apply(this,arguments):S;return H*I},p,z)},g.scaleTo=function(b,S,p,z){g.transform(b,function(){var H=t.apply(this,arguments),I=this.__zoom,X=p==null?v(H):typeof p=="function"?p.apply(this,arguments):p,G=I.invert(X),j=typeof S=="function"?S.apply(this,arguments):S;return n(k(C(I,j),X,G),H,s)},p,z)},g.translateBy=function(b,S,p,z){g.transform(b,function(){return n(this.__zoom.translate(typeof S=="function"?S.apply(this,arguments):S,typeof p=="function"?p.apply(this,arguments):p),t.apply(this,arguments),s)},null,z)},g.translateTo=function(b,S,p,z,H){g.transform(b,function(){var I=t.apply(this,arguments),X=this.__zoom,G=z==null?v(I):typeof z=="function"?z.apply(this,arguments):z;return n(ti.translate(G[0],G[1]).scale(X.k).translate(typeof S=="function"?-S.apply(this,arguments):-S,typeof p=="function"?-p.apply(this,arguments):-p),I,s)},z,H)};function C(b,S){return S=Math.max(r[0],Math.min(r[1],S)),S===b.k?b:new mt(S,b.x,b.y)}function k(b,S,p){var z=S[0]-p[0]*b.k,H=S[1]-p[1]*b.k;return z===b.x&&H===b.y?b:new mt(b.k,z,H)}function v(b){return[(+b[0][0]+ +b[1][0])/2,(+b[0][1]+ +b[1][1])/2]}function D(b,S,p,z){b.on("start.zoom",function(){O(this,arguments).event(z).start()}).on("interrupt.zoom end.zoom",function(){O(this,arguments).event(z).end()}).tween("zoom",function(){var H=this,I=arguments,X=O(H,I).event(z),G=t.apply(H,I),j=p==null?v(G):typeof p=="function"?p.apply(H,I):p,x=Math.max(G[1][0]-G[0][0],G[1][1]-G[0][1]),V=H.__zoom,ee=typeof S=="function"?S.apply(H,I):S,re=a(V.invert(j).concat(x/V.k),ee.invert(j).concat(x/ee.k));return function(q){if(q===1)q=ee;else{var ke=re(q),Q=x/ke[2];q=new mt(Q,j[0]-ke[0]*Q,j[1]-ke[1]*Q)}X.zoom(null,q)}})}function O(b,S,p){return!p&&b.__zooming||new E(b,S)}function E(b,S){this.that=b,this.args=S,this.active=0,this.sourceEvent=null,this.extent=t.apply(b,S),this.taps=0}E.prototype={event:function(b){return b&&(this.sourceEvent=b),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(b,S){return this.mouse&&b!=="mouse"&&(this.mouse[1]=S.invert(this.mouse[0])),this.touch0&&b!=="touch"&&(this.touch0[1]=S.invert(this.touch0[0])),this.touch1&&b!=="touch"&&(this.touch1[1]=S.invert(this.touch1[0])),this.that.__zoom=S,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(b){var S=$e(this.that).datum();u.call(b,this.that,new Wf(b,{sourceEvent:this.sourceEvent,target:g,transform:this.that.__zoom,dispatch:u}),S)}};function N(b,...S){if(!e.apply(this,arguments))return;var p=O(this,S).event(b),z=this.__zoom,H=Math.max(r[0],Math.min(r[1],z.k*Math.pow(2,i.apply(this,arguments)))),I=it(b);if(p.wheel)(p.mouse[0][0]!==I[0]||p.mouse[0][1]!==I[1])&&(p.mouse[1]=z.invert(p.mouse[0]=I)),clearTimeout(p.wheel);else{if(z.k===H)return;p.mouse=[I,z.invert(I)],$n(this),p.start()}Sn(b),p.wheel=setTimeout(X,m),p.zoom("mouse",n(k(C(z,H),p.mouse[0],p.mouse[1]),p.extent,s));function X(){p.wheel=null,p.end()}}function A(b,...S){if(d||!e.apply(this,arguments))return;var p=b.currentTarget,z=O(this,S,!0).event(b),H=$e(b.view).on("mousemove.zoom",j,!0).on("mouseup.zoom",x,!0),I=it(b,p),X=b.clientX,G=b.clientY;Ao(b.view),Ri(b),z.mouse=[I,this.__zoom.invert(I)],$n(this),z.start();function j(V){if(Sn(V),!z.moved){var ee=V.clientX-X,re=V.clientY-G;z.moved=ee*ee+re*re>y}z.event(V).zoom("mouse",n(k(z.that.__zoom,z.mouse[0]=it(V,p),z.mouse[1]),z.extent,s))}function x(V){H.on("mousemove.zoom mouseup.zoom",null),Do(V.view,z.moved),Sn(V),z.event(V).end()}}function W(b,...S){if(e.apply(this,arguments)){var p=this.__zoom,z=it(b.changedTouches?b.changedTouches[0]:b,this),H=p.invert(z),I=p.k*(b.shiftKey?.5:2),X=n(k(C(p,I),z,H),t.apply(this,S),s);Sn(b),l>0?$e(this).transition().duration(l).call(D,X,z,b):$e(this).call(g.transform,X,z,b)}}function J(b,...S){if(e.apply(this,arguments)){var p=b.touches,z=p.length,H=O(this,S,b.changedTouches.length===z).event(b),I,X,G,j;for(Ri(b),X=0;X<z;++X)G=p[X],j=it(G,this),j=[j,this.__zoom.invert(j),G.identifier],H.touch0?!H.touch1&&H.touch0[2]!==j[2]&&(H.touch1=j,H.taps=0):(H.touch0=j,I=!0,H.taps=1+!!f);f&&(f=clearTimeout(f)),I&&(H.taps<2&&(c=j[0],f=setTimeout(function(){f=null},h)),$n(this),H.start())}}function Z(b,...S){if(this.__zooming){var p=O(this,S).event(b),z=b.changedTouches,H=z.length,I,X,G,j;for(Sn(b),I=0;I<H;++I)X=z[I],G=it(X,this),p.touch0&&p.touch0[2]===X.identifier?p.touch0[0]=G:p.touch1&&p.touch1[2]===X.identifier&&(p.touch1[0]=G);if(X=p.that.__zoom,p.touch1){var x=p.touch0[0],V=p.touch0[1],ee=p.touch1[0],re=p.touch1[1],q=(q=ee[0]-x[0])*q+(q=ee[1]-x[1])*q,ke=(ke=re[0]-V[0])*ke+(ke=re[1]-V[1])*ke;X=C(X,Math.sqrt(q/ke)),G=[(x[0]+ee[0])/2,(x[1]+ee[1])/2],j=[(V[0]+re[0])/2,(V[1]+re[1])/2]}else if(p.touch0)G=p.touch0[0],j=p.touch0[1];else return;p.zoom("touch",n(k(X,G,j),p.extent,s))}}function T(b,...S){if(this.__zooming){var p=O(this,S).event(b),z=b.changedTouches,H=z.length,I,X;for(Ri(b),d&&clearTimeout(d),d=setTimeout(function(){d=null},h),I=0;I<H;++I)X=z[I],p.touch0&&p.touch0[2]===X.identifier?delete p.touch0:p.touch1&&p.touch1[2]===X.identifier&&delete p.touch1;if(p.touch1&&!p.touch0&&(p.touch0=p.touch1,delete p.touch1),p.touch0)p.touch0[1]=this.__zoom.invert(p.touch0[0]);else if(p.end(),p.taps===2&&(X=it(X,this),Math.hypot(c[0]-X[0],c[1]-X[1])<_)){var G=$e(this).on("dblclick.zoom");G&&G.apply(this,arguments)}}}return g.wheelDelta=function(b){return arguments.length?(i=typeof b=="function"?b:ei(+b),g):i},g.filter=function(b){return arguments.length?(e=typeof b=="function"?b:ei(!!b),g):e},g.touchable=function(b){return arguments.length?(o=typeof b=="function"?b:ei(!!b),g):o},g.extent=function(b){return arguments.length?(t=typeof b=="function"?b:ei([[+b[0][0],+b[0][1]],[+b[1][0],+b[1][1]]]),g):t},g.scaleExtent=function(b){return arguments.length?(r[0]=+b[0],r[1]=+b[1],g):[r[0],r[1]]},g.translateExtent=function(b){return arguments.length?(s[0][0]=+b[0][0],s[1][0]=+b[1][0],s[0][1]=+b[0][1],s[1][1]=+b[1][1],g):[[s[0][0],s[0][1]],[s[1][0],s[1][1]]]},g.constrain=function(b){return arguments.length?(n=b,g):n},g.duration=function(b){return arguments.length?(l=+b,g):l},g.interpolate=function(b){return arguments.length?(a=b,g):a},g.on=function(){var b=u.on.apply(u,arguments);return b===u?g:b},g.clickDistance=function(b){return arguments.length?(y=(b=+b)*b,g):Math.sqrt(y)},g.tapDistance=function(b){return arguments.length?(_=+b,g):_},g}const Dt={error001:()=>"[React Flow]: Seems like you have not used zustand provider as an ancestor. Help: https://reactflow.dev/error#001",error002:()=>"It looks like you've created a new nodeTypes or edgeTypes object. If this wasn't on purpose please define the nodeTypes/edgeTypes outside of the component or memoize them.",error003:e=>`Node type "${e}" not found. Using fallback type "default".`,error004:()=>"The React Flow parent container needs a width and a height to render the graph.",error005:()=>"Only child nodes can use a parent extent.",error006:()=>"Can't create edge. An edge needs a source and a target.",error007:e=>`The old edge with id=${e} does not exist.`,error009:e=>`Marker type "${e}" doesn't exist.`,error008:(e,{id:t,sourceHandle:n,targetHandle:i})=>`Couldn't create edge for ${e} handle id: "${e==="source"?n:i}", edge id: ${t}.`,error010:()=>"Handle: No node id found. Make sure to only use a Handle inside a custom Node.",error011:e=>`Edge type "${e}" not found. Using fallback type "default".`,error012:e=>`Node with id "${e}" does not exist, it may have been removed. This can happen when a node is deleted before the "onNodeClick" handler is called.`,error013:(e="react")=>`It seems that you haven't loaded the styles. Please import '@xyflow/${e}/dist/style.css' or base.css to make sure everything is working properly.`,error014:()=>"useNodeConnections: No node ID found. Call useNodeConnections inside a custom Node or provide a node ID.",error015:()=>"It seems that you are trying to drag a node that is not initialized. Please use onNodesChange as explained in the docs."},ni=[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]];var Ot;(function(e){e.Strict="strict",e.Loose="loose"})(Ot||(Ot={}));var ut;(function(e){e.Free="free",e.Vertical="vertical",e.Horizontal="horizontal"})(ut||(ut={}));var ii;(function(e){e.Partial="partial",e.Full="full"})(ii||(ii={}));const Xi={inProgress:!1,isValid:null,from:null,fromHandle:null,fromPosition:null,fromNode:null,to:null,toHandle:null,toPosition:null,toNode:null};var Jt;(function(e){e.Bezier="default",e.Straight="straight",e.Step="step",e.SmoothStep="smoothstep",e.SimpleBezier="simplebezier"})(Jt||(Jt={}));var oi;(function(e){e.Arrow="arrow",e.ArrowClosed="arrowclosed"})(oi||(oi={}));var de;(function(e){e.Left="left",e.Top="top",e.Right="right",e.Bottom="bottom"})(de||(de={}));const ur={[de.Left]:de.Right,[de.Right]:de.Left,[de.Top]:de.Bottom,[de.Bottom]:de.Top};function Zf(e,t){if(!e&&!t)return!0;if(!e||!t||e.size!==t.size)return!1;if(!e.size&&!t.size)return!0;for(const n of e.keys())if(!t.has(n))return!1;return!0}function fr(e,t,n){if(!n)return;const i=[];e.forEach((o,r)=>{t!=null&&t.has(r)||i.push(o)}),i.length&&n(i)}function cr(e){return e===null?null:e?"valid":"invalid"}const Gf=e=>"id"in e&&"source"in e&&"target"in e,dr=e=>"id"in e&&"internals"in e&&!("source"in e)&&!("target"in e),Cn=(e,t=[0,0])=>{const{width:n,height:i}=kt(e),o=e.origin??t,r=n*o[0],s=i*o[1];return{x:e.position.x-r,y:e.position.y-s}},En=(e,t={})=>{if(e.size===0)return{x:0,y:0,width:0,height:0};let n={x:1/0,y:1/0,x2:-1/0,y2:-1/0};return e.forEach(i=>{if(t.filter===void 0||t.filter(i)){const o=Ki(i);n=Wi(n,o)}}),Bi(n)},hr=(e,t,[n,i,o]=[0,0,1],r=!1,s=!1)=>{const l={...li(t,[n,i,o]),width:t.width/o,height:t.height/o},a=[];for(const u of e.values()){const{measured:f,selectable:c=!0,hidden:d=!1}=u;if(s&&!c||d)continue;const h=f.width??u.width??u.initialWidth??null,m=f.height??u.height??u.initialHeight??null,y=Fi(l,ri(u)),_=(h??0)*(m??0),g=r&&y>0;(!u.internals.handleBounds||g||y>=_||u.dragging)&&a.push(u)}return a},Yi=(e,t)=>{const n=new Set;return e.forEach(i=>{n.add(i.id)}),t.filter(i=>n.has(i.source)||n.has(i.target))};function Uf(e,t){const n=new Map,i=t!=null&&t.nodes?new Set(t.nodes.map(o=>o.id)):null;return e.forEach(o=>{o.measured.width&&o.measured.height&&((t==null?void 0:t.includeHiddenNodes)||!o.hidden)&&(!i||i.has(o.id))&&n.set(o.id,o)}),n}async function Jf({nodes:e,width:t,height:n,panZoom:i,minZoom:o,maxZoom:r},s){if(e.size===0)return Promise.resolve(!0);const l=Uf(e,s),a=En(l),u=wr(a,t,n,(s==null?void 0:s.minZoom)??o,(s==null?void 0:s.maxZoom)??r,(s==null?void 0:s.padding)??.1);return await i.setViewport(u,{duration:s==null?void 0:s.duration}),Promise.resolve(!0)}function Qf({nodeId:e,nextPosition:t,nodeLookup:n,nodeOrigin:i=[0,0],nodeExtent:o,onError:r}){const s=n.get(e),l=s.parentId?n.get(s.parentId):void 0,{x:a,y:u}=l?l.internals.positionAbsolute:{x:0,y:0},f=s.origin??i;let c=o;if(s.extent==="parent"&&!s.expandParent)if(!l)r==null||r("005",Dt.error005());else{const h=l.measured.width,m=l.measured.height;h&&m&&(c=[[a,u],[a+h,u+m]])}else l&&xt(s.extent)&&(c=[[s.extent[0][0]+a,s.extent[0][1]+u],[s.extent[1][0]+a,s.extent[1][1]+u]]);const d=xt(c)?Tt(t,c,s.measured):t;return(s.measured.width===void 0||s.measured.height===void 0)&&(r==null||r("015",Dt.error015())),{position:{x:d.x-a+(s.measured.width??0)*f[0],y:d.y-u+(s.measured.height??0)*f[1]},positionAbsolute:d}}async function jf({nodesToRemove:e=[],edgesToRemove:t=[],nodes:n,edges:i,onBeforeDelete:o}){const r=new Set(e.map(d=>d.id)),s=[];for(const d of n){if(d.deletable===!1)continue;const h=r.has(d.id),m=!h&&d.parentId&&s.find(y=>y.id===d.parentId);(h||m)&&s.push(d)}const l=new Set(t.map(d=>d.id)),a=i.filter(d=>d.deletable!==!1),f=Yi(s,a);for(const d of a)l.has(d.id)&&!f.find(m=>m.id===d.id)&&f.push(d);if(!o)return{edges:f,nodes:s};const c=await o({nodes:s,edges:f});return typeof c=="boolean"?c?{edges:f,nodes:s}:{edges:[],nodes:[]}:c}const Qt=(e,t=0,n=1)=>Math.min(Math.max(e,t),n),Tt=(e={x:0,y:0},t,n)=>({x:Qt(e.x,t[0][0],t[1][0]-((n==null?void 0:n.width)??0)),y:Qt(e.y,t[0][1],t[1][1]-((n==null?void 0:n.height)??0))});function gr(e,t,n){const{width:i,height:o}=kt(n),{x:r,y:s}=n.internals.positionAbsolute;return Tt(e,[[r,s],[r+i,s+o]],t)}const mr=(e,t,n)=>e<t?Qt(Math.abs(e-t),1,t)/t:e>n?-Qt(Math.abs(e-n),1,t)/t:0,yr=(e,t,n=15,i=40)=>{const o=mr(e.x,i,t.width-i)*n,r=mr(e.y,i,t.height-i)*n;return[o,r]},Wi=(e,t)=>({x:Math.min(e.x,t.x),y:Math.min(e.y,t.y),x2:Math.max(e.x2,t.x2),y2:Math.max(e.y2,t.y2)}),Li=({x:e,y:t,width:n,height:i})=>({x:e,y:t,x2:e+n,y2:t+i}),Bi=({x:e,y:t,x2:n,y2:i})=>({x:e,y:t,width:n-e,height:i-t}),ri=(e,t=[0,0])=>{var o,r;const{x:n,y:i}=dr(e)?e.internals.positionAbsolute:Cn(e,t);return{x:n,y:i,width:((o=e.measured)==null?void 0:o.width)??e.width??e.initialWidth??0,height:((r=e.measured)==null?void 0:r.height)??e.height??e.initialHeight??0}},Ki=(e,t=[0,0])=>{var o,r;const{x:n,y:i}=dr(e)?e.internals.positionAbsolute:Cn(e,t);return{x:n,y:i,x2:n+(((o=e.measured)==null?void 0:o.width)??e.width??e.initialWidth??0),y2:i+(((r=e.measured)==null?void 0:r.height)??e.height??e.initialHeight??0)}},_r=(e,t)=>Bi(Wi(Li(e),Li(t))),Fi=(e,t)=>{const n=Math.max(0,Math.min(e.x+e.width,t.x+t.width)-Math.max(e.x,t.x)),i=Math.max(0,Math.min(e.y+e.height,t.y+t.height)-Math.max(e.y,t.y));return Math.ceil(n*i)},Ht=e=>!isNaN(e)&&isFinite(e),br=(e,t)=>{process.env.NODE_ENV==="development"&&console.warn(`[React Flow]: ${t} Help: https://reactflow.dev/error#${e}`)},qi=(e,t=[1,1])=>({x:t[0]*Math.round(e.x/t[0]),y:t[1]*Math.round(e.y/t[1])}),li=({x:e,y:t},[n,i,o],r=!1,s=[1,1])=>{const l={x:(e-n)/o,y:(t-i)/o};return r?qi(l,s):l},Zi=({x:e,y:t},[n,i,o])=>({x:e*o+n,y:t*o+i});function jt(e,t){if(typeof e=="number")return Math.floor((t-t/(1+e))*.5);if(typeof e=="string"&&e.endsWith("px")){const n=parseFloat(e);if(!Number.isNaN(n))return Math.floor(n)}if(typeof e=="string"&&e.endsWith("%")){const n=parseFloat(e);if(!Number.isNaN(n))return Math.floor(t*n*.01)}return console.error(`[React Flow] The padding value "${e}" is invalid. Please provide a number or a string with a valid unit (px or %).`),0}function xf(e,t,n){if(typeof e=="string"||typeof e=="number"){const i=jt(e,n),o=jt(e,t);return{top:i,right:o,bottom:i,left:o,x:o*2,y:i*2}}if(typeof e=="object"){const i=jt(e.top??e.y??0,n),o=jt(e.bottom??e.y??0,n),r=jt(e.left??e.x??0,t),s=jt(e.right??e.x??0,t);return{top:i,right:s,bottom:o,left:r,x:r+s,y:i+o}}return{top:0,right:0,bottom:0,left:0,x:0,y:0}}function $f(e,t,n,i,o,r){const{x:s,y:l}=Zi(e,[t,n,i]),{x:a,y:u}=Zi({x:e.x+e.width,y:e.y+e.height},[t,n,i]),f=o-a,c=r-u;return{left:Math.floor(s),top:Math.floor(l),right:Math.floor(f),bottom:Math.floor(c)}}const wr=(e,t,n,i,o,r)=>{const s=xf(r,t,n),l=(t-s.x)/e.width,a=(n-s.y)/e.height,u=Math.min(l,a),f=Qt(u,i,o),c=e.x+e.width/2,d=e.y+e.height/2,h=t/2-c*f,m=n/2-d*f,y=$f(e,h,m,f,t,n),_={left:Math.min(y.left-s.left,0),top:Math.min(y.top-s.top,0),right:Math.min(y.right-s.right,0),bottom:Math.min(y.bottom-s.bottom,0)};return{x:h-_.left+_.right,y:m-_.top+_.bottom,zoom:f}},si=()=>{var e;return typeof navigator<"u"&&((e=navigator==null?void 0:navigator.userAgent)==null?void 0:e.indexOf("Mac"))>=0};function xt(e){return e!==void 0&&e!=="parent"}function kt(e){var t,n;return{width:((t=e.measured)==null?void 0:t.width)??e.width??e.initialWidth??0,height:((n=e.measured)==null?void 0:n.height)??e.height??e.initialHeight??0}}function ai(e){var t,n;return(((t=e.measured)==null?void 0:t.width)??e.width??e.initialWidth)!==void 0&&(((n=e.measured)==null?void 0:n.height)??e.height??e.initialHeight)!==void 0}function ec(){let e,t;return{promise:new Promise((i,o)=>{e=i,t=o}),resolve:e,reject:t}}function Gi(e,{snapGrid:t=[0,0],snapToGrid:n=!1,transform:i,containerBounds:o}){const{x:r,y:s}=yt(e),l=li({x:r-((o==null?void 0:o.left)??0),y:s-((o==null?void 0:o.top)??0)},i),{x:a,y:u}=n?qi(l,t):l;return{xSnapped:a,ySnapped:u,...l}}const kr=e=>({width:e.offsetWidth,height:e.offsetHeight}),tc=e=>{var t;return((t=e==null?void 0:e.getRootNode)==null?void 0:t.call(e))||(window==null?void 0:window.document)},nc=["INPUT","SELECT","TEXTAREA"];function ic(e){var i,o;const t=((o=(i=e.composedPath)==null?void 0:i.call(e))==null?void 0:o[0])||e.target;return(t==null?void 0:t.nodeType)!==1?!1:nc.includes(t.nodeName)||t.hasAttribute("contenteditable")||!!t.closest(".nokey")}const vr=e=>"clientX"in e,yt=(e,t)=>{var r,s;const n=vr(e),i=n?e.clientX:(r=e.touches)==null?void 0:r[0].clientX,o=n?e.clientY:(s=e.touches)==null?void 0:s[0].clientY;return{x:i-((t==null?void 0:t.left)??0),y:o-((t==null?void 0:t.top)??0)}},pr=(e,t,n,i,o)=>{const r=t.querySelectorAll(`.${e}`);return!r||!r.length?null:Array.from(r).map(s=>{const l=s.getBoundingClientRect();return{id:s.getAttribute("data-handleid"),type:e,nodeId:o,position:s.getAttribute("data-handlepos"),x:(l.left-n.left)/i,y:(l.top-n.top)/i,...kr(s)}})};function oc({sourceX:e,sourceY:t,targetX:n,targetY:i,sourceControlX:o,sourceControlY:r,targetControlX:s,targetControlY:l}){const a=e*.125+o*.375+s*.375+n*.125,u=t*.125+r*.375+l*.375+i*.125,f=Math.abs(a-e),c=Math.abs(u-t);return[a,u,f,c]}function ui(e,t){return e>=0?.5*e:t*25*Math.sqrt(-e)}function Sr({pos:e,x1:t,y1:n,x2:i,y2:o,c:r}){switch(e){case de.Left:return[t-ui(t-i,r),n];case de.Right:return[t+ui(i-t,r),n];case de.Top:return[t,n-ui(n-o,r)];case de.Bottom:return[t,n+ui(o-n,r)]}}function Cr({sourceX:e,sourceY:t,sourcePosition:n=de.Bottom,targetX:i,targetY:o,targetPosition:r=de.Top,curvature:s=.25}){const[l,a]=Sr({pos:n,x1:e,y1:t,x2:i,y2:o,c:s}),[u,f]=Sr({pos:r,x1:i,y1:o,x2:e,y2:t,c:s}),[c,d,h,m]=oc({sourceX:e,sourceY:t,targetX:i,targetY:o,sourceControlX:l,sourceControlY:a,targetControlX:u,targetControlY:f});return[`M${e},${t} C${l},${a} ${u},${f} ${i},${o}`,c,d,h,m]}function Er({sourceX:e,sourceY:t,targetX:n,targetY:i}){const o=Math.abs(n-e)/2,r=n<e?n+o:n-o,s=Math.abs(i-t)/2,l=i<t?i+s:i-s;return[r,l,o,s]}function rc({sourceNode:e,targetNode:t,selected:n=!1,zIndex:i=0,elevateOnSelect:o=!1}){if(!o)return i;const r=n||t.selected||e.selected,s=Math.max(e.internals.z||0,t.internals.z||0,1e3);return i+(r?s:0)}function lc({sourceNode:e,targetNode:t,width:n,height:i,transform:o}){const r=Wi(Ki(e),Ki(t));r.x===r.x2&&(r.x2+=1),r.y===r.y2&&(r.y2+=1);const s={x:-o[0]/o[2],y:-o[1]/o[2],width:n/o[2],height:i/o[2]};return Fi(s,Bi(r))>0}const sc=({source:e,sourceHandle:t,target:n,targetHandle:i})=>`xy-edge__${e}${t||""}-${n}${i||""}`,ac=(e,t)=>t.some(n=>n.source===e.source&&n.target===e.target&&(n.sourceHandle===e.sourceHandle||!n.sourceHandle&&!e.sourceHandle)&&(n.targetHandle===e.targetHandle||!n.targetHandle&&!e.targetHandle)),uc=(e,t)=>{if(!e.source||!e.target)return br("006",Dt.error006()),t;let n;return Gf(e)?n={...e}:n={...e,id:sc(e)},ac(n,t)?t:(n.sourceHandle===null&&delete n.sourceHandle,n.targetHandle===null&&delete n.targetHandle,t.concat(n))};function Mr({sourceX:e,sourceY:t,targetX:n,targetY:i}){const[o,r,s,l]=Er({sourceX:e,sourceY:t,targetX:n,targetY:i});return[`M ${e},${t}L ${n},${i}`,o,r,s,l]}const zr={[de.Left]:{x:-1,y:0},[de.Right]:{x:1,y:0},[de.Top]:{x:0,y:-1},[de.Bottom]:{x:0,y:1}},fc=({source:e,sourcePosition:t=de.Bottom,target:n})=>t===de.Left||t===de.Right?e.x<n.x?{x:1,y:0}:{x:-1,y:0}:e.y<n.y?{x:0,y:1}:{x:0,y:-1},Pr=(e,t)=>Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2));function cc({source:e,sourcePosition:t=de.Bottom,target:n,targetPosition:i=de.Top,center:o,offset:r}){const s=zr[t],l=zr[i],a={x:e.x+s.x*r,y:e.y+s.y*r},u={x:n.x+l.x*r,y:n.y+l.y*r},f=fc({source:a,sourcePosition:t,target:u}),c=f.x!==0?"x":"y",d=f[c];let h=[],m,y;const _={x:0,y:0},g={x:0,y:0},[C,k,v,D]=Er({sourceX:e.x,sourceY:e.y,targetX:n.x,targetY:n.y});if(s[c]*l[c]===-1){m=o.x??C,y=o.y??k;const E=[{x:m,y:a.y},{x:m,y:u.y}],N=[{x:a.x,y},{x:u.x,y}];s[c]===d?h=c==="x"?E:N:h=c==="x"?N:E}else{const E=[{x:a.x,y:u.y}],N=[{x:u.x,y:a.y}];if(c==="x"?h=s.x===d?N:E:h=s.y===d?E:N,t===i){const T=Math.abs(e[c]-n[c]);if(T<=r){const b=Math.min(r-1,r-T);s[c]===d?_[c]=(a[c]>e[c]?-1:1)*b:g[c]=(u[c]>n[c]?-1:1)*b}}if(t!==i){const T=c==="x"?"y":"x",b=s[c]===l[T],S=a[T]>u[T],p=a[T]<u[T];(s[c]===1&&(!b&&S||b&&p)||s[c]!==1&&(!b&&p||b&&S))&&(h=c==="x"?E:N)}const A={x:a.x+_.x,y:a.y+_.y},W={x:u.x+g.x,y:u.y+g.y},J=Math.max(Math.abs(A.x-h[0].x),Math.abs(W.x-h[0].x)),Z=Math.max(Math.abs(A.y-h[0].y),Math.abs(W.y-h[0].y));J>=Z?(m=(A.x+W.x)/2,y=h[0].y):(m=h[0].x,y=(A.y+W.y)/2)}return[[e,{x:a.x+_.x,y:a.y+_.y},...h,{x:u.x+g.x,y:u.y+g.y},n],m,y,v,D]}function dc(e,t,n,i){const o=Math.min(Pr(e,t)/2,Pr(t,n)/2,i),{x:r,y:s}=t;if(e.x===r&&r===n.x||e.y===s&&s===n.y)return`L${r} ${s}`;if(e.y===s){const u=e.x<n.x?-1:1,f=e.y<n.y?1:-1;return`L ${r+o*u},${s}Q ${r},${s} ${r},${s+o*f}`}const l=e.x<n.x?1:-1,a=e.y<n.y?-1:1;return`L ${r},${s+o*a}Q ${r},${s} ${r+o*l},${s}`}function fi({sourceX:e,sourceY:t,sourcePosition:n=de.Bottom,targetX:i,targetY:o,targetPosition:r=de.Top,borderRadius:s=5,centerX:l,centerY:a,offset:u=20}){const[f,c,d,h,m]=cc({source:{x:e,y:t},sourcePosition:n,target:{x:i,y:o},targetPosition:r,center:{x:l,y:a},offset:u});return[f.reduce((_,g,C)=>{let k="";return C>0&&C<f.length-1?k=dc(f[C-1],g,f[C+1],s):k=`${C===0?"M":"L"}${g.x} ${g.y}`,_+=k,_},""),c,d,h,m]}function Nr(e){var t;return e&&!!(e.internals.handleBounds||(t=e.handles)!=null&&t.length)&&!!(e.measured.width||e.width||e.initialWidth)}function hc(e){var c;const{sourceNode:t,targetNode:n}=e;if(!Nr(t)||!Nr(n))return null;const i=t.internals.handleBounds||Ar(t.handles),o=n.internals.handleBounds||Ar(n.handles),r=Dr((i==null?void 0:i.source)??[],e.sourceHandle),s=Dr(e.connectionMode===Ot.Strict?(o==null?void 0:o.target)??[]:((o==null?void 0:o.target)??[]).concat((o==null?void 0:o.source)??[]),e.targetHandle);if(!r||!s)return(c=e.onError)==null||c.call(e,"008",Dt.error008(r?"target":"source",{id:e.id,sourceHandle:e.sourceHandle,targetHandle:e.targetHandle})),null;const l=(r==null?void 0:r.position)||de.Bottom,a=(s==null?void 0:s.position)||de.Top,u=Mn(t,r,l),f=Mn(n,s,a);return{sourceX:u.x,sourceY:u.y,targetX:f.x,targetY:f.y,sourcePosition:l,targetPosition:a}}function Ar(e){if(!e)return null;const t=[],n=[];for(const i of e)i.width=i.width??1,i.height=i.height??1,i.type==="source"?t.push(i):i.type==="target"&&n.push(i);return{source:t,target:n}}function Mn(e,t,n=de.Left,i=!1){const o=((t==null?void 0:t.x)??0)+e.internals.positionAbsolute.x,r=((t==null?void 0:t.y)??0)+e.internals.positionAbsolute.y,{width:s,height:l}=t??kt(e);if(i)return{x:o+s/2,y:r+l/2};switch((t==null?void 0:t.position)??n){case de.Top:return{x:o+s/2,y:r};case de.Right:return{x:o+s,y:r+l/2};case de.Bottom:return{x:o+s/2,y:r+l};case de.Left:return{x:o,y:r+l/2}}}function Dr(e,t){return e&&(t?e.find(n=>n.id===t):e[0])||null}function Ui(e,t){return e?typeof e=="string"?e:`${t?`${t}__`:""}${Object.keys(e).sort().map(i=>`${i}=${e[i]}`).join("&")}`:""}function gc(e,{id:t,defaultColor:n,defaultMarkerStart:i,defaultMarkerEnd:o}){const r=new Set;return e.reduce((s,l)=>([l.markerStart||i,l.markerEnd||o].forEach(a=>{if(a&&typeof a=="object"){const u=Ui(a,t);r.has(u)||(s.push({id:u,color:a.color||n,...a}),r.add(u))}}),s),[]).sort((s,l)=>s.id.localeCompare(l.id))}const Ji={nodeOrigin:[0,0],nodeExtent:ni,elevateNodesOnSelect:!0,defaults:{}},mc={...Ji,checkEquality:!0};function Qi(e,t){const n={...e};for(const i in t)t[i]!==void 0&&(n[i]=t[i]);return n}function yc(e,t,n){const i=Qi(Ji,n);for(const o of e.values())if(o.parentId)ji(o,e,t,i);else{const r=Cn(o,i.nodeOrigin),s=xt(o.extent)?o.extent:i.nodeExtent,l=Tt(r,s,kt(o));o.internals.positionAbsolute=l}}function Or(e,t,n,i){var a,u;const o=Qi(mc,i);let r=e.length>0;const s=new Map(t),l=o!=null&&o.elevateNodesOnSelect?1e3:0;t.clear(),n.clear();for(const f of e){let c=s.get(f.id);if(o.checkEquality&&f===(c==null?void 0:c.internals.userNode))t.set(f.id,c);else{const d=Cn(f,o.nodeOrigin),h=xt(f.extent)?f.extent:o.nodeExtent,m=Tt(d,h,kt(f));c={...o.defaults,...f,measured:{width:(a=f.measured)==null?void 0:a.width,height:(u=f.measured)==null?void 0:u.height},internals:{positionAbsolute:m,handleBounds:f.measured?c==null?void 0:c.internals.handleBounds:void 0,z:Tr(f,l),userNode:f}},t.set(f.id,c)}(c.measured===void 0||c.measured.width===void 0||c.measured.height===void 0)&&!c.hidden&&(r=!1),f.parentId&&ji(c,t,n,i)}return r}function _c(e,t){if(!e.parentId)return;const n=t.get(e.parentId);n?n.set(e.id,e):t.set(e.parentId,new Map([[e.id,e]]))}function ji(e,t,n,i){const{elevateNodesOnSelect:o,nodeOrigin:r,nodeExtent:s}=Qi(Ji,i),l=e.parentId,a=t.get(l);if(!a){console.warn(`Parent node ${l} not found. Please make sure that parent nodes are in front of their child nodes in the nodes array.`);return}_c(e,n);const u=o?1e3:0,{x:f,y:c,z:d}=bc(e,a,r,s,u),{positionAbsolute:h}=e.internals,m=f!==h.x||c!==h.y;(m||d!==e.internals.z)&&t.set(e.id,{...e,internals:{...e.internals,positionAbsolute:m?{x:f,y:c}:h,z:d}})}function Tr(e,t){return(Ht(e.zIndex)?e.zIndex:0)+(e.selected?t:0)}function bc(e,t,n,i,o){const{x:r,y:s}=t.internals.positionAbsolute,l=kt(e),a=Cn(e,n),u=xt(e.extent)?Tt(a,e.extent,l):a;let f=Tt({x:r+u.x,y:s+u.y},i,l);e.extent==="parent"&&(f=gr(f,l,t));const c=Tr(e,o),d=t.internals.z??0;return{x:f.x,y:f.y,z:d>c?d:c}}function wc(e,t,n,i=[0,0]){var s;const o=[],r=new Map;for(const l of e){const a=t.get(l.parentId);if(!a)continue;const u=((s=r.get(l.parentId))==null?void 0:s.expandedRect)??ri(a),f=_r(u,l.rect);r.set(l.parentId,{expandedRect:f,parent:a})}return r.size>0&&r.forEach(({expandedRect:l,parent:a},u)=>{var k;const f=a.internals.positionAbsolute,c=kt(a),d=a.origin??i,h=l.x<f.x?Math.round(Math.abs(f.x-l.x)):0,m=l.y<f.y?Math.round(Math.abs(f.y-l.y)):0,y=Math.max(c.width,Math.round(l.width)),_=Math.max(c.height,Math.round(l.height)),g=(y-c.width)*d[0],C=(_-c.height)*d[1];(h>0||m>0||g||C)&&(o.push({id:u,type:"position",position:{x:a.position.x-h+g,y:a.position.y-m+C}}),(k=n.get(u))==null||k.forEach(v=>{e.some(D=>D.id===v.id)||o.push({id:v.id,type:"position",position:{x:v.position.x+h,y:v.position.y+m}})})),(c.width<l.width||c.height<l.height||h||m)&&o.push({id:u,type:"dimensions",setAttributes:!0,dimensions:{width:y+(h?d[0]*h-g:0),height:_+(m?d[1]*m-C:0)}})}),o}function kc(e,t,n,i,o,r){const s=i==null?void 0:i.querySelector(".xyflow__viewport");let l=!1;if(!s)return{changes:[],updatedInternals:l};const a=[],u=window.getComputedStyle(s),{m22:f}=new window.DOMMatrixReadOnly(u.transform),c=[];for(const d of e.values()){const h=t.get(d.id);if(!h)continue;if(h.hidden){t.set(h.id,{...h,internals:{...h.internals,handleBounds:void 0}}),l=!0;continue}const m=kr(d.nodeElement),y=h.measured.width!==m.width||h.measured.height!==m.height;if(!!(m.width&&m.height&&(y||!h.internals.handleBounds||d.force))){const g=d.nodeElement.getBoundingClientRect(),C=xt(h.extent)?h.extent:r;let{positionAbsolute:k}=h.internals;h.parentId&&h.extent==="parent"?k=gr(k,m,t.get(h.parentId)):C&&(k=Tt(k,C,m));const v={...h,measured:m,internals:{...h.internals,positionAbsolute:k,handleBounds:{source:pr("source",d.nodeElement,g,f,h.id),target:pr("target",d.nodeElement,g,f,h.id)}}};t.set(h.id,v),h.parentId&&ji(v,t,n,{nodeOrigin:o}),l=!0,y&&(a.push({id:h.id,type:"dimensions",dimensions:m}),h.expandParent&&h.parentId&&c.push({id:h.id,parentId:h.parentId,rect:ri(v,o)}))}}if(c.length>0){const d=wc(c,t,n,o);a.push(...d)}return{changes:a,updatedInternals:l}}async function vc({delta:e,panZoom:t,transform:n,translateExtent:i,width:o,height:r}){if(!t||!e.x&&!e.y)return Promise.resolve(!1);const s=await t.setViewportConstrained({x:n[0]+e.x,y:n[1]+e.y,zoom:n[2]},[[0,0],[o,r]],i),l=!!s&&(s.x!==n[0]||s.y!==n[1]||s.k!==n[2]);return Promise.resolve(l)}function Hr(e,t,n,i,o,r){let s=o;const l=i.get(s)||new Map;i.set(s,l.set(n,t)),s=`${o}-${e}`;const a=i.get(s)||new Map;if(i.set(s,a.set(n,t)),r){s=`${o}-${e}-${r}`;const u=i.get(s)||new Map;i.set(s,u.set(n,t))}}function Ir(e,t,n){e.clear(),t.clear();for(const i of n){const{source:o,target:r,sourceHandle:s=null,targetHandle:l=null}=i,a={edgeId:i.id,source:o,target:r,sourceHandle:s,targetHandle:l},u=`${o}-${s}--${r}-${l}`,f=`${r}-${l}--${o}-${s}`;Hr("source",a,f,e,o,s),Hr("target",a,u,e,r,l),t.set(i.id,i)}}function Vr(e,t){if(!e.parentId)return!1;const n=t.get(e.parentId);return n?n.selected?!0:Vr(n,t):!1}function Rr(e,t,n){var o;let i=e;do{if((o=i==null?void 0:i.matches)!=null&&o.call(i,t))return!0;if(i===n)return!1;i=i==null?void 0:i.parentElement}while(i);return!1}function pc(e,t,n,i){const o=new Map;for(const[r,s]of e)if((s.selected||s.id===i)&&(!s.parentId||!Vr(s,e))&&(s.draggable||t&&typeof s.draggable>"u")){const l=e.get(r);l&&o.set(r,{id:r,position:l.position||{x:0,y:0},distance:{x:n.x-l.internals.positionAbsolute.x,y:n.y-l.internals.positionAbsolute.y},extent:l.extent,parentId:l.parentId,origin:l.origin,expandParent:l.expandParent,internals:{positionAbsolute:l.internals.positionAbsolute||{x:0,y:0}},measured:{width:l.measured.width??0,height:l.measured.height??0}})}return o}function xi({nodeId:e,dragItems:t,nodeLookup:n,dragging:i=!0}){var s,l,a;const o=[];for(const[u,f]of t){const c=(s=n.get(u))==null?void 0:s.internals.userNode;c&&o.push({...c,position:f.position,dragging:i})}if(!e)return[o[0],o];const r=(l=n.get(e))==null?void 0:l.internals.userNode;return[r?{...r,position:((a=t.get(e))==null?void 0:a.position)||r.position,dragging:i}:o[0],o]}function Sc({onNodeMouseDown:e,getStoreItems:t,onDragStart:n,onDrag:i,onDragStop:o}){let r={x:null,y:null},s=0,l=new Map,a=!1,u={x:0,y:0},f=null,c=!1,d=null,h=!1;function m({noDragClassName:_,handleSelector:g,domNode:C,isSelectable:k,nodeId:v,nodeClickDistance:D=0}){d=$e(C);function O({x:W,y:J},Z){const{nodeLookup:T,nodeExtent:b,snapGrid:S,snapToGrid:p,nodeOrigin:z,onNodeDrag:H,onSelectionDrag:I,onError:X,updateNodePositions:G}=t();r={x:W,y:J};let j=!1,x={x:0,y:0,x2:0,y2:0};if(l.size>1&&b){const V=En(l);x=Li(V)}for(const[V,ee]of l){if(!T.has(V))continue;let re={x:W-ee.distance.x,y:J-ee.distance.y};p&&(re=qi(re,S));let q=[[b[0][0],b[0][1]],[b[1][0],b[1][1]]];if(l.size>1&&b&&!ee.extent){const{positionAbsolute:ye}=ee.internals,be=ye.x-x.x+b[0][0],we=ye.x+ee.measured.width-x.x2+b[1][0],ze=ye.y-x.y+b[0][1],K=ye.y+ee.measured.height-x.y2+b[1][1];q=[[be,ze],[we,K]]}const{position:ke,positionAbsolute:Q}=Qf({nodeId:V,nextPosition:re,nodeLookup:T,nodeExtent:q,nodeOrigin:z,onError:X});j=j||ee.position.x!==ke.x||ee.position.y!==ke.y,ee.position=ke,ee.internals.positionAbsolute=Q}if(j&&(G(l,!0),Z&&(i||H||!v&&I))){const[V,ee]=xi({nodeId:v,dragItems:l,nodeLookup:T});i==null||i(Z,l,V,ee),H==null||H(Z,V,ee),v||I==null||I(Z,ee)}}async function E(){if(!f)return;const{transform:W,panBy:J,autoPanSpeed:Z,autoPanOnNodeDrag:T}=t();if(!T){a=!1,cancelAnimationFrame(s);return}const[b,S]=yr(u,f,Z);(b!==0||S!==0)&&(r.x=(r.x??0)-b/W[2],r.y=(r.y??0)-S/W[2],await J({x:b,y:S})&&O(r,null)),s=requestAnimationFrame(E)}function N(W){var j;const{nodeLookup:J,multiSelectionActive:Z,nodesDraggable:T,transform:b,snapGrid:S,snapToGrid:p,selectNodesOnDrag:z,onNodeDragStart:H,onSelectionDragStart:I,unselectNodesAndEdges:X}=t();c=!0,(!z||!k)&&!Z&&v&&((j=J.get(v))!=null&&j.selected||X()),k&&z&&v&&(e==null||e(v));const G=Gi(W.sourceEvent,{transform:b,snapGrid:S,snapToGrid:p,containerBounds:f});if(r=G,l=pc(J,T,G,v),l.size>0&&(n||H||!v&&I)){const[x,V]=xi({nodeId:v,dragItems:l,nodeLookup:J});n==null||n(W.sourceEvent,l,x,V),H==null||H(W.sourceEvent,x,V),v||I==null||I(W.sourceEvent,V)}}const A=tu().clickDistance(D).on("start",W=>{const{domNode:J,nodeDragThreshold:Z,transform:T,snapGrid:b,snapToGrid:S}=t();f=(J==null?void 0:J.getBoundingClientRect())||null,h=!1,Z===0&&N(W),r=Gi(W.sourceEvent,{transform:T,snapGrid:b,snapToGrid:S,containerBounds:f}),u=yt(W.sourceEvent,f)}).on("drag",W=>{const{autoPanOnNodeDrag:J,transform:Z,snapGrid:T,snapToGrid:b,nodeDragThreshold:S,nodeLookup:p}=t(),z=Gi(W.sourceEvent,{transform:Z,snapGrid:T,snapToGrid:b,containerBounds:f});if((W.sourceEvent.type==="touchmove"&&W.sourceEvent.touches.length>1||v&&!p.has(v))&&(h=!0),!h){if(!a&&J&&c&&(a=!0,E()),!c){const H=z.xSnapped-(r.x??0),I=z.ySnapped-(r.y??0);Math.sqrt(H*H+I*I)>S&&N(W)}(r.x!==z.xSnapped||r.y!==z.ySnapped)&&l&&c&&(u=yt(W.sourceEvent,f),O(z,W.sourceEvent))}}).on("end",W=>{if(!(!c||h)&&(a=!1,c=!1,cancelAnimationFrame(s),l.size>0)){const{nodeLookup:J,updateNodePositions:Z,onNodeDragStop:T,onSelectionDragStop:b}=t();if(Z(l,!1),o||T||!v&&b){const[S,p]=xi({nodeId:v,dragItems:l,nodeLookup:J,dragging:!1});o==null||o(W.sourceEvent,l,S,p),T==null||T(W.sourceEvent,S,p),v||b==null||b(W.sourceEvent,p)}}}).filter(W=>{const J=W.target;return!W.button&&(!_||!Rr(J,`.${_}`,C))&&(!g||Rr(J,g,C))});d.call(A)}function y(){d==null||d.on(".drag",null)}return{update:m,destroy:y}}function Cc(e,t,n){const i=[],o={x:e.x-n,y:e.y-n,width:n*2,height:n*2};for(const r of t.values())Fi(o,ri(r))>0&&i.push(r);return i}const Ec=250;function Mc(e,t,n,i){var l,a;let o=[],r=1/0;const s=Cc(e,n,t+Ec);for(const u of s){const f=[...((l=u.internals.handleBounds)==null?void 0:l.source)??[],...((a=u.internals.handleBounds)==null?void 0:a.target)??[]];for(const c of f){if(i.nodeId===c.nodeId&&i.type===c.type&&i.id===c.id)continue;const{x:d,y:h}=Mn(u,c,c.position,!0),m=Math.sqrt(Math.pow(d-e.x,2)+Math.pow(h-e.y,2));m>t||(m<r?(o=[{...c,x:d,y:h}],r=m):m===r&&o.push({...c,x:d,y:h}))}}if(!o.length)return null;if(o.length>1){const u=i.type==="source"?"target":"source";return o.find(f=>f.type===u)??o[0]}return o[0]}function Xr(e,t,n,i,o,r=!1){var u,f,c;const s=i.get(e);if(!s)return null;const l=o==="strict"?(u=s.internals.handleBounds)==null?void 0:u[t]:[...((f=s.internals.handleBounds)==null?void 0:f.source)??[],...((c=s.internals.handleBounds)==null?void 0:c.target)??[]],a=(n?l==null?void 0:l.find(d=>d.id===n):l==null?void 0:l[0])??null;return a&&r?{...a,...Mn(s,a,a.position,!0)}:a}function Yr(e,t){return e||(t!=null&&t.classList.contains("target")?"target":t!=null&&t.classList.contains("source")?"source":null)}function zc(e,t){let n=null;return t?n=!0:e&&!t&&(n=!1),n}const Wr=()=>!0;function Pc(e,{connectionMode:t,connectionRadius:n,handleId:i,nodeId:o,edgeUpdaterType:r,isTarget:s,domNode:l,nodeLookup:a,lib:u,autoPanOnConnect:f,flowId:c,panBy:d,cancelConnection:h,onConnectStart:m,onConnect:y,onConnectEnd:_,isValidConnection:g=Wr,onReconnectEnd:C,updateConnection:k,getTransform:v,getFromHandle:D,autoPanSpeed:O}){const E=tc(e.target);let N=0,A;const{x:W,y:J}=yt(e),Z=E==null?void 0:E.elementFromPoint(W,J),T=Yr(r,Z),b=l==null?void 0:l.getBoundingClientRect();if(!b||!T)return;const S=Xr(o,T,i,a,t);if(!S)return;let p=yt(e,b),z=!1,H=null,I=!1,X=null;function G(){if(!f||!b)return;const[Q,ye]=yr(p,b,O);d({x:Q,y:ye}),N=requestAnimationFrame(G)}const j={...S,nodeId:o,type:T,position:S.position},x=a.get(o),ee={inProgress:!0,isValid:null,from:Mn(x,j,de.Left,!0),fromHandle:j,fromPosition:j.position,fromNode:x,to:p,toHandle:null,toPosition:ur[j.position],toNode:null};k(ee);let re=ee;m==null||m(e,{nodeId:o,handleId:i,handleType:T});function q(Q){if(!D()||!j){ke(Q);return}const ye=v();p=yt(Q,b),A=Mc(li(p,ye,!1,[1,1]),n,a,j),z||(G(),z=!0);const be=Lr(Q,{handle:A,connectionMode:t,fromNodeId:o,fromHandleId:i,fromType:s?"target":"source",isValidConnection:g,doc:E,lib:u,flowId:c,nodeLookup:a});X=be.handleDomNode,H=be.connection,I=zc(!!A,be.isValid);const we={...re,isValid:I,to:A&&I?Zi({x:A.x,y:A.y},ye):p,toHandle:be.toHandle,toPosition:I&&be.toHandle?be.toHandle.position:ur[j.position],toNode:be.toHandle?a.get(be.toHandle.nodeId):null};I&&A&&re.toHandle&&we.toHandle&&re.toHandle.type===we.toHandle.type&&re.toHandle.nodeId===we.toHandle.nodeId&&re.toHandle.id===we.toHandle.id&&re.to.x===we.to.x&&re.to.y===we.to.y||(k(we),re=we)}function ke(Q){(A||X)&&H&&I&&(y==null||y(H));const{inProgress:ye,...be}=re,we={...be,toPosition:re.toHandle?re.toPosition:null};_==null||_(Q,we),r&&(C==null||C(Q,we)),h(),cancelAnimationFrame(N),z=!1,I=!1,H=null,X=null,E.removeEventListener("mousemove",q),E.removeEventListener("mouseup",ke),E.removeEventListener("touchmove",q),E.removeEventListener("touchend",ke)}E.addEventListener("mousemove",q),E.addEventListener("mouseup",ke),E.addEventListener("touchmove",q),E.addEventListener("touchend",ke)}function Lr(e,{handle:t,connectionMode:n,fromNodeId:i,fromHandleId:o,fromType:r,doc:s,lib:l,flowId:a,isValidConnection:u=Wr,nodeLookup:f}){const c=r==="target",d=t?s.querySelector(`.${l}-flow__handle[data-id="${a}-${t==null?void 0:t.nodeId}-${t==null?void 0:t.id}-${t==null?void 0:t.type}"]`):null,{x:h,y:m}=yt(e),y=s.elementFromPoint(h,m),_=y!=null&&y.classList.contains(`${l}-flow__handle`)?y:d,g={handleDomNode:_,isValid:!1,connection:null,toHandle:null};if(_){const C=Yr(void 0,_),k=_.getAttribute("data-nodeid"),v=_.getAttribute("data-handleid"),D=_.classList.contains("connectable"),O=_.classList.contains("connectableend");if(!k||!C)return g;const E={source:c?k:i,sourceHandle:c?v:o,target:c?i:k,targetHandle:c?o:v};g.connection=E;const A=D&&O&&(n===Ot.Strict?c&&C==="source"||!c&&C==="target":k!==i||v!==o);g.isValid=A&&u(E),g.toHandle=Xr(k,C,v,f,n,!1)}return g}const Nc={onPointerDown:Pc,isValid:Lr};function Ac({domNode:e,panZoom:t,getTransform:n,getViewScale:i}){const o=$e(e);function r({translateExtent:l,width:a,height:u,zoomStep:f=10,pannable:c=!0,zoomable:d=!0,inversePan:h=!1}){const m=k=>{const v=n();if(k.sourceEvent.type!=="wheel"||!t)return;const D=-k.sourceEvent.deltaY*(k.sourceEvent.deltaMode===1?.05:k.sourceEvent.deltaMode?1:.002)*f,O=v[2]*Math.pow(2,D);t.scaleTo(O)};let y=[0,0];const _=k=>{(k.sourceEvent.type==="mousedown"||k.sourceEvent.type==="touchstart")&&(y=[k.sourceEvent.clientX??k.sourceEvent.touches[0].clientX,k.sourceEvent.clientY??k.sourceEvent.touches[0].clientY])},g=k=>{const v=n();if(k.sourceEvent.type!=="mousemove"&&k.sourceEvent.type!=="touchmove"||!t)return;const D=[k.sourceEvent.clientX??k.sourceEvent.touches[0].clientX,k.sourceEvent.clientY??k.sourceEvent.touches[0].clientY],O=[D[0]-y[0],D[1]-y[1]];y=D;const E=i()*Math.max(v[2],Math.log(v[2]))*(h?-1:1),N={x:v[0]-O[0]*E,y:v[1]-O[1]*E},A=[[0,0],[a,u]];t.setViewportConstrained({x:N.x,y:N.y,zoom:v[2]},A,l)},C=ar().on("start",_).on("zoom",c?g:null).on("zoom.wheel",d?m:null);o.call(C,{})}function s(){o.on("zoom",null)}return{update:r,destroy:s,pointer:it}}const Dc=(e,t)=>e.x!==t.x||e.y!==t.y||e.zoom!==t.k,ci=e=>({x:e.x,y:e.y,zoom:e.k}),$i=({x:e,y:t,zoom:n})=>ti.translate(e,t).scale(n),$t=(e,t)=>e.target.closest(`.${t}`),Br=(e,t)=>t===2&&Array.isArray(e)&&e.includes(2),eo=(e,t=0,n=()=>{})=>{const i=typeof t=="number"&&t>0;return i||n(),i?e.transition().duration(t).on("end",n):e},Kr=e=>{const t=e.ctrlKey&&si()?10:1;return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*t};function Oc({zoomPanValues:e,noWheelClassName:t,d3Selection:n,d3Zoom:i,panOnScrollMode:o,panOnScrollSpeed:r,zoomOnPinch:s,onPanZoomStart:l,onPanZoom:a,onPanZoomEnd:u}){return f=>{if($t(f,t))return!1;f.preventDefault(),f.stopImmediatePropagation();const c=n.property("__zoom").k||1;if(f.ctrlKey&&s){const _=it(f),g=Kr(f),C=c*Math.pow(2,g);i.scaleTo(n,C,_,f);return}const d=f.deltaMode===1?20:1;let h=o===ut.Vertical?0:f.deltaX*d,m=o===ut.Horizontal?0:f.deltaY*d;!si()&&f.shiftKey&&o!==ut.Vertical&&(h=f.deltaY*d,m=0),i.translateBy(n,-(h/c)*r,-(m/c)*r,{internal:!0});const y=ci(n.property("__zoom"));clearTimeout(e.panScrollTimeout),e.isPanScrolling||(e.isPanScrolling=!0,l==null||l(f,y)),e.isPanScrolling&&(a==null||a(f,y),e.panScrollTimeout=setTimeout(()=>{u==null||u(f,y),e.isPanScrolling=!1},150))}}function Tc({noWheelClassName:e,preventScrolling:t,d3ZoomHandler:n}){return function(i,o){const r=i.type==="wheel",s=!t&&r&&!i.ctrlKey,l=$t(i,e);if(i.ctrlKey&&r&&l&&i.preventDefault(),s||l)return null;i.preventDefault(),n.call(this,i,o)}}function Hc({zoomPanValues:e,onDraggingChange:t,onPanZoomStart:n}){return i=>{var r,s,l;if((r=i.sourceEvent)!=null&&r.internal)return;const o=ci(i.transform);e.mouseButton=((s=i.sourceEvent)==null?void 0:s.button)||0,e.isZoomingOrPanning=!0,e.prevViewport=o,((l=i.sourceEvent)==null?void 0:l.type)==="mousedown"&&t(!0),n&&(n==null||n(i.sourceEvent,o))}}function Ic({zoomPanValues:e,panOnDrag:t,onPaneContextMenu:n,onTransformChange:i,onPanZoom:o}){return r=>{var s,l;e.usedRightMouseButton=!!(n&&Br(t,e.mouseButton??0)),(s=r.sourceEvent)!=null&&s.sync||i([r.transform.x,r.transform.y,r.transform.k]),o&&!((l=r.sourceEvent)!=null&&l.internal)&&(o==null||o(r.sourceEvent,ci(r.transform)))}}function Vc({zoomPanValues:e,panOnDrag:t,panOnScroll:n,onDraggingChange:i,onPanZoomEnd:o,onPaneContextMenu:r}){return s=>{var l;if(!((l=s.sourceEvent)!=null&&l.internal)&&(e.isZoomingOrPanning=!1,r&&Br(t,e.mouseButton??0)&&!e.usedRightMouseButton&&s.sourceEvent&&r(s.sourceEvent),e.usedRightMouseButton=!1,i(!1),o&&Dc(e.prevViewport,s.transform))){const a=ci(s.transform);e.prevViewport=a,clearTimeout(e.timerId),e.timerId=setTimeout(()=>{o==null||o(s.sourceEvent,a)},n?150:0)}}}function Rc({zoomActivationKeyPressed:e,zoomOnScroll:t,zoomOnPinch:n,panOnDrag:i,panOnScroll:o,zoomOnDoubleClick:r,userSelectionActive:s,noWheelClassName:l,noPanClassName:a,lib:u}){return f=>{var m;const c=e||t,d=n&&f.ctrlKey;if(f.button===1&&f.type==="mousedown"&&($t(f,`${u}-flow__node`)||$t(f,`${u}-flow__edge`)))return!0;if(!i&&!c&&!o&&!r&&!n||s||$t(f,l)&&f.type==="wheel"||$t(f,a)&&(f.type!=="wheel"||o&&f.type==="wheel"&&!e)||!n&&f.ctrlKey&&f.type==="wheel")return!1;if(!n&&f.type==="touchstart"&&((m=f.touches)==null?void 0:m.length)>1)return f.preventDefault(),!1;if(!c&&!o&&!d&&f.type==="wheel"||!i&&(f.type==="mousedown"||f.type==="touchstart")||Array.isArray(i)&&!i.includes(f.button)&&f.type==="mousedown")return!1;const h=Array.isArray(i)&&i.includes(f.button)||!f.button||f.button<=1;return(!f.ctrlKey||f.type==="wheel")&&h}}function Xc({domNode:e,minZoom:t,maxZoom:n,paneClickDistance:i,translateExtent:o,viewport:r,onPanZoom:s,onPanZoomStart:l,onPanZoomEnd:a,onDraggingChange:u}){const f={isZoomingOrPanning:!1,usedRightMouseButton:!1,prevViewport:{x:0,y:0,zoom:0},mouseButton:0,timerId:void 0,panScrollTimeout:void 0,isPanScrolling:!1},c=e.getBoundingClientRect(),d=ar().clickDistance(!Ht(i)||i<0?0:i).scaleExtent([t,n]).translateExtent(o),h=$e(e).call(d);k({x:r.x,y:r.y,zoom:Qt(r.zoom,t,n)},[[0,0],[c.width,c.height]],o);const m=h.on("wheel.zoom"),y=h.on("dblclick.zoom");d.wheelDelta(Kr);function _(Z,T){return h?new Promise(b=>{d==null||d.transform(eo(h,T==null?void 0:T.duration,()=>b(!0)),Z)}):Promise.resolve(!1)}function g({noWheelClassName:Z,noPanClassName:T,onPaneContextMenu:b,userSelectionActive:S,panOnScroll:p,panOnDrag:z,panOnScrollMode:H,panOnScrollSpeed:I,preventScrolling:X,zoomOnPinch:G,zoomOnScroll:j,zoomOnDoubleClick:x,zoomActivationKeyPressed:V,lib:ee,onTransformChange:re}){S&&!f.isZoomingOrPanning&&C();const ke=p&&!V&&!S?Oc({zoomPanValues:f,noWheelClassName:Z,d3Selection:h,d3Zoom:d,panOnScrollMode:H,panOnScrollSpeed:I,zoomOnPinch:G,onPanZoomStart:l,onPanZoom:s,onPanZoomEnd:a}):Tc({noWheelClassName:Z,preventScrolling:X,d3ZoomHandler:m});if(h.on("wheel.zoom",ke,{passive:!1}),!S){const ye=Hc({zoomPanValues:f,onDraggingChange:u,onPanZoomStart:l});d.on("start",ye);const be=Ic({zoomPanValues:f,panOnDrag:z,onPaneContextMenu:!!b,onPanZoom:s,onTransformChange:re});d.on("zoom",be);const we=Vc({zoomPanValues:f,panOnDrag:z,panOnScroll:p,onPaneContextMenu:b,onPanZoomEnd:a,onDraggingChange:u});d.on("end",we)}const Q=Rc({zoomActivationKeyPressed:V,panOnDrag:z,zoomOnScroll:j,panOnScroll:p,zoomOnDoubleClick:x,zoomOnPinch:G,userSelectionActive:S,noPanClassName:T,noWheelClassName:Z,lib:ee});d.filter(Q),x?h.on("dblclick.zoom",y):h.on("dblclick.zoom",null)}function C(){d.on("zoom",null)}async function k(Z,T,b){const S=$i(Z),p=d==null?void 0:d.constrain()(S,T,b);return p&&await _(p),new Promise(z=>z(p))}async function v(Z,T){const b=$i(Z);return await _(b,T),new Promise(S=>S(b))}function D(Z){if(h){const T=$i(Z),b=h.property("__zoom");(b.k!==Z.zoom||b.x!==Z.x||b.y!==Z.y)&&(d==null||d.transform(h,T,null,{sync:!0}))}}function O(){const Z=h?lr(h.node()):{x:0,y:0,k:1};return{x:Z.x,y:Z.y,zoom:Z.k}}function E(Z,T){return h?new Promise(b=>{d==null||d.scaleTo(eo(h,T==null?void 0:T.duration,()=>b(!0)),Z)}):Promise.resolve(!1)}function N(Z,T){return h?new Promise(b=>{d==null||d.scaleBy(eo(h,T==null?void 0:T.duration,()=>b(!0)),Z)}):Promise.resolve(!1)}function A(Z){d==null||d.scaleExtent(Z)}function W(Z){d==null||d.translateExtent(Z)}function J(Z){const T=!Ht(Z)||Z<0?0:Z;d==null||d.clickDistance(T)}return{update:g,destroy:C,setViewport:v,setViewportConstrained:k,getViewport:O,scaleTo:E,scaleBy:N,setScaleExtent:A,setTranslateExtent:W,syncViewport:D,setClickDistance:J}}var Fr;(function(e){e.Line="line",e.Handle="handle"})(Fr||(Fr={}));function Yc(e){let t,n,i,o,r,s;const l=e[45].default,a=qe(l,e,e[44],null);return{c(){t=se("div"),a&&a.c(),w(t,"data-handleid",e[6]),w(t,"data-nodeid",e[14]),w(t,"data-handlepos",e[2]),w(t,"data-id",n=e[13]+"-"+e[14]+"-"+(e[0]||null)+"-"+e[1]),w(t,"class",i=Ee(["svelte-flow__handle",`svelte-flow__handle-${e[2]}`,"nodrag","nopan",e[2],e[4]])),w(t,"style",e[3]),w(t,"role","button"),w(t,"tabindex","-1"),fe(t,"valid",e[7]),fe(t,"connectingto",e[5]),fe(t,"connectingfrom",e[9]),fe(t,"source",!e[11]),fe(t,"target",e[11]),fe(t,"connectablestart",e[12]),fe(t,"connectableend",e[12]),fe(t,"connectable",e[12]),fe(t,"connectionindicator",e[12]&&(!e[10]||e[8]))},m(u,f){F(u,t,f),a&&a.m(t,null),o=!0,r||(s=[Se(t,"mousedown",e[32]),Se(t,"touchstart",e[32])],r=!0)},p(u,f){a&&a.p&&(!o||f[1]&8192)&&Ge(a,l,u,u[44],o?Ze(l,u[44],f,null):Ue(u[44]),null),(!o||f[0]&64)&&w(t,"data-handleid",u[6]),(!o||f[0]&4)&&w(t,"data-handlepos",u[2]),(!o||f[0]&8195&&n!==(n=u[13]+"-"+u[14]+"-"+(u[0]||null)+"-"+u[1]))&&w(t,"data-id",n),(!o||f[0]&20&&i!==(i=Ee(["svelte-flow__handle",`svelte-flow__handle-${u[2]}`,"nodrag","nopan",u[2],u[4]])))&&w(t,"class",i),(!o||f[0]&8)&&w(t,"style",u[3]),(!o||f[0]&148)&&fe(t,"valid",u[7]),(!o||f[0]&52)&&fe(t,"connectingto",u[5]),(!o||f[0]&532)&&fe(t,"connectingfrom",u[9]),(!o||f[0]&2068)&&fe(t,"source",!u[11]),(!o||f[0]&2068)&&fe(t,"target",u[11]),(!o||f[0]&4116)&&fe(t,"connectablestart",u[12]),(!o||f[0]&4116)&&fe(t,"connectableend",u[12]),(!o||f[0]&4116)&&fe(t,"connectable",u[12]),(!o||f[0]&5396)&&fe(t,"connectionindicator",u[12]&&(!u[10]||u[8]))},i(u){o||(R(a,u),o=!0)},o(u){Y(a,u),o=!1},d(u){u&&B(t),a&&a.d(u),r=!1,Ye(s)}}}function Wc(e,t,n){let i,o,r,s,l,a,u,f,c,d,h,m,y,_,g,C,k,v,D,O,E,N,A,W,J,{$$slots:Z={},$$scope:T}=t,{id:b=void 0}=t,{type:S="source"}=t,{position:p=de.Top}=t,{style:z=void 0}=t,{isValidConnection:H=void 0}=t,{onconnect:I=void 0}=t,{ondisconnect:X=void 0}=t,{isConnectable:G=void 0}=t,{class:j=void 0}=t;const x=Dn("svelteflow__node_id"),V=Dn("svelteflow__node_connectable");U(e,V,P=>n(43,J=P));const ee=Ie(),{connectionMode:re,domNode:q,nodeLookup:ke,connectionRadius:Q,viewport:ye,isValidConnection:be,lib:we,addEdge:ze,onedgecreate:K,panBy:Ne,cancelConnection:Xe,updateConnection:Ke,autoPanOnConnect:Me,edges:et,connectionLookup:Le,onconnect:bt,onconnectstart:te,onconnectend:pt,flowId:St,connection:Ct}=ee;U(e,re,P=>n(40,d=P)),U(e,q,P=>n(55,A=P)),U(e,ke,P=>n(54,N=P)),U(e,Q,P=>n(56,W=P)),U(e,ye,P=>n(46,y=P)),U(e,be,P=>n(51,v=P)),U(e,we,P=>n(53,E=P)),U(e,K,P=>n(50,k=P)),U(e,Me,P=>n(52,O=P)),U(e,et,P=>n(42,m=P)),U(e,Le,P=>n(41,h=P)),U(e,bt,P=>n(49,C=P)),U(e,te,P=>n(48,g=P)),U(e,pt,P=>n(47,_=P)),U(e,St,P=>n(13,D=P)),U(e,Ct,P=>n(39,c=P));function It(P){const tt=vr(P);(tt&&P.button===0||!tt)&&Nc.onPointerDown(P,{handleId:r,nodeId:x,isTarget:i,connectionRadius:W,domNode:A,nodeLookup:N,connectionMode:d,lib:E,autoPanOnConnect:O,flowId:D,isValidConnection:H??v,updateConnection:Ke,cancelConnection:Xe,panBy:Ne,onConnect:Re=>{const Oe=k?k(Re):Re;Oe&&(ze(Oe),C==null||C(Re))},onConnectStart:(Re,Oe)=>{g==null||g(Re,{nodeId:Oe.nodeId,handleId:Oe.handleId,handleType:Oe.handleType})},onConnectEnd:(Re,Oe)=>{_==null||_(Re,Oe)},getTransform:()=>[y.x,y.y,y.zoom],getFromHandle:()=>c.fromHandle})}let lt=null,ct;return e.$$set=P=>{"id"in P&&n(0,b=P.id),"type"in P&&n(1,S=P.type),"position"in P&&n(2,p=P.position),"style"in P&&n(3,z=P.style),"isValidConnection"in P&&n(33,H=P.isValidConnection),"onconnect"in P&&n(34,I=P.onconnect),"ondisconnect"in P&&n(35,X=P.ondisconnect),"isConnectable"in P&&n(36,G=P.isConnectable),"class"in P&&n(4,j=P.class),"$$scope"in P&&n(44,T=P.$$scope)},e.$$.update=()=>{var P,tt,Re,Oe,en,tn,nn,on,Et;if(e.$$.dirty[0]&2&&n(11,i=S==="target"),e.$$.dirty[1]&4128&&n(12,o=G!==void 0?G:J),e.$$.dirty[0]&1&&n(6,r=b||null),e.$$.dirty[0]&3|e.$$.dirty[1]&3096&&(I||X)&&n(38,ct=h.get(`${x}-${S}${b?`-${b}`:""}`)),e.$$.dirty[1]&216){if(lt&&!Zf(ct,lt)){const Vt=ct??new Map;fr(lt,Vt,X),fr(Vt,lt,I)}n(37,lt=ct??new Map)}e.$$.dirty[1]&256&&n(10,s=!!c.fromHandle),e.$$.dirty[0]&66|e.$$.dirty[1]&256&&n(9,l=((P=c.fromHandle)==null?void 0:P.nodeId)===x&&((tt=c.fromHandle)==null?void 0:tt.type)===S&&((Re=c.fromHandle)==null?void 0:Re.id)===r),e.$$.dirty[0]&66|e.$$.dirty[1]&256&&n(5,a=((Oe=c.toHandle)==null?void 0:Oe.nodeId)===x&&((en=c.toHandle)==null?void 0:en.type)===S&&((tn=c.toHandle)==null?void 0:tn.id)===r),e.$$.dirty[0]&66|e.$$.dirty[1]&768&&n(8,u=d===Ot.Strict?((nn=c.fromHandle)==null?void 0:nn.type)!==S:x!==((on=c.fromHandle)==null?void 0:on.nodeId)||r!==((Et=c.fromHandle)==null?void 0:Et.id)),e.$$.dirty[0]&32|e.$$.dirty[1]&256&&n(7,f=a&&c.isValid)},[b,S,p,z,j,a,r,f,u,l,s,i,o,D,x,V,re,q,ke,Q,ye,be,we,K,Me,et,Le,bt,te,pt,St,Ct,It,H,I,X,G,lt,ct,c,d,h,m,J,T,Z]}class vt extends ge{constructor(t){super(),he(this,t,Wc,Yc,me,{id:0,type:1,position:2,style:3,isValidConnection:33,onconnect:34,ondisconnect:35,isConnectable:36,class:4},null,[-1,-1])}}function Lc(e){var a;let t,n,i=((a=e[0])==null?void 0:a.label)+"",o,r,s,l;return t=new vt({props:{type:"target",position:e[1]??de.Top}}),s=new vt({props:{type:"source",position:e[2]??de.Bottom}}),{c(){le(t.$$.fragment),n=ue(),o=ve(i),r=ue(),le(s.$$.fragment)},m(u,f){ne(t,u,f),F(u,n,f),F(u,o,f),F(u,r,f),ne(s,u,f),l=!0},p(u,[f]){var h;const c={};f&2&&(c.position=u[1]??de.Top),t.$set(c),(!l||f&1)&&i!==(i=((h=u[0])==null?void 0:h.label)+"")&&Pe(o,i);const d={};f&4&&(d.position=u[2]??de.Bottom),s.$set(d)},i(u){l||(R(t.$$.fragment,u),R(s.$$.fragment,u),l=!0)},o(u){Y(t.$$.fragment,u),Y(s.$$.fragment,u),l=!1},d(u){u&&(B(n),B(o),B(r)),ie(t,u),ie(s,u)}}}function Bc(e,t,n){const i=["data","targetPosition","sourcePosition"];De(t,i);let{data:o={label:"Node"}}=t,{targetPosition:r=void 0}=t,{sourcePosition:s=void 0}=t;return e.$$set=l=>{t=_e(_e({},t),nt(l)),n(3,De(t,i)),"data"in l&&n(0,o=l.data),"targetPosition"in l&&n(1,r=l.targetPosition),"sourcePosition"in l&&n(2,s=l.sourcePosition)},[o,r,s]}class qr extends ge{constructor(t){super(),he(this,t,Bc,Lc,me,{data:0,targetPosition:1,sourcePosition:2})}}function Kc(e){var s;let t=((s=e[0])==null?void 0:s.label)+"",n,i,o,r;return o=new vt({props:{type:"source",position:e[1]??de.Bottom}}),{c(){n=ve(t),i=ue(),le(o.$$.fragment)},m(l,a){F(l,n,a),F(l,i,a),ne(o,l,a),r=!0},p(l,[a]){var f;(!r||a&1)&&t!==(t=((f=l[0])==null?void 0:f.label)+"")&&Pe(n,t);const u={};a&2&&(u.position=l[1]??de.Bottom),o.$set(u)},i(l){r||(R(o.$$.fragment,l),r=!0)},o(l){Y(o.$$.fragment,l),r=!1},d(l){l&&(B(n),B(i)),ie(o,l)}}}function Fc(e,t,n){const i=["data","sourcePosition"];De(t,i);let{data:o={label:"Node"}}=t,{sourcePosition:r=void 0}=t;return e.$$set=s=>{t=_e(_e({},t),nt(s)),n(2,De(t,i)),"data"in s&&n(0,o=s.data),"sourcePosition"in s&&n(1,r=s.sourcePosition)},[o,r]}class qc extends ge{constructor(t){super(),he(this,t,Fc,Kc,me,{data:0,sourcePosition:1})}}function Zc(e){var s;let t=((s=e[0])==null?void 0:s.label)+"",n,i,o,r;return o=new vt({props:{type:"target",position:e[1]??de.Top}}),{c(){n=ve(t),i=ue(),le(o.$$.fragment)},m(l,a){F(l,n,a),F(l,i,a),ne(o,l,a),r=!0},p(l,[a]){var f;(!r||a&1)&&t!==(t=((f=l[0])==null?void 0:f.label)+"")&&Pe(n,t);const u={};a&2&&(u.position=l[1]??de.Top),o.$set(u)},i(l){r||(R(o.$$.fragment,l),r=!0)},o(l){Y(o.$$.fragment,l),r=!1},d(l){l&&(B(n),B(i)),ie(o,l)}}}function Gc(e,t,n){const i=["data","targetPosition"];De(t,i);let{data:o={label:"Node"}}=t,{targetPosition:r=void 0}=t;return e.$$set=s=>{t=_e(_e({},t),nt(s)),n(2,De(t,i)),"data"in s&&n(0,o=s.data),"targetPosition"in s&&n(1,r=s.targetPosition)},[o,r]}class Uc extends ge{constructor(t){super(),he(this,t,Gc,Zc,me,{data:0,targetPosition:1})}}function Jc(e,t,n){const i=[];return De(t,i),e.$$set=o=>{t=_e(_e({},t),nt(o)),n(0,De(t,i))},[]}class Qc extends ge{constructor(t){super(),he(this,t,Jc,null,me,{})}}function Zr(e,t,n){if(!t)return;const i=n?t.querySelector(n):t;i&&i.appendChild(e)}function jc(e,{target:t,domNode:n}){return Zr(e,n,t),{async update({target:i,domNode:o}){Zr(e,o,i)},destroy(){e.parentNode&&e.parentNode.removeChild(e)}}}function xc(e){let t,n,i,o,r;const s=e[3].default,l=qe(s,e,e[2],null);return{c(){t=se("div"),l&&l.c()},m(a,u){F(a,t,u),l&&l.m(t,null),i=!0,o||(r=Be(n=jc.call(null,t,{target:".svelte-flow__edgelabel-renderer",domNode:e[0]})),o=!0)},p(a,[u]){l&&l.p&&(!i||u&4)&&Ge(l,s,a,a[2],i?Ze(s,a[2],u,null):Ue(a[2]),null),n&&Ae(n.update)&&u&1&&n.update.call(null,{target:".svelte-flow__edgelabel-renderer",domNode:a[0]})},i(a){i||(R(l,a),i=!0)},o(a){Y(l,a),i=!1},d(a){a&&B(t),l&&l.d(a),o=!1,r()}}}function $c(e,t,n){let i,{$$slots:o={},$$scope:r}=t;const{domNode:s}=Ie();return U(e,s,l=>n(0,i=l)),e.$$set=l=>{"$$scope"in l&&n(2,r=l.$$scope)},[i,s,r,o]}class ed extends ge{constructor(t){super(),he(this,t,$c,xc,me,{})}}function Gr(){const{edgeLookup:e,selectionRect:t,selectionRectMode:n,multiselectionKeyPressed:i,addSelectedEdges:o,unselectNodesAndEdges:r,elementsSelectable:s}=Ie();return l=>{const a=$(e).get(l);if(!a){console.warn("012",Dt.error012(l));return}(a.selectable||$(s)&&typeof a.selectable>"u")&&(t.set(null),n.set(null),a.selected?a.selected&&$(i)&&r({nodes:[],edges:[a]}):o([l]))}}function td(e){let t,n,i=`translate(-50%, -50%) translate(${e[1]}px,${e[2]}px)`,o,r,s;const l=e[5].default,a=qe(l,e,e[7],null);return{c(){t=se("div"),a&&a.c(),w(t,"class","svelte-flow__edge-label"),w(t,"style",n="pointer-events: all;"+e[0]),w(t,"role","button"),w(t,"tabindex","-1"),ae(t,"transform",i)},m(u,f){F(u,t,f),a&&a.m(t,null),o=!0,r||(s=[Se(t,"keyup",id),Se(t,"click",e[6])],r=!0)},p(u,f){a&&a.p&&(!o||f&128)&&Ge(a,l,u,u[7],o?Ze(l,u[7],f,null):Ue(u[7]),null),(!o||f&1&&n!==(n="pointer-events: all;"+u[0]))&&w(t,"style",n);const c=f&1;(f&7&&i!==(i=`translate(-50%, -50%) translate(${u[1]}px,${u[2]}px)`)||c)&&ae(t,"transform",i)},i(u){o||(R(a,u),o=!0)},o(u){Y(a,u),o=!1},d(u){u&&B(t),a&&a.d(u),r=!1,Ye(s)}}}function nd(e){let t,n;return t=new ed({props:{$$slots:{default:[td]},$$scope:{ctx:e}}}),{c(){le(t.$$.fragment)},m(i,o){ne(t,i,o),n=!0},p(i,[o]){const r={};o&135&&(r.$$scope={dirty:o,ctx:i}),t.$set(r)},i(i){n||(R(t.$$.fragment,i),n=!0)},o(i){Y(t.$$.fragment,i),n=!1},d(i){ie(t,i)}}}const id=()=>{};function od(e,t,n){let{$$slots:i={},$$scope:o}=t,{style:r=void 0}=t,{x:s=void 0}=t,{y:l=void 0}=t;const a=Gr(),u=Dn("svelteflow__edge_id"),f=()=>{u&&a(u)};return e.$$set=c=>{"style"in c&&n(0,r=c.style),"x"in c&&n(1,s=c.x),"y"in c&&n(2,l=c.y),"$$scope"in c&&n(7,o=c.$$scope)},[r,s,l,a,u,i,f,o]}class rd extends ge{constructor(t){super(),he(this,t,od,nd,me,{style:0,x:1,y:2})}}function ld(e){let t;return{c(){t=Ce("path"),w(t,"d",e[1]),w(t,"stroke-opacity",0),w(t,"stroke-width",e[10]),w(t,"fill","none"),w(t,"class","svelte-flow__edge-interaction")},m(n,i){F(n,t,i)},p(n,i){i&2&&w(t,"d",n[1])},d(n){n&&B(t)}}}function Ur(e){let t,n;return t=new rd({props:{x:e[3],y:e[4],style:e[5],$$slots:{default:[sd]},$$scope:{ctx:e}}}),{c(){le(t.$$.fragment)},m(i,o){ne(t,i,o),n=!0},p(i,o){const r={};o&8&&(r.x=i[3]),o&16&&(r.y=i[4]),o&32&&(r.style=i[5]),o&4100&&(r.$$scope={dirty:o,ctx:i}),t.$set(r)},i(i){n||(R(t.$$.fragment,i),n=!0)},o(i){Y(t.$$.fragment,i),n=!1},d(i){ie(t,i)}}}function sd(e){let t;return{c(){t=ve(e[2])},m(n,i){F(n,t,i)},p(n,i){i&4&&Pe(t,n[2])},d(n){n&&B(t)}}}function ad(e){let t,n,i,o,r,s,l=e[10]&&ld(e),a=e[2]&&Ur(e);return{c(){t=Ce("path"),i=ue(),l&&l.c(),o=ue(),a&&a.c(),r=We(),w(t,"id",e[0]),w(t,"d",e[1]),w(t,"class",n=Ee(["svelte-flow__edge-path",e[9]])),w(t,"marker-start",e[6]),w(t,"marker-end",e[7]),w(t,"fill","none"),w(t,"style",e[8])},m(u,f){F(u,t,f),F(u,i,f),l&&l.m(u,f),F(u,o,f),a&&a.m(u,f),F(u,r,f),s=!0},p(u,[f]){(!s||f&1)&&w(t,"id",u[0]),(!s||f&2)&&w(t,"d",u[1]),(!s||f&512&&n!==(n=Ee(["svelte-flow__edge-path",u[9]])))&&w(t,"class",n),(!s||f&64)&&w(t,"marker-start",u[6]),(!s||f&128)&&w(t,"marker-end",u[7]),(!s||f&256)&&w(t,"style",u[8]),u[10]&&l.p(u,f),u[2]?a?(a.p(u,f),f&4&&R(a,1)):(a=Ur(u),a.c(),R(a,1),a.m(r.parentNode,r)):a&&(Te(),Y(a,1,1,()=>{a=null}),He())},i(u){s||(R(a),s=!0)},o(u){Y(a),s=!1},d(u){u&&(B(t),B(i),B(o),B(r)),l&&l.d(u),a&&a.d(u)}}}function ud(e,t,n){let{id:i=void 0}=t,{path:o}=t,{label:r=void 0}=t,{labelX:s=void 0}=t,{labelY:l=void 0}=t,{labelStyle:a=void 0}=t,{markerStart:u=void 0}=t,{markerEnd:f=void 0}=t,{style:c=void 0}=t,{interactionWidth:d=20}=t,{class:h=void 0}=t,m=d===void 0?20:d;return e.$$set=y=>{"id"in y&&n(0,i=y.id),"path"in y&&n(1,o=y.path),"label"in y&&n(2,r=y.label),"labelX"in y&&n(3,s=y.labelX),"labelY"in y&&n(4,l=y.labelY),"labelStyle"in y&&n(5,a=y.labelStyle),"markerStart"in y&&n(6,u=y.markerStart),"markerEnd"in y&&n(7,f=y.markerEnd),"style"in y&&n(8,c=y.style),"interactionWidth"in y&&n(11,d=y.interactionWidth),"class"in y&&n(9,h=y.class)},[i,o,r,s,l,a,u,f,c,h,m,d]}class di extends ge{constructor(t){super(),he(this,t,ud,ad,me,{id:0,path:1,label:2,labelX:3,labelY:4,labelStyle:5,markerStart:6,markerEnd:7,style:8,interactionWidth:11,class:9})}}function fd(e){let t,n;return t=new di({props:{path:e[8],labelX:e[7],labelY:e[6],label:e[0],labelStyle:e[1],markerStart:e[3],markerEnd:e[4],interactionWidth:e[5],style:e[2]}}),{c(){le(t.$$.fragment)},m(i,o){ne(t,i,o),n=!0},p(i,[o]){const r={};o&256&&(r.path=i[8]),o&128&&(r.labelX=i[7]),o&64&&(r.labelY=i[6]),o&1&&(r.label=i[0]),o&2&&(r.labelStyle=i[1]),o&8&&(r.markerStart=i[3]),o&16&&(r.markerEnd=i[4]),o&32&&(r.interactionWidth=i[5]),o&4&&(r.style=i[2]),t.$set(r)},i(i){n||(R(t.$$.fragment,i),n=!0)},o(i){Y(t.$$.fragment,i),n=!1},d(i){ie(t,i)}}}function cd(e,t,n){let i,o,r;const s=["label","labelStyle","style","markerStart","markerEnd","interactionWidth","sourceX","sourceY","sourcePosition","targetX","targetY","targetPosition"];De(t,s);let{label:l=void 0}=t,{labelStyle:a=void 0}=t,{style:u=void 0}=t,{markerStart:f=void 0}=t,{markerEnd:c=void 0}=t,{interactionWidth:d=void 0}=t,{sourceX:h}=t,{sourceY:m}=t,{sourcePosition:y}=t,{targetX:_}=t,{targetY:g}=t,{targetPosition:C}=t;return e.$$set=k=>{t=_e(_e({},t),nt(k)),n(15,De(t,s)),"label"in k&&n(0,l=k.label),"labelStyle"in k&&n(1,a=k.labelStyle),"style"in k&&n(2,u=k.style),"markerStart"in k&&n(3,f=k.markerStart),"markerEnd"in k&&n(4,c=k.markerEnd),"interactionWidth"in k&&n(5,d=k.interactionWidth),"sourceX"in k&&n(9,h=k.sourceX),"sourceY"in k&&n(10,m=k.sourceY),"sourcePosition"in k&&n(11,y=k.sourcePosition),"targetX"in k&&n(12,_=k.targetX),"targetY"in k&&n(13,g=k.targetY),"targetPosition"in k&&n(14,C=k.targetPosition)},e.$$.update=()=>{e.$$.dirty&32256&&n(8,[i,o,r]=Cr({sourceX:h,sourceY:m,targetX:_,targetY:g,sourcePosition:y,targetPosition:C}),i,(n(7,o),n(9,h),n(10,m),n(12,_),n(13,g),n(11,y),n(14,C)),(n(6,r),n(9,h),n(10,m),n(12,_),n(13,g),n(11,y),n(14,C)))},[l,a,u,f,c,d,r,o,i,h,m,y,_,g,C]}class Jr extends ge{constructor(t){super(),he(this,t,cd,fd,me,{label:0,labelStyle:1,style:2,markerStart:3,markerEnd:4,interactionWidth:5,sourceX:9,sourceY:10,sourcePosition:11,targetX:12,targetY:13,targetPosition:14})}}function dd(e){let t,n;return t=new di({props:{path:e[8],labelX:e[7],labelY:e[6],label:e[0],labelStyle:e[1],markerStart:e[3],markerEnd:e[4],interactionWidth:e[5],style:e[2]}}),{c(){le(t.$$.fragment)},m(i,o){ne(t,i,o),n=!0},p(i,[o]){const r={};o&256&&(r.path=i[8]),o&128&&(r.labelX=i[7]),o&64&&(r.labelY=i[6]),o&1&&(r.label=i[0]),o&2&&(r.labelStyle=i[1]),o&8&&(r.markerStart=i[3]),o&16&&(r.markerEnd=i[4]),o&32&&(r.interactionWidth=i[5]),o&4&&(r.style=i[2]),t.$set(r)},i(i){n||(R(t.$$.fragment,i),n=!0)},o(i){Y(t.$$.fragment,i),n=!1},d(i){ie(t,i)}}}function hd(e,t,n){let i,o,r;const s=["label","labelStyle","style","markerStart","markerEnd","interactionWidth","sourceX","sourceY","sourcePosition","targetX","targetY","targetPosition"];De(t,s);let{label:l=void 0}=t,{labelStyle:a=void 0}=t,{style:u=void 0}=t,{markerStart:f=void 0}=t,{markerEnd:c=void 0}=t,{interactionWidth:d=void 0}=t,{sourceX:h}=t,{sourceY:m}=t,{sourcePosition:y}=t,{targetX:_}=t,{targetY:g}=t,{targetPosition:C}=t;return e.$$set=k=>{t=_e(_e({},t),nt(k)),n(15,De(t,s)),"label"in k&&n(0,l=k.label),"labelStyle"in k&&n(1,a=k.labelStyle),"style"in k&&n(2,u=k.style),"markerStart"in k&&n(3,f=k.markerStart),"markerEnd"in k&&n(4,c=k.markerEnd),"interactionWidth"in k&&n(5,d=k.interactionWidth),"sourceX"in k&&n(9,h=k.sourceX),"sourceY"in k&&n(10,m=k.sourceY),"sourcePosition"in k&&n(11,y=k.sourcePosition),"targetX"in k&&n(12,_=k.targetX),"targetY"in k&&n(13,g=k.targetY),"targetPosition"in k&&n(14,C=k.targetPosition)},e.$$.update=()=>{e.$$.dirty&32256&&n(8,[i,o,r]=fi({sourceX:h,sourceY:m,targetX:_,targetY:g,sourcePosition:y,targetPosition:C}),i,(n(7,o),n(9,h),n(10,m),n(12,_),n(13,g),n(11,y),n(14,C)),(n(6,r),n(9,h),n(10,m),n(12,_),n(13,g),n(11,y),n(14,C)))},[l,a,u,f,c,d,r,o,i,h,m,y,_,g,C]}class gd extends ge{constructor(t){super(),he(this,t,hd,dd,me,{label:0,labelStyle:1,style:2,markerStart:3,markerEnd:4,interactionWidth:5,sourceX:9,sourceY:10,sourcePosition:11,targetX:12,targetY:13,targetPosition:14})}}function md(e){let t,n;return t=new di({props:{path:e[8],labelX:e[7],labelY:e[6],label:e[0],labelStyle:e[1],markerStart:e[3],markerEnd:e[4],interactionWidth:e[5],style:e[2]}}),{c(){le(t.$$.fragment)},m(i,o){ne(t,i,o),n=!0},p(i,[o]){const r={};o&256&&(r.path=i[8]),o&128&&(r.labelX=i[7]),o&64&&(r.labelY=i[6]),o&1&&(r.label=i[0]),o&2&&(r.labelStyle=i[1]),o&8&&(r.markerStart=i[3]),o&16&&(r.markerEnd=i[4]),o&32&&(r.interactionWidth=i[5]),o&4&&(r.style=i[2]),t.$set(r)},i(i){n||(R(t.$$.fragment,i),n=!0)},o(i){Y(t.$$.fragment,i),n=!1},d(i){ie(t,i)}}}function yd(e,t,n){let i,o,r;const s=["label","labelStyle","style","markerStart","markerEnd","interactionWidth","sourceX","sourceY","targetX","targetY"];De(t,s);let{label:l=void 0}=t,{labelStyle:a=void 0}=t,{style:u=void 0}=t,{markerStart:f=void 0}=t,{markerEnd:c=void 0}=t,{interactionWidth:d=void 0}=t,{sourceX:h}=t,{sourceY:m}=t,{targetX:y}=t,{targetY:_}=t;return e.$$set=g=>{t=_e(_e({},t),nt(g)),n(13,De(t,s)),"label"in g&&n(0,l=g.label),"labelStyle"in g&&n(1,a=g.labelStyle),"style"in g&&n(2,u=g.style),"markerStart"in g&&n(3,f=g.markerStart),"markerEnd"in g&&n(4,c=g.markerEnd),"interactionWidth"in g&&n(5,d=g.interactionWidth),"sourceX"in g&&n(9,h=g.sourceX),"sourceY"in g&&n(10,m=g.sourceY),"targetX"in g&&n(11,y=g.targetX),"targetY"in g&&n(12,_=g.targetY)},e.$$.update=()=>{e.$$.dirty&7680&&n(8,[i,o,r]=Mr({sourceX:h,sourceY:m,targetX:y,targetY:_}),i,(n(7,o),n(9,h),n(10,m),n(11,y),n(12,_)),(n(6,r),n(9,h),n(10,m),n(11,y),n(12,_)))},[l,a,u,f,c,d,r,o,i,h,m,y,_]}class _d extends ge{constructor(t){super(),he(this,t,yd,md,me,{label:0,labelStyle:1,style:2,markerStart:3,markerEnd:4,interactionWidth:5,sourceX:9,sourceY:10,targetX:11,targetY:12})}}function bd(e){let t,n;return t=new di({props:{path:e[8],labelX:e[7],labelY:e[6],label:e[0],labelStyle:e[1],markerStart:e[3],markerEnd:e[4],interactionWidth:e[5],style:e[2]}}),{c(){le(t.$$.fragment)},m(i,o){ne(t,i,o),n=!0},p(i,[o]){const r={};o&256&&(r.path=i[8]),o&128&&(r.labelX=i[7]),o&64&&(r.labelY=i[6]),o&1&&(r.label=i[0]),o&2&&(r.labelStyle=i[1]),o&8&&(r.markerStart=i[3]),o&16&&(r.markerEnd=i[4]),o&32&&(r.interactionWidth=i[5]),o&4&&(r.style=i[2]),t.$set(r)},i(i){n||(R(t.$$.fragment,i),n=!0)},o(i){Y(t.$$.fragment,i),n=!1},d(i){ie(t,i)}}}function wd(e,t,n){let i,o,r;const s=["label","labelStyle","style","markerStart","markerEnd","interactionWidth","sourceX","sourceY","sourcePosition","targetX","targetY","targetPosition"];De(t,s);let{label:l=void 0}=t,{labelStyle:a=void 0}=t,{style:u=void 0}=t,{markerStart:f=void 0}=t,{markerEnd:c=void 0}=t,{interactionWidth:d=void 0}=t,{sourceX:h}=t,{sourceY:m}=t,{sourcePosition:y}=t,{targetX:_}=t,{targetY:g}=t,{targetPosition:C}=t;return e.$$set=k=>{t=_e(_e({},t),nt(k)),n(15,De(t,s)),"label"in k&&n(0,l=k.label),"labelStyle"in k&&n(1,a=k.labelStyle),"style"in k&&n(2,u=k.style),"markerStart"in k&&n(3,f=k.markerStart),"markerEnd"in k&&n(4,c=k.markerEnd),"interactionWidth"in k&&n(5,d=k.interactionWidth),"sourceX"in k&&n(9,h=k.sourceX),"sourceY"in k&&n(10,m=k.sourceY),"sourcePosition"in k&&n(11,y=k.sourcePosition),"targetX"in k&&n(12,_=k.targetX),"targetY"in k&&n(13,g=k.targetY),"targetPosition"in k&&n(14,C=k.targetPosition)},e.$$.update=()=>{e.$$.dirty&32256&&n(8,[i,o,r]=fi({sourceX:h,sourceY:m,targetX:_,targetY:g,sourcePosition:y,targetPosition:C,borderRadius:0}),i,(n(7,o),n(9,h),n(10,m),n(12,_),n(13,g),n(11,y),n(14,C)),(n(6,r),n(9,h),n(10,m),n(12,_),n(13,g),n(11,y),n(14,C)))},[l,a,u,f,c,d,r,o,i,h,m,y,_,g,C]}class kd extends ge{constructor(t){super(),he(this,t,wd,bd,me,{label:0,labelStyle:1,style:2,markerStart:3,markerEnd:4,interactionWidth:5,sourceX:9,sourceY:10,sourcePosition:11,targetX:12,targetY:13,targetPosition:14})}}function vd(e,t){const n=e.set,i=t.set,o=$(e),r=$(t);let l=o.length===0&&r.length>0?r:o;e.set(l);const a=u=>{const f=n(u);return l=f,i(l),f};e.set=t.set=a,e.update=t.update=u=>a(u(l))}function pd(e,t){const n=e.set,i=t.set;let o=$(t);e.set(o);const r=s=>{n(s),i(s),o=s};e.set=t.set=r,e.update=t.update=s=>r(s(o))}const Sd=(e,t,n)=>{if(!n)return;const i=$(e),o=t.set,r=n.set;let s=n?$(n):{x:0,y:0,zoom:1};t.set(s),t.set=l=>(o(l),r(l),s=l,l),n.set=l=>(i==null||i.syncViewport(l),o(l),r(l),s=l,l),t.update=l=>{t.set(l(s))},n.update=l=>{n.set(l(s))}},Cd=(e,t,n,i=[0,0],o=ni,r,s,l,a,u,f,c,d)=>{const{subscribe:h,set:m,update:y}=oe([]);let _=e,g={},C=!0;const k=E=>{const N=Or(E,t,n,{elevateNodesOnSelect:C,nodeOrigin:i,nodeExtent:o,defaults:g,checkEquality:!1});return $(r)&&N&&$(a)&&(Jf({nodes:t,width:$(u),height:$(f),panZoom:$(a),minZoom:$(c),maxZoom:$(d)},$(s)).then(W=>{var J;(J=$(l))==null||J.resolve(W),l.set(null)}),r.set(!1),s.set(void 0)),_=E,m(_),_},v=E=>k(E(_)),D=E=>{g=E},O=E=>{C=E.elevateNodesOnSelect??C};return k(_),{subscribe:h,set:k,update:v,setDefaultOptions:D,setOptions:O}},Ed=(e,t,n,i)=>{const{subscribe:o,set:r,update:s}=oe([]);let l=e,a={};const u=d=>{const h=a?d.map(m=>({...a,...m})):d;Ir(t,n,h),l=h,r(l)},f=d=>u(d(l)),c=d=>{a=d};return u(l),{subscribe:o,set:u,update:f,setDefaultOptions:c}},Qr={input:qc,output:Uc,default:qr,group:Qc},jr={straight:_d,smoothstep:gd,default:Jr,step:kd},Md=({nodes:e=[],edges:t=[],width:n,height:i,fitView:o,nodeOrigin:r,nodeExtent:s})=>{const l=new Map,a=new Map,u=new Map,f=new Map,c=r??[0,0],d=s??ni;Or(e,l,a,{nodeExtent:d,nodeOrigin:c,elevateNodesOnSelect:!1,checkEquality:!1}),Ir(u,f,t);let h={x:0,y:0,zoom:1};if(o&&n&&i){const O=En(l,{filter:E=>!!((E.width||E.initialWidth)&&(E.height||E.initialHeight))});h=wr(O,n,i,.5,2,.1)}const m=oe(!1),y=oe(void 0),_=oe(null),g=oe(null),C=oe(500),k=oe(500),v=oe(.5),D=oe(2);return{flowId:oe(null),nodes:Cd(e,l,a,c,d,m,y,_,g,C,k,v,D),nodeLookup:xe(l),parentLookup:xe(a),edgeLookup:xe(f),visibleNodes:xe([]),edges:Ed(t,u,f),visibleEdges:xe([]),connectionLookup:xe(u),width:C,height:k,minZoom:v,maxZoom:D,nodeOrigin:oe(c),nodeDragThreshold:oe(1),nodeExtent:oe(d),translateExtent:oe(ni),autoPanOnNodeDrag:oe(!0),autoPanOnConnect:oe(!0),fitViewQueued:m,fitViewOptions:y,fitViewResolver:_,panZoom:g,snapGrid:oe(null),dragging:oe(!1),selectionRect:oe(null),selectionKeyPressed:oe(!1),multiselectionKeyPressed:oe(!1),deleteKeyPressed:oe(!1),panActivationKeyPressed:oe(!1),zoomActivationKeyPressed:oe(!1),selectionRectMode:oe(null),selectionMode:oe(ii.Partial),nodeTypes:oe(Qr),edgeTypes:oe(jr),viewport:oe(h),connectionMode:oe(Ot.Strict),domNode:oe(null),connection:xe(Xi),connectionLineType:oe(Jt.Bezier),connectionRadius:oe(20),isValidConnection:oe(()=>!0),nodesDraggable:oe(!0),nodesConnectable:oe(!0),elementsSelectable:oe(!0),selectNodesOnDrag:oe(!0),markers:xe([]),defaultMarkerColor:oe("#b1b1b7"),lib:xe("svelte"),onlyRenderVisibleElements:oe(!1),onerror:oe(br),ondelete:oe(void 0),onedgecreate:oe(void 0),onconnect:oe(void 0),onconnectstart:oe(void 0),onconnectend:oe(void 0),onbeforedelete:oe(void 0),nodesInitialized:oe(!1),edgesInitialized:oe(!1),viewportInitialized:oe(!1),initialized:xe(!1)}};function zd(e){const t=Ft([e.edges,e.nodes,e.nodeLookup,e.onlyRenderVisibleElements,e.viewport,e.width,e.height],([n,,i,o,r,s,l])=>o&&s&&l?n.filter(u=>{const f=i.get(u.source),c=i.get(u.target);return f&&c&&lc({sourceNode:f,targetNode:c,width:s,height:l,transform:[r.x,r.y,r.zoom]})}):n);return Ft([t,e.nodes,e.nodeLookup,e.connectionMode,e.onerror],([n,,i,o,r])=>n.reduce((l,a)=>{const u=i.get(a.source),f=i.get(a.target);if(!u||!f)return l;const c=hc({id:a.id,sourceNode:u,targetNode:f,sourceHandle:a.sourceHandle||null,targetHandle:a.targetHandle||null,connectionMode:o,onError:r});return c&&l.push({...a,zIndex:rc({selected:a.selected,zIndex:a.zIndex,sourceNode:u,targetNode:f,elevateOnSelect:!1}),...c}),l},[]))}function Pd(e){return Ft([e.nodeLookup,e.onlyRenderVisibleElements,e.width,e.height,e.viewport,e.nodes],([t,n,i,o,r])=>{const s=[r.x,r.y,r.zoom];return n?hr(t,{x:0,y:0,width:i,height:o},s,!0):Array.from(t.values())})}const to=Symbol();function Nd({nodes:e,edges:t,width:n,height:i,fitView:o,nodeOrigin:r,nodeExtent:s}){const l=Md({nodes:e,edges:t,width:n,height:i,fitView:o,nodeOrigin:r,nodeExtent:s});function a(S){l.nodeTypes.set({...Qr,...S})}function u(S){l.edgeTypes.set({...jr,...S})}function f(S){const p=$(l.edges);l.edges.set(uc(S,p))}const c=(S,p=!1)=>{var H;const z=$(l.nodeLookup);for(const[I,X]of S){const G=(H=z.get(I))==null?void 0:H.internals.userNode;G&&(G.position=X.position,G.dragging=p)}l.nodes.update(I=>I)};function d(S){var X,G,j;const p=$(l.nodeLookup),z=$(l.parentLookup),{changes:H,updatedInternals:I}=kc(S,p,$(l.parentLookup),$(l.domNode),$(l.nodeOrigin));if(I){yc(p,z,{nodeOrigin:r,nodeExtent:s});for(const x of H){const V=(X=p.get(x.id))==null?void 0:X.internals.userNode;if(V)switch(x.type){case"dimensions":{const ee={...V.measured,...x.dimensions};x.setAttributes&&(V.width=((G=x.dimensions)==null?void 0:G.width)??V.width,V.height=((j=x.dimensions)==null?void 0:j.height)??V.height),V.measured=ee;break}case"position":V.position=x.position??V.position;break}}l.nodes.update(x=>x),$(l.nodesInitialized)||l.nodesInitialized.set(!0)}}function h(S){const p=$(l.fitViewResolver)??ec();return l.fitViewQueued.set(!0),l.fitViewOptions.set(S),l.fitViewResolver.set(p),l.nodes.set($(l.nodes)),p.promise}function m(S,p){const z=$(l.panZoom);return z?z.scaleBy(S,p):Promise.resolve(!1)}function y(S){return m(1.2,S)}function _(S){return m(.8333333333333334,S)}function g(S){const p=$(l.panZoom);p&&(p.setScaleExtent([S,$(l.maxZoom)]),l.minZoom.set(S))}function C(S){const p=$(l.panZoom);p&&(p.setScaleExtent([$(l.minZoom),S]),l.maxZoom.set(S))}function k(S){const p=$(l.panZoom);p&&(p.setTranslateExtent(S),l.translateExtent.set(S))}function v(S){let p=!1;return S.forEach(z=>{z.selected&&(z.selected=!1,p=!0)}),p}function D(S){var p;(p=$(l.panZoom))==null||p.setClickDistance(S)}function O(S){v((S==null?void 0:S.nodes)||$(l.nodes))&&l.nodes.set($(l.nodes)),v((S==null?void 0:S.edges)||$(l.edges))&&l.edges.set($(l.edges))}l.deleteKeyPressed.subscribe(async S=>{var p;if(S){const z=$(l.nodes),H=$(l.edges),I=z.filter(x=>x.selected),X=H.filter(x=>x.selected),{nodes:G,edges:j}=await jf({nodesToRemove:I,edgesToRemove:X,nodes:z,edges:H,onBeforeDelete:$(l.onbeforedelete)});(G.length||j.length)&&(l.nodes.update(x=>x.filter(V=>!G.some(ee=>ee.id===V.id))),l.edges.update(x=>x.filter(V=>!j.some(ee=>ee.id===V.id))),(p=$(l.ondelete))==null||p({nodes:G,edges:j}))}});function E(S){const p=$(l.multiselectionKeyPressed);l.nodes.update(z=>z.map(H=>{const I=S.includes(H.id),X=p&&H.selected||I;return H.selected=X,H})),p||l.edges.update(z=>z.map(H=>(H.selected=!1,H)))}function N(S){const p=$(l.multiselectionKeyPressed);l.edges.update(z=>z.map(H=>{const I=S.includes(H.id),X=p&&H.selected||I;return H.selected=X,H})),p||l.nodes.update(z=>z.map(H=>(H.selected=!1,H)))}function A(S){var z;const p=(z=$(l.nodes))==null?void 0:z.find(H=>H.id===S);if(!p){console.warn("012",Dt.error012(S));return}l.selectionRect.set(null),l.selectionRectMode.set(null),p.selected?p.selected&&$(l.multiselectionKeyPressed)&&O({nodes:[p],edges:[]}):E([S])}function W(S){const p=$(l.viewport);return vc({delta:S,panZoom:$(l.panZoom),transform:[p.x,p.y,p.zoom],translateExtent:$(l.translateExtent),width:$(l.width),height:$(l.height)})}const J=oe(Xi),Z=S=>{J.set({...S})};function T(){J.set(Xi)}function b(){l.selectionRect.set(null),l.selectionRectMode.set(null),l.snapGrid.set(null),l.isValidConnection.set(()=>!0),O(),T()}return{...l,visibleEdges:zd(l),visibleNodes:Pd(l),connection:Ft([J,l.viewport],([S,p])=>S.inProgress?{...S,to:li(S.to,[p.x,p.y,p.zoom])}:{...S}),markers:Ft([l.edges,l.defaultMarkerColor,l.flowId],([S,p,z])=>gc(S,{defaultColor:p,id:z})),initialized:(()=>{let S=!1;const p=$(l.nodes).length,z=$(l.edges).length;return Ft([l.nodesInitialized,l.edgesInitialized,l.viewportInitialized],([H,I,X])=>S||(p===0?S=X:z===0?S=X&&H:S=X&&H&&I,S))})(),syncNodeStores:S=>vd(l.nodes,S),syncEdgeStores:S=>pd(l.edges,S),syncViewport:S=>Sd(l.panZoom,l.viewport,S),setNodeTypes:a,setEdgeTypes:u,addEdge:f,updateNodePositions:c,updateNodeInternals:d,zoomIn:y,zoomOut:_,fitView:S=>h(S),setMinZoom:g,setMaxZoom:C,setTranslateExtent:k,setPaneClickDistance:D,unselectNodesAndEdges:O,addSelectedNodes:E,addSelectedEdges:N,handleNodeSelection:A,panBy:W,updateConnection:Z,cancelConnection:T,reset:b}}function Ie(){const e=Dn(to);if(!e)throw new Error("In order to use useStore you need to wrap your component in a <SvelteFlowProvider />");return e.getStore()}function Ad({nodes:e,edges:t,width:n,height:i,fitView:o,nodeOrigin:r,nodeExtent:s}){const l=Nd({nodes:e,edges:t,width:n,height:i,fitView:o,nodeOrigin:r,nodeExtent:s});return An(to,{getStore:()=>l}),l}function Dd(e,t){const{panZoom:n,minZoom:i,maxZoom:o,initialViewport:r,viewport:s,dragging:l,translateExtent:a,paneClickDistance:u}=t,f=Xc({domNode:e,minZoom:i,maxZoom:o,translateExtent:a,viewport:r,paneClickDistance:u,onDraggingChange:l.set}),c=f.getViewport();return s.set(c),n.set(f),f.update(t),{update(d){f.update(d)}}}function Od(e){let t,n,i,o,r;const s=e[35].default,l=qe(s,e,e[34],null);return{c(){t=se("div"),l&&l.c(),w(t,"class","svelte-flow__zoom svelte-4xkw84")},m(a,u){F(a,t,u),l&&l.m(t,null),i=!0,o||(r=Be(n=Dd.call(null,t,{viewport:e[18],minZoom:e[12],maxZoom:e[13],initialViewport:e[11],dragging:e[23],panZoom:e[19],onPanZoomStart:e[0],onPanZoom:e[1],onPanZoomEnd:e[2],zoomOnScroll:e[5],zoomOnDoubleClick:e[6],zoomOnPinch:e[7],panOnScroll:e[9],panOnDrag:e[10],panOnScrollSpeed:.5,panOnScrollMode:e[3]||ut.Free,zoomActivationKeyPressed:e[14],preventScrolling:typeof e[4]=="boolean"?e[4]:!0,noPanClassName:"nopan",noWheelClassName:"nowheel",userSelectionActive:!!e[15],translateExtent:e[16],lib:e[17],paneClickDistance:e[8],onTransformChange:e[29]})),o=!0)},p(a,u){l&&l.p&&(!i||u[1]&8)&&Ge(l,s,a,a[34],i?Ze(s,a[34],u,null):Ue(a[34]),null),n&&Ae(n.update)&&u[0]&262143&&n.update.call(null,{viewport:a[18],minZoom:a[12],maxZoom:a[13],initialViewport:a[11],dragging:a[23],panZoom:a[19],onPanZoomStart:a[0],onPanZoom:a[1],onPanZoomEnd:a[2],zoomOnScroll:a[5],zoomOnDoubleClick:a[6],zoomOnPinch:a[7],panOnScroll:a[9],panOnDrag:a[10],panOnScrollSpeed:.5,panOnScrollMode:a[3]||ut.Free,zoomActivationKeyPressed:a[14],preventScrolling:typeof a[4]=="boolean"?a[4]:!0,noPanClassName:"nopan",noWheelClassName:"nowheel",userSelectionActive:!!a[15],translateExtent:a[16],lib:a[17],paneClickDistance:a[8],onTransformChange:a[29]})},i(a){i||(R(l,a),i=!0)},o(a){Y(l,a),i=!1},d(a){a&&B(t),l&&l.d(a),o=!1,r()}}}function Td(e,t,n){let i,o,r,s,l,a,u,f,c,d,h,{$$slots:m={},$$scope:y}=t,{initialViewport:_=void 0}=t,{onMoveStart:g=void 0}=t,{onMove:C=void 0}=t,{onMoveEnd:k=void 0}=t,{panOnScrollMode:v}=t,{preventScrolling:D}=t,{zoomOnScroll:O}=t,{zoomOnDoubleClick:E}=t,{zoomOnPinch:N}=t,{panOnDrag:A}=t,{panOnScroll:W}=t,{paneClickDistance:J}=t;const{viewport:Z,panZoom:T,selectionRect:b,minZoom:S,maxZoom:p,dragging:z,translateExtent:H,lib:I,panActivationKeyPressed:X,zoomActivationKeyPressed:G,viewportInitialized:j}=Ie();U(e,b,V=>n(15,c=V)),U(e,S,V=>n(12,a=V)),U(e,p,V=>n(13,u=V)),U(e,H,V=>n(16,d=V)),U(e,I,V=>n(17,h=V)),U(e,X,V=>n(33,l=V)),U(e,G,V=>n(14,f=V)),U(e,j,V=>n(36,s=V));const x=V=>Z.set({x:V[0],y:V[1],zoom:V[2]});return fn(()=>{zn(j,s=!0,s)}),e.$$set=V=>{"initialViewport"in V&&n(30,_=V.initialViewport),"onMoveStart"in V&&n(0,g=V.onMoveStart),"onMove"in V&&n(1,C=V.onMove),"onMoveEnd"in V&&n(2,k=V.onMoveEnd),"panOnScrollMode"in V&&n(3,v=V.panOnScrollMode),"preventScrolling"in V&&n(4,D=V.preventScrolling),"zoomOnScroll"in V&&n(5,O=V.zoomOnScroll),"zoomOnDoubleClick"in V&&n(6,E=V.zoomOnDoubleClick),"zoomOnPinch"in V&&n(7,N=V.zoomOnPinch),"panOnDrag"in V&&n(31,A=V.panOnDrag),"panOnScroll"in V&&n(32,W=V.panOnScroll),"paneClickDistance"in V&&n(8,J=V.paneClickDistance),"$$scope"in V&&n(34,y=V.$$scope)},e.$$.update=()=>{e.$$.dirty[0]&1073741824&&n(11,i=_||{x:0,y:0,zoom:1}),e.$$.dirty[1]&5&&n(10,o=l||A),e.$$.dirty[1]&6&&n(9,r=l||W)},[g,C,k,v,D,O,E,N,J,r,o,i,a,u,f,c,d,h,Z,T,b,S,p,z,H,I,X,G,j,x,_,A,W,l,y,m]}class Hd extends ge{constructor(t){super(),he(this,t,Td,Od,me,{initialViewport:30,onMoveStart:0,onMove:1,onMoveEnd:2,panOnScrollMode:3,preventScrolling:4,zoomOnScroll:5,zoomOnDoubleClick:6,zoomOnPinch:7,panOnDrag:31,panOnScroll:32,paneClickDistance:8},null,[-1,-1])}}function Id(e){let t,n,i,o;const r=e[29].default,s=qe(r,e,e[28],null);return{c(){t=se("div"),s&&s.c(),w(t,"class","svelte-flow__pane svelte-1esy7hx"),fe(t,"draggable",e[0]===!0||Array.isArray(e[0])&&e[0].includes(0)),fe(t,"dragging",e[4]),fe(t,"selection",e[1])},m(l,a){F(l,t,a),s&&s.m(t,null),e[30](t),n=!0,i||(o=[Se(t,"click",function(){Ae(e[3]?void 0:hi(e[16],e[2]))&&(e[3]?void 0:hi(e[16],e[2])).apply(this,arguments)}),Se(t,"pointerdown",function(){Ae(e[3]?e[17]:void 0)&&(e[3]?e[17]:void 0).apply(this,arguments)}),Se(t,"pointermove",function(){Ae(e[3]?e[18]:void 0)&&(e[3]?e[18]:void 0).apply(this,arguments)}),Se(t,"pointerup",function(){Ae(e[3]?e[19]:void 0)&&(e[3]?e[19]:void 0).apply(this,arguments)}),Se(t,"contextmenu",function(){Ae(hi(e[20],e[2]))&&hi(e[20],e[2]).apply(this,arguments)})],i=!0)},p(l,a){e=l,s&&s.p&&(!n||a[0]&268435456)&&Ge(s,r,e,e[28],n?Ze(r,e[28],a,null):Ue(e[28]),null),(!n||a[0]&1)&&fe(t,"draggable",e[0]===!0||Array.isArray(e[0])&&e[0].includes(0)),(!n||a[0]&16)&&fe(t,"dragging",e[4]),(!n||a[0]&2)&&fe(t,"selection",e[1])},i(l){n||(R(s,l),n=!0)},o(l){Y(s,l),n=!1},d(l){l&&B(t),s&&s.d(l),e[30](null),i=!1,Ye(o)}}}function hi(e,t){return n=>{n.target===t&&(e==null||e(n))}}function xr(e){return t=>{const n=e.includes(t.id);return t.selected!==n&&(t.selected=n),t}}function Vd(e,t,n){let i,o,r,s,l,a,u,f,c,d,h,m,y,_,{$$slots:g={},$$scope:C}=t,{panOnDrag:k=void 0}=t,{selectionOnDrag:v=void 0}=t;const D=cn(),{nodes:O,nodeLookup:E,edges:N,viewport:A,dragging:W,elementsSelectable:J,selectionRect:Z,selectionRectMode:T,selectionKeyPressed:b,selectionMode:S,panActivationKeyPressed:p,unselectNodesAndEdges:z,connection:H}=Ie();U(e,E,Q=>n(37,c=Q)),U(e,N,Q=>n(34,a=Q)),U(e,A,Q=>n(36,f=Q)),U(e,W,Q=>n(4,_=Q)),U(e,J,Q=>n(26,m=Q)),U(e,Z,Q=>n(25,d=Q)),U(e,T,Q=>n(24,l=Q)),U(e,b,Q=>n(23,s=Q)),U(e,S,Q=>n(35,u=Q)),U(e,p,Q=>n(27,y=Q)),U(e,H,Q=>n(38,h=Q));let I,X=null,G=[],j=!1;function x(Q){if(j||h.inProgress){j=!1;return}D("paneclick",{event:Q}),z(),T.set(null)}function V(Q){var we,ze;if(X=I.getBoundingClientRect(),!J||!o||Q.button!==0||Q.target!==I||!X)return;(ze=(we=Q.target)==null?void 0:we.setPointerCapture)==null||ze.call(we,Q.pointerId);const{x:ye,y:be}=yt(Q,X);z(),Z.set({width:0,height:0,startX:ye,startY:be,x:ye,y:be})}function ee(Q){if(!o||!X||!d)return;j=!0;const ye=yt(Q,X),be=d.startX??0,we=d.startY??0,ze={...d,x:ye.x<be?ye.x:be,y:ye.y<we?ye.y:we,width:Math.abs(ye.x-be),height:Math.abs(ye.y-we)},K=G.map(Me=>Me.id),Ne=Yi(G,a).map(Me=>Me.id);G=hr(c,ze,[f.x,f.y,f.zoom],u===ii.Partial,!0);const Xe=Yi(G,a).map(Me=>Me.id),Ke=G.map(Me=>Me.id);(K.length!==Ke.length||Ke.some(Me=>!K.includes(Me)))&&O.update(Me=>Me.map(xr(Ke))),(Ne.length!==Xe.length||Xe.some(Me=>!Ne.includes(Me)))&&N.update(Me=>Me.map(xr(Xe))),T.set("user"),Z.set(ze)}function re(Q){var ye,be;Q.button===0&&((be=(ye=Q.target)==null?void 0:ye.releasePointerCapture)==null||be.call(ye,Q.pointerId),!o&&l==="user"&&Q.target===I&&(x==null||x(Q)),Z.set(null),G.length>0&&zn(T,l="nodes",l),s&&(j=!1))}const q=Q=>{if(Array.isArray(i)&&(i!=null&&i.includes(2))){Q.preventDefault();return}D("panecontextmenu",{event:Q})};function ke(Q){dn[Q?"unshift":"push"](()=>{I=Q,n(2,I)})}return e.$$set=Q=>{"panOnDrag"in Q&&n(0,k=Q.panOnDrag),"selectionOnDrag"in Q&&n(21,v=Q.selectionOnDrag),"$$scope"in Q&&n(28,C=Q.$$scope)},e.$$.update=()=>{e.$$.dirty[0]&134217729&&n(22,i=y||k),e.$$.dirty[0]&48234496&&n(1,o=s||d||v&&i!==!0),e.$$.dirty[0]&83886082&&n(3,r=m&&(o||l==="user"))},[k,o,I,r,_,E,N,A,W,J,Z,T,b,S,p,H,x,V,ee,re,q,v,i,s,l,d,m,y,C,g,ke]}class Rd extends ge{constructor(t){super(),he(this,t,Vd,Id,me,{panOnDrag:0,selectionOnDrag:21},null,[-1,-1])}}function Xd(e){let t,n;const i=e[3].default,o=qe(i,e,e[2],null);return{c(){t=se("div"),o&&o.c(),w(t,"class","svelte-flow__viewport xyflow__viewport svelte-1floaup"),ae(t,"transform","translate("+e[0].x+"px, "+e[0].y+"px) scale("+e[0].zoom+")")},m(r,s){F(r,t,s),o&&o.m(t,null),n=!0},p(r,[s]){o&&o.p&&(!n||s&4)&&Ge(o,i,r,r[2],n?Ze(i,r[2],s,null):Ue(r[2]),null),(!n||s&1)&&ae(t,"transform","translate("+r[0].x+"px, "+r[0].y+"px) scale("+r[0].zoom+")")},i(r){n||(R(o,r),n=!0)},o(r){Y(o,r),n=!1},d(r){r&&B(t),o&&o.d(r)}}}function Yd(e,t,n){let i,{$$slots:o={},$$scope:r}=t;const{viewport:s}=Ie();return U(e,s,l=>n(0,i=l)),e.$$set=l=>{"$$scope"in l&&n(2,r=l.$$scope)},[i,s,r,o]}class Wd extends ge{constructor(t){super(),he(this,t,Yd,Xd,me,{})}}function $r(e,t){const{store:n,onDrag:i,onDragStart:o,onDragStop:r,onNodeMouseDown:s}=t,l=Sc({onDrag:i,onDragStart:o,onDragStop:r,onNodeMouseDown:s,getStoreItems:()=>{const u=$(n.snapGrid),f=$(n.viewport);return{nodes:$(n.nodes),nodeLookup:$(n.nodeLookup),edges:$(n.edges),nodeExtent:$(n.nodeExtent),snapGrid:u||[0,0],snapToGrid:!!u,nodeOrigin:$(n.nodeOrigin),multiSelectionActive:$(n.multiselectionKeyPressed),domNode:$(n.domNode),transform:[f.x,f.y,f.zoom],autoPanOnNodeDrag:$(n.autoPanOnNodeDrag),nodesDraggable:$(n.nodesDraggable),selectNodesOnDrag:$(n.selectNodesOnDrag),nodeDragThreshold:$(n.nodeDragThreshold),unselectNodesAndEdges:n.unselectNodesAndEdges,updateNodePositions:n.updateNodePositions,panBy:n.panBy}}});function a(u,f){if(f.disabled){l.destroy();return}l.update({domNode:u,noDragClassName:f.noDragClass,handleSelector:f.handleSelector,nodeId:f.nodeId,isSelectable:f.isSelectable,nodeClickDistance:f.nodeClickDistance})}return a(e,t),{update(u){a(e,u)},destroy(){l.destroy()}}}function Ld({width:e,height:t,initialWidth:n,initialHeight:i,measuredWidth:o,measuredHeight:r}){if(o===void 0&&r===void 0){const s=e??n,l=t??i;return{width:s?`width:${s}px;`:"",height:l?`height:${l}px;`:""}}return{width:e?`width:${e}px;`:"",height:t?`height:${t}px;`:""}}function el(e){let t,n,i,o,r,s=`translate(${e[12]}px, ${e[13]}px)`,l,a,u;var f=e[27];function c(d,h){return{props:{data:d[2],id:d[1],selected:d[3]??!1,selectable:d[5]??d[28]??!0,deletable:d[7]??!0,sourcePosition:d[14],targetPosition:d[15],zIndex:d[16],dragging:d[9],draggable:d[4]??d[29]??!0,dragHandle:d[19],parentId:d[21],type:d[25],isConnectable:d[30],positionAbsoluteX:d[12],positionAbsoluteY:d[13],width:d[17],height:d[18]}}}return f&&(n=Nn(f,c(e))),{c(){t=se("div"),n&&le(n.$$.fragment),w(t,"data-id",e[1]),w(t,"class",i=Ee(["svelte-flow__node",`svelte-flow__node-${e[25]}`,e[23]])),w(t,"style",o=(e[10]??"")+";"+e[26].width+e[26].height),fe(t,"dragging",e[9]),fe(t,"selected",e[3]),fe(t,"draggable",e[4]),fe(t,"connectable",e[6]),fe(t,"selectable",e[5]),fe(t,"nopan",e[4]),fe(t,"parent",e[11]),ae(t,"z-index",e[16]),ae(t,"transform",s),ae(t,"visibility",e[20]?"visible":"hidden")},m(d,h){F(d,t,h),n&&ne(n,t,null),e[54](t),l=!0,a||(u=[Be(r=$r.call(null,t,{nodeId:e[1],isSelectable:e[5],disabled:!1,handleSelector:e[19],noDragClass:"nodrag",nodeClickDistance:e[22],onNodeMouseDown:e[33],onDrag:e[51],onDragStart:e[52],onDragStop:e[53],store:e[31]})),Se(t,"click",e[38]),Se(t,"mouseenter",e[55]),Se(t,"mouseleave",e[56]),Se(t,"mousemove",e[57]),Se(t,"contextmenu",e[58])],a=!0)},p(d,h){if(h[0]&134217728&&f!==(f=d[27])){if(n){Te();const y=n;Y(y.$$.fragment,1,0,()=>{ie(y,1)}),He()}f?(n=Nn(f,c(d)),le(n.$$.fragment),R(n.$$.fragment,1),ne(n,t,null)):n=null}else if(f){const y={};h[0]&4&&(y.data=d[2]),h[0]&2&&(y.id=d[1]),h[0]&8&&(y.selected=d[3]??!1),h[0]&268435488&&(y.selectable=d[5]??d[28]??!0),h[0]&128&&(y.deletable=d[7]??!0),h[0]&16384&&(y.sourcePosition=d[14]),h[0]&32768&&(y.targetPosition=d[15]),h[0]&65536&&(y.zIndex=d[16]),h[0]&512&&(y.dragging=d[9]),h[0]&536870928&&(y.draggable=d[4]??d[29]??!0),h[0]&524288&&(y.dragHandle=d[19]),h[0]&2097152&&(y.parentId=d[21]),h[0]&33554432&&(y.type=d[25]),h[0]&1073741824&&(y.isConnectable=d[30]),h[0]&4096&&(y.positionAbsoluteX=d[12]),h[0]&8192&&(y.positionAbsoluteY=d[13]),h[0]&131072&&(y.width=d[17]),h[0]&262144&&(y.height=d[18]),n.$set(y)}(!l||h[0]&2)&&w(t,"data-id",d[1]),(!l||h[0]&41943040&&i!==(i=Ee(["svelte-flow__node",`svelte-flow__node-${d[25]}`,d[23]])))&&w(t,"class",i),(!l||h[0]&67109888&&o!==(o=(d[10]??"")+";"+d[26].width+d[26].height))&&w(t,"style",o),r&&Ae(r.update)&&h[0]&4718626&&r.update.call(null,{nodeId:d[1],isSelectable:d[5],disabled:!1,handleSelector:d[19],noDragClass:"nodrag",nodeClickDistance:d[22],onNodeMouseDown:d[33],onDrag:d[51],onDragStart:d[52],onDragStop:d[53],store:d[31]}),(!l||h[0]&41943552)&&fe(t,"dragging",d[9]),(!l||h[0]&41943048)&&fe(t,"selected",d[3]),(!l||h[0]&41943056)&&fe(t,"draggable",d[4]),(!l||h[0]&41943104)&&fe(t,"connectable",d[6]),(!l||h[0]&41943072)&&fe(t,"selectable",d[5]),(!l||h[0]&41943056)&&fe(t,"nopan",d[4]),(!l||h[0]&41945088)&&fe(t,"parent",d[11]);const m=h[0]&67109888;(h[0]&67175424||m)&&ae(t,"z-index",d[16]),(h[0]&67122176&&s!==(s=`translate(${d[12]}px, ${d[13]}px)`)||m)&&ae(t,"transform",s),(h[0]&68158464||m)&&ae(t,"visibility",d[20]?"visible":"hidden")},i(d){l||(n&&R(n.$$.fragment,d),l=!0)},o(d){n&&Y(n.$$.fragment,d),l=!1},d(d){d&&B(t),n&&ie(n),e[54](null),a=!1,Ye(u)}}}function Bd(e){let t,n,i=!e[8]&&el(e);return{c(){i&&i.c(),t=We()},m(o,r){i&&i.m(o,r),F(o,t,r),n=!0},p(o,r){o[8]?i&&(Te(),Y(i,1,1,()=>{i=null}),He()):i?(i.p(o,r),r[0]&256&&R(i,1)):(i=el(o),i.c(),R(i,1),i.m(t.parentNode,t))},i(o){n||(R(i),n=!0)},o(o){Y(i),n=!1},d(o){o&&B(t),i&&i.d(o)}}}function Kd(e,t,n){let i,o,r,s,l,a,u,f,{node:c}=t,{id:d}=t,{data:h={}}=t,{selected:m=!1}=t,{draggable:y=void 0}=t,{selectable:_=void 0}=t,{connectable:g=!0}=t,{deletable:C=!0}=t,{hidden:k=!1}=t,{dragging:v=!1}=t,{resizeObserver:D=null}=t,{style:O=void 0}=t,{type:E="default"}=t,{isParent:N=!1}=t,{positionX:A}=t,{positionY:W}=t,{sourcePosition:J=void 0}=t,{targetPosition:Z=void 0}=t,{zIndex:T}=t,{measuredWidth:b=void 0}=t,{measuredHeight:S=void 0}=t,{initialWidth:p=void 0}=t,{initialHeight:z=void 0}=t,{width:H=void 0}=t,{height:I=void 0}=t,{dragHandle:X=void 0}=t,{initialized:G=!1}=t,{parentId:j=void 0}=t,{nodeClickDistance:x=void 0}=t,{class:V=""}=t;const ee=Ie(),{nodeTypes:re,nodeDragThreshold:q,selectNodesOnDrag:ke,handleNodeSelection:Q,updateNodeInternals:ye,elementsSelectable:be,nodesDraggable:we}=ee;U(e,re,P=>n(50,l=P)),U(e,be,P=>n(28,a=P)),U(e,we,P=>n(29,u=P));let ze,K=null;const Ne=cn(),Xe=oe(g);U(e,Xe,P=>n(30,f=P));let Ke,Me,et;An("svelteflow__node_id",d),An("svelteflow__node_connectable",Xe),_i(()=>{K&&(D==null||D.unobserve(K))});function Le(P){_&&(!$(ke)||!y||$(q)>0)&&Q(d),Ne("nodeclick",{node:c.internals.userNode,event:P})}const bt=(P,tt,Re,Oe)=>{Ne("nodedrag",{event:P,targetNode:Re,nodes:Oe})},te=(P,tt,Re,Oe)=>{Ne("nodedragstart",{event:P,targetNode:Re,nodes:Oe})},pt=(P,tt,Re,Oe)=>{Ne("nodedragstop",{event:P,targetNode:Re,nodes:Oe})};function St(P){dn[P?"unshift":"push"](()=>{ze=P,n(24,ze)})}const Ct=P=>Ne("nodemouseenter",{node:c,event:P}),It=P=>Ne("nodemouseleave",{node:c,event:P}),lt=P=>Ne("nodemousemove",{node:c,event:P}),ct=P=>Ne("nodecontextmenu",{node:c,event:P});return e.$$set=P=>{"node"in P&&n(0,c=P.node),"id"in P&&n(1,d=P.id),"data"in P&&n(2,h=P.data),"selected"in P&&n(3,m=P.selected),"draggable"in P&&n(4,y=P.draggable),"selectable"in P&&n(5,_=P.selectable),"connectable"in P&&n(6,g=P.connectable),"deletable"in P&&n(7,C=P.deletable),"hidden"in P&&n(8,k=P.hidden),"dragging"in P&&n(9,v=P.dragging),"resizeObserver"in P&&n(39,D=P.resizeObserver),"style"in P&&n(10,O=P.style),"type"in P&&n(40,E=P.type),"isParent"in P&&n(11,N=P.isParent),"positionX"in P&&n(12,A=P.positionX),"positionY"in P&&n(13,W=P.positionY),"sourcePosition"in P&&n(14,J=P.sourcePosition),"targetPosition"in P&&n(15,Z=P.targetPosition),"zIndex"in P&&n(16,T=P.zIndex),"measuredWidth"in P&&n(41,b=P.measuredWidth),"measuredHeight"in P&&n(42,S=P.measuredHeight),"initialWidth"in P&&n(43,p=P.initialWidth),"initialHeight"in P&&n(44,z=P.initialHeight),"width"in P&&n(17,H=P.width),"height"in P&&n(18,I=P.height),"dragHandle"in P&&n(19,X=P.dragHandle),"initialized"in P&&n(20,G=P.initialized),"parentId"in P&&n(21,j=P.parentId),"nodeClickDistance"in P&&n(22,x=P.nodeClickDistance),"class"in P&&n(23,V=P.class)},e.$$.update=()=>{e.$$.dirty[1]&512&&n(25,i=E||"default"),e.$$.dirty[0]&33554432|e.$$.dirty[1]&524288&&n(49,o=!!l[i]),e.$$.dirty[0]&33554432|e.$$.dirty[1]&524288&&n(27,r=l[i]||qr),e.$$.dirty[1]&262656&&(o||console.warn("003",Dt.error003(E))),e.$$.dirty[0]&393216|e.$$.dirty[1]&15360&&n(26,s=Ld({width:H,height:I,initialWidth:p,initialHeight:z,measuredWidth:b,measuredHeight:S})),e.$$.dirty[0]&64&&Xe.set(!!g),e.$$.dirty[0]&50380802|e.$$.dirty[1]&229376&&((Ke&&i!==Ke||Me&&J!==Me||et&&Z!==et)&&requestAnimationFrame(()=>ye(new Map([[d,{id:d,nodeElement:ze,force:!0}]]))),n(46,Ke=i),n(47,Me=J),n(48,et=Z)),e.$$.dirty[0]&17825792|e.$$.dirty[1]&16640&&D&&(ze!==K||!G)&&(K&&D.unobserve(K),ze&&D.observe(ze),n(45,K=ze))},[c,d,h,m,y,_,g,C,k,v,O,N,A,W,J,Z,T,H,I,X,G,j,x,V,ze,i,s,r,a,u,f,ee,re,Q,be,we,Ne,Xe,Le,D,E,b,S,p,z,K,Ke,Me,et,o,l,bt,te,pt,St,Ct,It,lt,ct]}class Fd extends ge{constructor(t){super(),he(this,t,Kd,Bd,uo,{node:0,id:1,data:2,selected:3,draggable:4,selectable:5,connectable:6,deletable:7,hidden:8,dragging:9,resizeObserver:39,style:10,type:40,isParent:11,positionX:12,positionY:13,sourcePosition:14,targetPosition:15,zIndex:16,measuredWidth:41,measuredHeight:42,initialWidth:43,initialHeight:44,width:17,height:18,dragHandle:19,initialized:20,parentId:21,nodeClickDistance:22,class:23},null,[-1,-1])}}const{Map:qd}=ts;function tl(e,t,n){const i=e.slice();return i[21]=t[n],i}function nl(e,t){let n,i,o;return i=new Fd({props:{node:t[21],id:t[21].id,data:t[21].data,selected:!!t[21].selected,hidden:!!t[21].hidden,draggable:!!(t[21].draggable||t[2]&&typeof t[21].draggable>"u"),selectable:!!(t[21].selectable||t[3]&&typeof t[21].selectable>"u"),connectable:!!(t[21].connectable||t[4]&&typeof t[21].connectable>"u"),deletable:t[21].deletable??!0,positionX:t[21].internals.positionAbsolute.x,positionY:t[21].internals.positionAbsolute.y,isParent:t[5].has(t[21].id),style:t[21].style,class:t[21].class,type:t[21].type??"default",sourcePosition:t[21].sourcePosition,targetPosition:t[21].targetPosition,dragging:t[21].dragging,zIndex:t[21].internals.z??0,dragHandle:t[21].dragHandle,initialized:ai(t[21]),width:t[21].width,height:t[21].height,initialWidth:t[21].initialWidth,initialHeight:t[21].initialHeight,measuredWidth:t[21].measured.width,measuredHeight:t[21].measured.height,parentId:t[21].parentId,resizeObserver:t[11],nodeClickDistance:t[0]}}),i.$on("nodeclick",t[12]),i.$on("nodemouseenter",t[13]),i.$on("nodemousemove",t[14]),i.$on("nodemouseleave",t[15]),i.$on("nodedrag",t[16]),i.$on("nodedragstart",t[17]),i.$on("nodedragstop",t[18]),i.$on("nodecontextmenu",t[19]),{key:e,first:null,c(){n=We(),le(i.$$.fragment),this.first=n},m(r,s){F(r,n,s),ne(i,r,s),o=!0},p(r,s){t=r;const l={};s&2&&(l.node=t[21]),s&2&&(l.id=t[21].id),s&2&&(l.data=t[21].data),s&2&&(l.selected=!!t[21].selected),s&2&&(l.hidden=!!t[21].hidden),s&6&&(l.draggable=!!(t[21].draggable||t[2]&&typeof t[21].draggable>"u")),s&10&&(l.selectable=!!(t[21].selectable||t[3]&&typeof t[21].selectable>"u")),s&18&&(l.connectable=!!(t[21].connectable||t[4]&&typeof t[21].connectable>"u")),s&2&&(l.deletable=t[21].deletable??!0),s&2&&(l.positionX=t[21].internals.positionAbsolute.x),s&2&&(l.positionY=t[21].internals.positionAbsolute.y),s&34&&(l.isParent=t[5].has(t[21].id)),s&2&&(l.style=t[21].style),s&2&&(l.class=t[21].class),s&2&&(l.type=t[21].type??"default"),s&2&&(l.sourcePosition=t[21].sourcePosition),s&2&&(l.targetPosition=t[21].targetPosition),s&2&&(l.dragging=t[21].dragging),s&2&&(l.zIndex=t[21].internals.z??0),s&2&&(l.dragHandle=t[21].dragHandle),s&2&&(l.initialized=ai(t[21])),s&2&&(l.width=t[21].width),s&2&&(l.height=t[21].height),s&2&&(l.initialWidth=t[21].initialWidth),s&2&&(l.initialHeight=t[21].initialHeight),s&2&&(l.measuredWidth=t[21].measured.width),s&2&&(l.measuredHeight=t[21].measured.height),s&2&&(l.parentId=t[21].parentId),s&1&&(l.nodeClickDistance=t[0]),i.$set(l)},i(r){o||(R(i.$$.fragment,r),o=!0)},o(r){Y(i.$$.fragment,r),o=!1},d(r){r&&B(n),ie(i,r)}}}function Zd(e){let t,n=[],i=new qd,o,r=je(e[1]);const s=l=>l[21].id;for(let l=0;l<r.length;l+=1){let a=tl(e,r,l),u=s(a);i.set(u,n[l]=nl(u,a))}return{c(){t=se("div");for(let l=0;l<n.length;l+=1)n[l].c();w(t,"class","svelte-flow__nodes svelte-tf4uy4")},m(l,a){F(l,t,a);for(let u=0;u<n.length;u+=1)n[u]&&n[u].m(t,null);o=!0},p(l,[a]){a&2111&&(r=je(l[1]),Te(),n=In(n,a,s,1,l,r,i,t,Hn,nl,null,tl),He())},i(l){if(!o){for(let a=0;a<r.length;a+=1)R(n[a]);o=!0}},o(l){for(let a=0;a<n.length;a+=1)Y(n[a]);o=!1},d(l){l&&B(t);for(let a=0;a<n.length;a+=1)n[a].d()}}}function Gd(e,t,n){let i,o,r,s,l,{nodeClickDistance:a=0}=t;const{visibleNodes:u,nodesDraggable:f,nodesConnectable:c,elementsSelectable:d,updateNodeInternals:h,parentLookup:m}=Ie();U(e,u,N=>n(1,i=N)),U(e,f,N=>n(2,o=N)),U(e,c,N=>n(4,s=N)),U(e,d,N=>n(3,r=N)),U(e,m,N=>n(5,l=N));const y=typeof ResizeObserver>"u"?null:new ResizeObserver(N=>{const A=new Map;N.forEach(W=>{const J=W.target.getAttribute("data-id");A.set(J,{id:J,nodeElement:W.target,force:!0})}),h(A)});_i(()=>{y==null||y.disconnect()});function _(N){pe.call(this,e,N)}function g(N){pe.call(this,e,N)}function C(N){pe.call(this,e,N)}function k(N){pe.call(this,e,N)}function v(N){pe.call(this,e,N)}function D(N){pe.call(this,e,N)}function O(N){pe.call(this,e,N)}function E(N){pe.call(this,e,N)}return e.$$set=N=>{"nodeClickDistance"in N&&n(0,a=N.nodeClickDistance)},[a,i,o,r,s,l,u,f,c,d,m,y,_,g,C,k,v,D,O,E]}class Ud extends ge{constructor(t){super(),he(this,t,Gd,Zd,me,{nodeClickDistance:0})}}function il(e){let t,n,i,o,r,s,l,a;var u=e[27];function f(c,d){return{props:{id:c[0],source:c[1],target:c[2],sourceX:c[14],sourceY:c[15],targetX:c[16],targetY:c[17],sourcePosition:c[18],targetPosition:c[19],animated:c[6],selected:c[7],label:c[10],labelStyle:c[11],data:c[3],style:c[4],interactionWidth:c[21],selectable:c[24],deletable:c[8]??!0,type:c[23],sourceHandleId:c[12],targetHandleId:c[13],markerStart:c[26],markerEnd:c[25]}}}return u&&(i=Nn(u,f(e))),{c(){t=Ce("svg"),n=Ce("g"),i&&le(i.$$.fragment),w(n,"class",o=Ee(["svelte-flow__edge",e[22]])),w(n,"data-id",e[0]),w(n,"aria-label",r=e[20]===null?void 0:e[20]?e[20]:`Edge from ${e[1]} to ${e[2]}`),w(n,"role","img"),fe(n,"animated",e[6]),fe(n,"selected",e[7]),fe(n,"selectable",e[24]),ae(t,"z-index",e[5])},m(c,d){F(c,t,d),L(t,n),i&&ne(i,n,null),s=!0,l||(a=[Se(n,"click",e[32]),Se(n,"contextmenu",e[41]),Se(n,"mouseenter",e[42]),Se(n,"mouseleave",e[43])],l=!0)},p(c,d){if(d[0]&134217728&&u!==(u=c[27])){if(i){Te();const h=i;Y(h.$$.fragment,1,0,()=>{ie(h,1)}),He()}u?(i=Nn(u,f(c)),le(i.$$.fragment),R(i.$$.fragment,1),ne(i,n,null)):i=null}else if(u){const h={};d[0]&1&&(h.id=c[0]),d[0]&2&&(h.source=c[1]),d[0]&4&&(h.target=c[2]),d[0]&16384&&(h.sourceX=c[14]),d[0]&32768&&(h.sourceY=c[15]),d[0]&65536&&(h.targetX=c[16]),d[0]&131072&&(h.targetY=c[17]),d[0]&262144&&(h.sourcePosition=c[18]),d[0]&524288&&(h.targetPosition=c[19]),d[0]&64&&(h.animated=c[6]),d[0]&128&&(h.selected=c[7]),d[0]&1024&&(h.label=c[10]),d[0]&2048&&(h.labelStyle=c[11]),d[0]&8&&(h.data=c[3]),d[0]&16&&(h.style=c[4]),d[0]&2097152&&(h.interactionWidth=c[21]),d[0]&16777216&&(h.selectable=c[24]),d[0]&256&&(h.deletable=c[8]??!0),d[0]&8388608&&(h.type=c[23]),d[0]&4096&&(h.sourceHandleId=c[12]),d[0]&8192&&(h.targetHandleId=c[13]),d[0]&67108864&&(h.markerStart=c[26]),d[0]&33554432&&(h.markerEnd=c[25]),i.$set(h)}(!s||d[0]&4194304&&o!==(o=Ee(["svelte-flow__edge",c[22]])))&&w(n,"class",o),(!s||d[0]&1)&&w(n,"data-id",c[0]),(!s||d[0]&1048582&&r!==(r=c[20]===null?void 0:c[20]?c[20]:`Edge from ${c[1]} to ${c[2]}`))&&w(n,"aria-label",r),(!s||d[0]&4194368)&&fe(n,"animated",c[6]),(!s||d[0]&4194432)&&fe(n,"selected",c[7]),(!s||d[0]&20971520)&&fe(n,"selectable",c[24]),d[0]&32&&ae(t,"z-index",c[5])},i(c){s||(i&&R(i.$$.fragment,c),s=!0)},o(c){i&&Y(i.$$.fragment,c),s=!1},d(c){c&&B(t),i&&ie(i),l=!1,Ye(a)}}}function Jd(e){let t,n,i=!e[9]&&il(e);return{c(){i&&i.c(),t=We()},m(o,r){i&&i.m(o,r),F(o,t,r),n=!0},p(o,r){o[9]?i&&(Te(),Y(i,1,1,()=>{i=null}),He()):i?(i.p(o,r),r[0]&512&&R(i,1)):(i=il(o),i.c(),R(i,1),i.m(t.parentNode,t))},i(o){n||(R(i),n=!0)},o(o){Y(i),n=!1},d(o){o&&B(t),i&&i.d(o)}}}function Qd(e,t,n){let i,o,r,s,l,a,u,f,c,{id:d}=t,{type:h="default"}=t,{source:m=""}=t,{target:y=""}=t,{data:_={}}=t,{style:g=void 0}=t,{zIndex:C=void 0}=t,{animated:k=!1}=t,{selected:v=!1}=t,{selectable:D=void 0}=t,{deletable:O=void 0}=t,{hidden:E=!1}=t,{label:N=void 0}=t,{labelStyle:A=void 0}=t,{markerStart:W=void 0}=t,{markerEnd:J=void 0}=t,{sourceHandle:Z=void 0}=t,{targetHandle:T=void 0}=t,{sourceX:b}=t,{sourceY:S}=t,{targetX:p}=t,{targetY:z}=t,{sourcePosition:H}=t,{targetPosition:I}=t,{ariaLabel:X=void 0}=t,{interactionWidth:G=void 0}=t,{class:j=""}=t;An("svelteflow__edge_id",d);const{edgeLookup:x,edgeTypes:V,flowId:ee,elementsSelectable:re}=Ie();U(e,x,K=>n(44,a=K)),U(e,V,K=>n(40,c=K)),U(e,ee,K=>n(39,f=K)),U(e,re,K=>n(38,u=K));const q=cn(),ke=Gr();function Q(K){const Ne=a.get(d);Ne&&(ke(d),q("edgeclick",{event:K,edge:Ne}))}function ye(K,Ne){const Xe=a.get(d);Xe&&q(Ne,{event:K,edge:Xe})}const be=K=>{ye(K,"edgecontextmenu")},we=K=>{ye(K,"edgemouseenter")},ze=K=>{ye(K,"edgemouseleave")};return e.$$set=K=>{"id"in K&&n(0,d=K.id),"type"in K&&n(34,h=K.type),"source"in K&&n(1,m=K.source),"target"in K&&n(2,y=K.target),"data"in K&&n(3,_=K.data),"style"in K&&n(4,g=K.style),"zIndex"in K&&n(5,C=K.zIndex),"animated"in K&&n(6,k=K.animated),"selected"in K&&n(7,v=K.selected),"selectable"in K&&n(35,D=K.selectable),"deletable"in K&&n(8,O=K.deletable),"hidden"in K&&n(9,E=K.hidden),"label"in K&&n(10,N=K.label),"labelStyle"in K&&n(11,A=K.labelStyle),"markerStart"in K&&n(36,W=K.markerStart),"markerEnd"in K&&n(37,J=K.markerEnd),"sourceHandle"in K&&n(12,Z=K.sourceHandle),"targetHandle"in K&&n(13,T=K.targetHandle),"sourceX"in K&&n(14,b=K.sourceX),"sourceY"in K&&n(15,S=K.sourceY),"targetX"in K&&n(16,p=K.targetX),"targetY"in K&&n(17,z=K.targetY),"sourcePosition"in K&&n(18,H=K.sourcePosition),"targetPosition"in K&&n(19,I=K.targetPosition),"ariaLabel"in K&&n(20,X=K.ariaLabel),"interactionWidth"in K&&n(21,G=K.interactionWidth),"class"in K&&n(22,j=K.class)},e.$$.update=()=>{e.$$.dirty[1]&8&&n(23,i=h||"default"),e.$$.dirty[0]&8388608|e.$$.dirty[1]&512&&n(27,o=c[i]||Jr),e.$$.dirty[1]&288&&n(26,r=W?`url('#${Ui(W,f)}')`:void 0),e.$$.dirty[1]&320&&n(25,s=J?`url('#${Ui(J,f)}')`:void 0),e.$$.dirty[1]&144&&n(24,l=D??u)},[d,m,y,_,g,C,k,v,O,E,N,A,Z,T,b,S,p,z,H,I,X,G,j,i,l,s,r,o,x,V,ee,re,Q,ye,h,D,W,J,u,f,c,be,we,ze]}class jd extends ge{constructor(t){super(),he(this,t,Qd,Jd,uo,{id:0,type:34,source:1,target:2,data:3,style:4,zIndex:5,animated:6,selected:7,selectable:35,deletable:8,hidden:9,label:10,labelStyle:11,markerStart:36,markerEnd:37,sourceHandle:12,targetHandle:13,sourceX:14,sourceY:15,targetX:16,targetY:17,sourcePosition:18,targetPosition:19,ariaLabel:20,interactionWidth:21,class:22},null,[-1,-1])}}function xd(e,t,n){let{onMount:i=void 0}=t,{onDestroy:o=void 0}=t;return fn(()=>(i==null||i(),o)),e.$$set=r=>{"onMount"in r&&n(0,i=r.onMount),"onDestroy"in r&&n(1,o=r.onDestroy)},[i,o]}class $d extends ge{constructor(t){super(),he(this,t,xd,null,me,{onMount:0,onDestroy:1})}}function ol(e,t,n){const i=e.slice();return i[2]=t[n],i}function rl(e,t){let n,i,o;const r=[t[2]];let s={};for(let l=0;l<r.length;l+=1)s=_e(s,r[l]);return i=new sh({props:s}),{key:e,first:null,c(){n=We(),le(i.$$.fragment),this.first=n},m(l,a){F(l,n,a),ne(i,l,a),o=!0},p(l,a){t=l;const u=a&1?dt(r,[Bt(t[2])]):{};i.$set(u)},i(l){o||(R(i.$$.fragment,l),o=!0)},o(l){Y(i.$$.fragment,l),o=!1},d(l){l&&B(n),ie(i,l)}}}function eh(e){let t,n=[],i=new Map,o,r=je(e[0]);const s=l=>l[2].id;for(let l=0;l<r.length;l+=1){let a=ol(e,r,l),u=s(a);i.set(u,n[l]=rl(u,a))}return{c(){t=Ce("defs");for(let l=0;l<n.length;l+=1)n[l].c()},m(l,a){F(l,t,a);for(let u=0;u<n.length;u+=1)n[u]&&n[u].m(t,null);o=!0},p(l,[a]){a&1&&(r=je(l[0]),Te(),n=In(n,a,s,1,l,r,i,t,Hn,rl,null,ol),He())},i(l){if(!o){for(let a=0;a<r.length;a+=1)R(n[a]);o=!0}},o(l){for(let a=0;a<n.length;a+=1)Y(n[a]);o=!1},d(l){l&&B(t);for(let a=0;a<n.length;a+=1)n[a].d()}}}function th(e,t,n){let i;const{markers:o}=Ie();return U(e,o,r=>n(0,i=r)),[i,o]}class nh extends ge{constructor(t){super(),he(this,t,th,eh,me,{})}}function ih(e){let t;return{c(){t=Ce("polyline"),w(t,"stroke",e[6]),w(t,"stroke-linecap","round"),w(t,"stroke-linejoin","round"),w(t,"stroke-width",e[7]),w(t,"fill",e[6]),w(t,"points","-5,-4 0,0 -5,4 -5,-4")},m(n,i){F(n,t,i)},p(n,i){i&64&&w(t,"stroke",n[6]),i&128&&w(t,"stroke-width",n[7]),i&64&&w(t,"fill",n[6])},d(n){n&&B(t)}}}function oh(e){let t;return{c(){t=Ce("polyline"),w(t,"stroke",e[6]),w(t,"stroke-linecap","round"),w(t,"stroke-linejoin","round"),w(t,"stroke-width",e[7]),w(t,"fill","none"),w(t,"points","-5,-4 0,0 -5,4")},m(n,i){F(n,t,i)},p(n,i){i&64&&w(t,"stroke",n[6]),i&128&&w(t,"stroke-width",n[7])},d(n){n&&B(t)}}}function rh(e){let t,n,i;function o(l,a){if(l[1]===oi.Arrow)return oh;if(l[1]===oi.ArrowClosed)return ih}let r=o(e),s=r&&r(e);return{c(){t=Ce("marker"),s&&s.c(),w(t,"class","svelte-flow__arrowhead"),w(t,"id",e[0]),w(t,"markerWidth",n=`${e[2]}`),w(t,"markerHeight",i=`${e[3]}`),w(t,"viewBox","-10 -10 20 20"),w(t,"markerUnits",e[4]),w(t,"orient",e[5]),w(t,"refX","0"),w(t,"refY","0")},m(l,a){F(l,t,a),s&&s.m(t,null)},p(l,[a]){r===(r=o(l))&&s?s.p(l,a):(s&&s.d(1),s=r&&r(l),s&&(s.c(),s.m(t,null))),a&1&&w(t,"id",l[0]),a&4&&n!==(n=`${l[2]}`)&&w(t,"markerWidth",n),a&8&&i!==(i=`${l[3]}`)&&w(t,"markerHeight",i),a&16&&w(t,"markerUnits",l[4]),a&32&&w(t,"orient",l[5])},i:ce,o:ce,d(l){l&&B(t),s&&s.d()}}}function lh(e,t,n){let{id:i}=t,{type:o}=t,{width:r=12.5}=t,{height:s=12.5}=t,{markerUnits:l="strokeWidth"}=t,{orient:a="auto-start-reverse"}=t,{color:u=void 0}=t,{strokeWidth:f=void 0}=t;return e.$$set=c=>{"id"in c&&n(0,i=c.id),"type"in c&&n(1,o=c.type),"width"in c&&n(2,r=c.width),"height"in c&&n(3,s=c.height),"markerUnits"in c&&n(4,l=c.markerUnits),"orient"in c&&n(5,a=c.orient),"color"in c&&n(6,u=c.color),"strokeWidth"in c&&n(7,f=c.strokeWidth)},[i,o,r,s,l,a,u,f]}class sh extends ge{constructor(t){super(),he(this,t,lh,rh,me,{id:0,type:1,width:2,height:3,markerUnits:4,orient:5,color:6,strokeWidth:7})}}function ll(e,t,n){const i=e.slice();return i[14]=t[n],i}function sl(e,t){let n,i,o;return i=new jd({props:{id:t[14].id,source:t[14].source,target:t[14].target,data:t[14].data,style:t[14].style,animated:t[14].animated,selected:t[14].selected,selectable:t[14].selectable??t[1],deletable:t[14].deletable,hidden:t[14].hidden,label:t[14].label,labelStyle:t[14].labelStyle,markerStart:t[14].markerStart,markerEnd:t[14].markerEnd,sourceHandle:t[14].sourceHandle,targetHandle:t[14].targetHandle,sourceX:t[14].sourceX,sourceY:t[14].sourceY,targetX:t[14].targetX,targetY:t[14].targetY,sourcePosition:t[14].sourcePosition,targetPosition:t[14].targetPosition,ariaLabel:t[14].ariaLabel,interactionWidth:t[14].interactionWidth,class:t[14].class,type:t[14].type||"default",zIndex:t[14].zIndex}}),i.$on("edgeclick",t[7]),i.$on("edgecontextmenu",t[8]),i.$on("edgemouseenter",t[9]),i.$on("edgemouseleave",t[10]),{key:e,first:null,c(){n=We(),le(i.$$.fragment),this.first=n},m(r,s){F(r,n,s),ne(i,r,s),o=!0},p(r,s){t=r;const l={};s&1&&(l.id=t[14].id),s&1&&(l.source=t[14].source),s&1&&(l.target=t[14].target),s&1&&(l.data=t[14].data),s&1&&(l.style=t[14].style),s&1&&(l.animated=t[14].animated),s&1&&(l.selected=t[14].selected),s&3&&(l.selectable=t[14].selectable??t[1]),s&1&&(l.deletable=t[14].deletable),s&1&&(l.hidden=t[14].hidden),s&1&&(l.label=t[14].label),s&1&&(l.labelStyle=t[14].labelStyle),s&1&&(l.markerStart=t[14].markerStart),s&1&&(l.markerEnd=t[14].markerEnd),s&1&&(l.sourceHandle=t[14].sourceHandle),s&1&&(l.targetHandle=t[14].targetHandle),s&1&&(l.sourceX=t[14].sourceX),s&1&&(l.sourceY=t[14].sourceY),s&1&&(l.targetX=t[14].targetX),s&1&&(l.targetY=t[14].targetY),s&1&&(l.sourcePosition=t[14].sourcePosition),s&1&&(l.targetPosition=t[14].targetPosition),s&1&&(l.ariaLabel=t[14].ariaLabel),s&1&&(l.interactionWidth=t[14].interactionWidth),s&1&&(l.class=t[14].class),s&1&&(l.type=t[14].type||"default"),s&1&&(l.zIndex=t[14].zIndex),i.$set(l)},i(r){o||(R(i.$$.fragment,r),o=!0)},o(r){Y(i.$$.fragment,r),o=!1},d(r){r&&B(n),ie(i,r)}}}function al(e){let t,n;return t=new $d({props:{onMount:e[11],onDestroy:e[12]}}),{c(){le(t.$$.fragment)},m(i,o){ne(t,i,o),n=!0},p(i,o){const r={};o&4&&(r.onMount=i[11]),o&4&&(r.onDestroy=i[12]),t.$set(r)},i(i){n||(R(t.$$.fragment,i),n=!0)},o(i){Y(t.$$.fragment,i),n=!1},d(i){ie(t,i)}}}function ah(e){let t,n,i,o,r=[],s=new Map,l,a;i=new nh({});let u=je(e[0]);const f=d=>d[14].id;for(let d=0;d<u.length;d+=1){let h=ll(e,u,d),m=f(h);s.set(m,r[d]=sl(m,h))}let c=e[0].length>0&&al(e);return{c(){t=se("div"),n=Ce("svg"),le(i.$$.fragment),o=ue();for(let d=0;d<r.length;d+=1)r[d].c();l=ue(),c&&c.c(),w(n,"class","svelte-flow__marker"),w(t,"class","svelte-flow__edges")},m(d,h){F(d,t,h),L(t,n),ne(i,n,null),L(t,o);for(let m=0;m<r.length;m+=1)r[m]&&r[m].m(t,null);L(t,l),c&&c.m(t,null),a=!0},p(d,[h]){h&3&&(u=je(d[0]),Te(),r=In(r,h,f,1,d,u,s,t,Hn,sl,l,ll),He()),d[0].length>0?c?(c.p(d,h),h&1&&R(c,1)):(c=al(d),c.c(),R(c,1),c.m(t,null)):c&&(Te(),Y(c,1,1,()=>{c=null}),He())},i(d){if(!a){R(i.$$.fragment,d);for(let h=0;h<u.length;h+=1)R(r[h]);R(c),a=!0}},o(d){Y(i.$$.fragment,d);for(let h=0;h<r.length;h+=1)Y(r[h]);Y(c),a=!1},d(d){d&&B(t),ie(i);for(let h=0;h<r.length;h+=1)r[h].d();c&&c.d()}}}function uh(e,t,n){let i,o,r,{defaultEdgeOptions:s}=t;const{visibleEdges:l,edgesInitialized:a,edges:{setDefaultOptions:u},elementsSelectable:f}=Ie();U(e,l,g=>n(0,i=g)),U(e,a,g=>n(2,r=g)),U(e,f,g=>n(1,o=g)),fn(()=>{s&&u(s)});function c(g){pe.call(this,e,g)}function d(g){pe.call(this,e,g)}function h(g){pe.call(this,e,g)}function m(g){pe.call(this,e,g)}const y=()=>{zn(a,r=!0,r)},_=()=>{zn(a,r=!1,r)};return e.$$set=g=>{"defaultEdgeOptions"in g&&n(6,s=g.defaultEdgeOptions)},[i,o,r,l,a,f,s,c,d,h,m,y,_]}class fh extends ge{constructor(t){super(),he(this,t,uh,ah,me,{defaultEdgeOptions:6})}}function ul(e){let t;return{c(){t=se("div"),w(t,"class","svelte-flow__selection svelte-1iugwpu"),ae(t,"width",typeof e[2]=="string"?e[2]:`${e[2]}px`),ae(t,"height",typeof e[3]=="string"?e[3]:`${e[3]}px`),ae(t,"transform",`translate(${e[0]}px, ${e[1]}px)`)},m(n,i){F(n,t,i)},p(n,i){i&4&&ae(t,"width",typeof n[2]=="string"?n[2]:`${n[2]}px`),i&8&&ae(t,"height",typeof n[3]=="string"?n[3]:`${n[3]}px`),i&3&&ae(t,"transform",`translate(${n[0]}px, ${n[1]}px)`)},d(n){n&&B(t)}}}function ch(e){let t,n=e[4]&&ul(e);return{c(){n&&n.c(),t=We()},m(i,o){n&&n.m(i,o),F(i,t,o)},p(i,[o]){i[4]?n?n.p(i,o):(n=ul(i),n.c(),n.m(t.parentNode,t)):n&&(n.d(1),n=null)},i:ce,o:ce,d(i){i&&B(t),n&&n.d(i)}}}function dh(e,t,n){let{x:i=0}=t,{y:o=0}=t,{width:r=0}=t,{height:s=0}=t,{isVisible:l=!0}=t;return e.$$set=a=>{"x"in a&&n(0,i=a.x),"y"in a&&n(1,o=a.y),"width"in a&&n(2,r=a.width),"height"in a&&n(3,s=a.height),"isVisible"in a&&n(4,l=a.isVisible)},[i,o,r,s,l]}class fl extends ge{constructor(t){super(),he(this,t,dh,ch,me,{x:0,y:1,width:2,height:3,isVisible:4})}}function hh(e){var i,o,r,s;let t,n;return t=new fl({props:{isVisible:!!(e[0]&&e[1]==="user"),width:(i=e[0])==null?void 0:i.width,height:(o=e[0])==null?void 0:o.height,x:(r=e[0])==null?void 0:r.x,y:(s=e[0])==null?void 0:s.y}}),{c(){le(t.$$.fragment)},m(l,a){ne(t,l,a),n=!0},p(l,[a]){var f,c,d,h;const u={};a&3&&(u.isVisible=!!(l[0]&&l[1]==="user")),a&1&&(u.width=(f=l[0])==null?void 0:f.width),a&1&&(u.height=(c=l[0])==null?void 0:c.height),a&1&&(u.x=(d=l[0])==null?void 0:d.x),a&1&&(u.y=(h=l[0])==null?void 0:h.y),t.$set(u)},i(l){n||(R(t.$$.fragment,l),n=!0)},o(l){Y(t.$$.fragment,l),n=!1},d(l){ie(t,l)}}}function gh(e,t,n){let i,o;const{selectionRect:r,selectionRectMode:s}=Ie();return U(e,r,l=>n(0,i=l)),U(e,s,l=>n(1,o=l)),[i,o,r,s]}class mh extends ge{constructor(t){super(),he(this,t,gh,hh,me,{})}}function cl(e){let t,n,i,o,r;return n=new fl({props:{width:"100%",height:"100%",x:0,y:0}}),{c(){t=se("div"),le(n.$$.fragment),w(t,"class","selection-wrapper nopan svelte-5pxri"),ae(t,"width",e[1].width+"px"),ae(t,"height",e[1].height+"px"),ae(t,"transform","translate("+e[1].x+"px, "+e[1].y+"px)"),w(t,"role","button"),w(t,"tabindex","-1")},m(s,l){F(s,t,l),ne(n,t,null),i=!0,o||(r=[Be($r.call(null,t,{disabled:!1,store:e[2],onDrag:e[11],onDragStart:e[12],onDragStop:e[13]})),Se(t,"contextmenu",e[7]),Se(t,"click",e[8]),Se(t,"keyup",_h)],o=!0)},p(s,l){(!i||l&2)&&ae(t,"width",s[1].width+"px"),(!i||l&2)&&ae(t,"height",s[1].height+"px"),(!i||l&2)&&ae(t,"transform","translate("+s[1].x+"px, "+s[1].y+"px)")},i(s){i||(R(n.$$.fragment,s),i=!0)},o(s){Y(n.$$.fragment,s),i=!1},d(s){s&&B(t),ie(n),o=!1,Ye(r)}}}function yh(e){let t=e[0]==="nodes"&&e[1]&&Ht(e[1].x)&&Ht(e[1].y),n,i,o=t&&cl(e);return{c(){o&&o.c(),n=We()},m(r,s){o&&o.m(r,s),F(r,n,s),i=!0},p(r,[s]){s&3&&(t=r[0]==="nodes"&&r[1]&&Ht(r[1].x)&&Ht(r[1].y)),t?o?(o.p(r,s),s&3&&R(o,1)):(o=cl(r),o.c(),R(o,1),o.m(n.parentNode,n)):o&&(Te(),Y(o,1,1,()=>{o=null}),He())},i(r){i||(R(o),i=!0)},o(r){Y(o),i=!1},d(r){r&&B(n),o&&o.d(r)}}}const _h=()=>{};function bh(e,t,n){let i,o,r;const s=Ie(),{selectionRectMode:l,nodes:a,nodeLookup:u}=s;U(e,l,g=>n(0,r=g)),U(e,a,g=>n(9,i=g)),U(e,u,g=>n(10,o=g));const f=cn();let c=null;function d(g){const C=i.filter(k=>k.selected);f("selectioncontextmenu",{nodes:C,event:g})}function h(g){const C=i.filter(k=>k.selected);f("selectionclick",{nodes:C,event:g})}const m=(g,C,k,v)=>{f("nodedrag",{event:g,targetNode:null,nodes:v})},y=(g,C,k,v)=>{f("nodedragstart",{event:g,targetNode:null,nodes:v})},_=(g,C,k,v)=>{f("nodedragstop",{event:g,targetNode:null,nodes:v})};return e.$$.update=()=>{e.$$.dirty&1537&&r==="nodes"&&n(1,c=En(o,{filter:g=>!!g.selected}))},[r,c,s,l,a,u,f,d,h,i,o,m,y,_]}class wh extends ge{constructor(t){super(),he(this,t,bh,yh,me,{})}}function ft(e,t){let{enabled:n=!0,trigger:i,type:o="keydown"}=t;function r(s){const l=Array.isArray(i)?i:[i],a={alt:s.altKey,ctrl:s.ctrlKey,shift:s.shiftKey,meta:s.metaKey};for(const u of l){const f={modifier:[],preventDefault:!1,enabled:!0,...u},{modifier:c,key:d,callback:h,preventDefault:m,enabled:y}=f;if(y){if(c.length&&!(Array.isArray(c)?c:[c]).map(C=>typeof C=="string"?[C]:C).some(C=>C.every(k=>a[k])))continue;if(s.key===d){m&&s.preventDefault();const _={node:e,trigger:f,originalEvent:s};e.dispatchEvent(new CustomEvent("shortcut",{detail:_})),h==null||h(_)}}}}return n&&e.addEventListener(o,r),{update:s=>{const{enabled:l=!0,type:a="keydown"}=s;n&&(!l||o!==a)?e.removeEventListener(o,r):!n&&l&&e.addEventListener(a,r),n=l,o=a,i=s.trigger},destroy:()=>{e.removeEventListener(o,r)}}}function kh(e){let t,n,i,o,r,s,l,a,u,f,c,d;return{c:ce,m(h,m){c||(d=[Be(t=ft.call(null,window,{trigger:Ve(e[0],e[11]),type:"keydown"})),Be(n=ft.call(null,window,{trigger:Ve(e[0],e[12]),type:"keyup"})),Be(i=ft.call(null,window,{trigger:Ve(e[1],e[13]),type:"keydown"})),Be(o=ft.call(null,window,{trigger:Ve(e[1],e[14]),type:"keyup"})),Be(r=ft.call(null,window,{trigger:Ve(e[2],e[15]),type:"keydown"})),Be(s=ft.call(null,window,{trigger:Ve(e[2],e[16]),type:"keyup"})),Be(l=ft.call(null,window,{trigger:Ve(e[3],e[17]),type:"keydown"})),Be(a=ft.call(null,window,{trigger:Ve(e[3],e[18]),type:"keyup"})),Be(u=ft.call(null,window,{trigger:Ve(e[4],e[19]),type:"keydown"})),Be(f=ft.call(null,window,{trigger:Ve(e[4],e[20]),type:"keyup"})),Se(window,"blur",e[10]),Se(window,"contextmenu",e[10])],c=!0)},p(h,[m]){t&&Ae(t.update)&&m&1&&t.update.call(null,{trigger:Ve(h[0],h[11]),type:"keydown"}),n&&Ae(n.update)&&m&1&&n.update.call(null,{trigger:Ve(h[0],h[12]),type:"keyup"}),i&&Ae(i.update)&&m&2&&i.update.call(null,{trigger:Ve(h[1],h[13]),type:"keydown"}),o&&Ae(o.update)&&m&2&&o.update.call(null,{trigger:Ve(h[1],h[14]),type:"keyup"}),r&&Ae(r.update)&&m&4&&r.update.call(null,{trigger:Ve(h[2],h[15]),type:"keydown"}),s&&Ae(s.update)&&m&4&&s.update.call(null,{trigger:Ve(h[2],h[16]),type:"keyup"}),l&&Ae(l.update)&&m&8&&l.update.call(null,{trigger:Ve(h[3],h[17]),type:"keydown"}),a&&Ae(a.update)&&m&8&&a.update.call(null,{trigger:Ve(h[3],h[18]),type:"keyup"}),u&&Ae(u.update)&&m&16&&u.update.call(null,{trigger:Ve(h[4],h[19]),type:"keydown"}),f&&Ae(f.update)&&m&16&&f.update.call(null,{trigger:Ve(h[4],h[20]),type:"keyup"})},i:ce,o:ce,d(h){c=!1,Ye(d)}}}function dl(e){return e!==null&&typeof e=="object"}function vh(e){return dl(e)?e.modifier||[]:[]}function ph(e){return e==null?"":dl(e)?e.key:e}function Ve(e,t){return(Array.isArray(e)?e:[e]).map(i=>{const o=ph(i);return{key:o,modifier:vh(i),enabled:o!==null,callback:t}})}function Sh(e,t,n){let{selectionKey:i="Shift"}=t,{multiSelectionKey:o=si()?"Meta":"Control"}=t,{deleteKey:r="Backspace"}=t,{panActivationKey:s=" "}=t,{zoomActivationKey:l=si()?"Meta":"Control"}=t;const{selectionKeyPressed:a,multiselectionKeyPressed:u,deleteKeyPressed:f,panActivationKeyPressed:c,zoomActivationKeyPressed:d,selectionRect:h}=Ie();function m(){h.set(null),a.set(!1),u.set(!1),f.set(!1),c.set(!1),d.set(!1)}const y=()=>a.set(!0),_=()=>a.set(!1),g=()=>u.set(!0),C=()=>u.set(!1),k=A=>{!(A.originalEvent.ctrlKey||A.originalEvent.metaKey||A.originalEvent.shiftKey)&&!ic(A.originalEvent)&&f.set(!0)},v=()=>f.set(!1),D=()=>c.set(!0),O=()=>c.set(!1),E=()=>d.set(!0),N=()=>d.set(!1);return e.$$set=A=>{"selectionKey"in A&&n(0,i=A.selectionKey),"multiSelectionKey"in A&&n(1,o=A.multiSelectionKey),"deleteKey"in A&&n(2,r=A.deleteKey),"panActivationKey"in A&&n(3,s=A.panActivationKey),"zoomActivationKey"in A&&n(4,l=A.zoomActivationKey)},[i,o,r,s,l,a,u,f,c,d,m,y,_,g,C,k,v,D,O,E,N]}class Ch extends ge{constructor(t){super(),he(this,t,Sh,kh,me,{selectionKey:0,multiSelectionKey:1,deleteKey:2,panActivationKey:3,zoomActivationKey:4})}}const Eh=e=>({}),hl=e=>({});function gl(e){let t,n,i,o;const r=e[13].connectionLine,s=qe(r,e,e[12],hl);let l=!e[2]&&ml(e);return{c(){t=Ce("svg"),n=Ce("g"),s&&s.c(),l&&l.c(),w(n,"class",i=Ee(["svelte-flow__connection",cr(e[3].isValid)])),w(t,"width",e[5]),w(t,"height",e[6]),w(t,"class","svelte-flow__connectionline"),w(t,"style",e[0])},m(a,u){F(a,t,u),L(t,n),s&&s.m(n,null),l&&l.m(n,null),o=!0},p(a,u){s&&s.p&&(!o||u&4096)&&Ge(s,r,a,a[12],o?Ze(r,a[12],u,Eh):Ue(a[12]),hl),a[2]?l&&(l.d(1),l=null):l?l.p(a,u):(l=ml(a),l.c(),l.m(n,null)),(!o||u&8&&i!==(i=Ee(["svelte-flow__connection",cr(a[3].isValid)])))&&w(n,"class",i),(!o||u&32)&&w(t,"width",a[5]),(!o||u&64)&&w(t,"height",a[6]),(!o||u&1)&&w(t,"style",a[0])},i(a){o||(R(s,a),o=!0)},o(a){Y(s,a),o=!1},d(a){a&&B(t),s&&s.d(a),l&&l.d()}}}function ml(e){let t;return{c(){t=Ce("path"),w(t,"d",e[4]),w(t,"style",e[1]),w(t,"fill","none"),w(t,"class","svelte-flow__connection-path")},m(n,i){F(n,t,i)},p(n,i){i&16&&w(t,"d",n[4]),i&2&&w(t,"style",n[1])},d(n){n&&B(t)}}}function Mh(e){let t,n,i=e[3].inProgress&&gl(e);return{c(){i&&i.c(),t=We()},m(o,r){i&&i.m(o,r),F(o,t,r),n=!0},p(o,[r]){o[3].inProgress?i?(i.p(o,r),r&8&&R(i,1)):(i=gl(o),i.c(),R(i,1),i.m(t.parentNode,t)):i&&(Te(),Y(i,1,1,()=>{i=null}),He())},i(o){n||(R(i),n=!0)},o(o){Y(i),n=!1},d(o){o&&B(t),i&&i.d(o)}}}function zh(e,t,n){let i,o,r,s,{$$slots:l={},$$scope:a}=t,{containerStyle:u=""}=t,{style:f=""}=t,{isCustomComponent:c=!1}=t;const{width:d,height:h,connection:m,connectionLineType:y}=Ie();U(e,d,g=>n(5,r=g)),U(e,h,g=>n(6,s=g)),U(e,m,g=>n(3,o=g)),U(e,y,g=>n(11,i=g));let _=null;return e.$$set=g=>{"containerStyle"in g&&n(0,u=g.containerStyle),"style"in g&&n(1,f=g.style),"isCustomComponent"in g&&n(2,c=g.isCustomComponent),"$$scope"in g&&n(12,a=g.$$scope)},e.$$.update=()=>{if(e.$$.dirty&2060&&o.inProgress&&!c){const{from:g,to:C,fromPosition:k,toPosition:v}=o,D={sourceX:g.x,sourceY:g.y,sourcePosition:k,targetX:C.x,targetY:C.y,targetPosition:v};switch(i){case Jt.Bezier:n(4,[_]=Cr(D),_);break;case Jt.Step:n(4,[_]=fi({...D,borderRadius:0}),_);break;case Jt.SmoothStep:n(4,[_]=fi(D),_);break;default:n(4,[_]=Mr(D),_)}}},[u,f,c,o,_,r,s,d,h,m,y,i,a,l]}class Ph extends ge{constructor(t){super(),he(this,t,zh,Mh,me,{containerStyle:0,style:1,isCustomComponent:2})}}function Nh(e){let t,n,i;const o=e[8].default,r=qe(o,e,e[7],null);let s=[{class:n=Ee(["svelte-flow__panel",e[1],...e[2]])},{style:e[0]},e[5]],l={};for(let a=0;a<s.length;a+=1)l=_e(l,s[a]);return{c(){t=se("div"),r&&r.c(),Rt(t,l),ae(t,"pointer-events",e[3]?"none":"")},m(a,u){F(a,t,u),r&&r.m(t,null),i=!0},p(a,[u]){r&&r.p&&(!i||u&128)&&Ge(r,o,a,a[7],i?Ze(o,a[7],u,null):Ue(a[7]),null),Rt(t,l=dt(s,[(!i||u&6&&n!==(n=Ee(["svelte-flow__panel",a[1],...a[2]])))&&{class:n},(!i||u&1)&&{style:a[0]},u&32&&a[5]])),ae(t,"pointer-events",a[3]?"none":"")},i(a){i||(R(r,a),i=!0)},o(a){Y(r,a),i=!1},d(a){a&&B(t),r&&r.d(a)}}}function Ah(e,t,n){let i;const o=["position","style","class"];let r=De(t,o),s,{$$slots:l={},$$scope:a}=t,{position:u="top-right"}=t,{style:f=void 0}=t,{class:c=void 0}=t;const{selectionRectMode:d}=Ie();return U(e,d,h=>n(3,s=h)),e.$$set=h=>{t=_e(_e({},t),nt(h)),n(5,r=De(t,o)),"position"in h&&n(6,u=h.position),"style"in h&&n(0,f=h.style),"class"in h&&n(1,c=h.class),"$$scope"in h&&n(7,a=h.$$scope)},e.$$.update=()=>{e.$$.dirty&64&&n(2,i=`${u}`.split("-"))},[f,c,i,s,d,r,u,a,l]}class no extends ge{constructor(t){super(),he(this,t,Ah,Nh,me,{position:6,style:0,class:1})}}function yl(e){let t,n;return t=new no({props:{position:e[1],class:"svelte-flow__attribution","data-message":"Feel free to remove the attribution or check out how you could support us: https://svelteflow.dev/support-us",$$slots:{default:[Dh]},$$scope:{ctx:e}}}),{c(){le(t.$$.fragment)},m(i,o){ne(t,i,o),n=!0},p(i,o){const r={};o&2&&(r.position=i[1]),o&4&&(r.$$scope={dirty:o,ctx:i}),t.$set(r)},i(i){n||(R(t.$$.fragment,i),n=!0)},o(i){Y(t.$$.fragment,i),n=!1},d(i){ie(t,i)}}}function Dh(e){let t;return{c(){t=se("a"),t.textContent="Svelte Flow",w(t,"href","https://svelteflow.dev"),w(t,"target","_blank"),w(t,"rel","noopener noreferrer"),w(t,"aria-label","Svelte Flow attribution")},m(n,i){F(n,t,i)},p:ce,d(n){n&&B(t)}}}function Oh(e){var o;let t,n,i=!((o=e[0])!=null&&o.hideAttribution)&&yl(e);return{c(){i&&i.c(),t=We()},m(r,s){i&&i.m(r,s),F(r,t,s),n=!0},p(r,[s]){var l;(l=r[0])!=null&&l.hideAttribution?i&&(Te(),Y(i,1,1,()=>{i=null}),He()):i?(i.p(r,s),s&1&&R(i,1)):(i=yl(r),i.c(),R(i,1),i.m(t.parentNode,t))},i(r){n||(R(i),n=!0)},o(r){Y(i),n=!1},d(r){r&&B(t),i&&i.d(r)}}}function Th(e,t,n){let{proOptions:i=void 0}=t,{position:o="bottom-right"}=t;return e.$$set=r=>{"proOptions"in r&&n(0,i=r.proOptions),"position"in r&&n(1,o=r.position)},[i,o]}class Hh extends ge{constructor(t){super(),he(this,t,Th,Oh,me,{proOptions:0,position:1})}}function _l(e,{nodeTypes:t,edgeTypes:n,minZoom:i,maxZoom:o,translateExtent:r,paneClickDistance:s}){t!==void 0&&e.setNodeTypes(t),n!==void 0&&e.setEdgeTypes(n),i!==void 0&&e.setMinZoom(i),o!==void 0&&e.setMaxZoom(o),r!==void 0&&e.setTranslateExtent(r),s!==void 0&&e.setPaneClickDistance(s)}const Ih=e=>Object.keys(e);function Vh(e,t){Ih(t).forEach(n=>{const i=t[n];i!==void 0&&e[n].set(i)})}function Rh(){return typeof window>"u"||!window.matchMedia?null:window.matchMedia("(prefers-color-scheme: dark)")}function Xh(e="light"){return xe("light",n=>{if(e!=="system"){n(e);return}const i=Rh(),o=()=>n(i!=null&&i.matches?"dark":"light");return n(i!=null&&i.matches?"dark":"light"),i==null||i.addEventListener("change",o),()=>{i==null||i.removeEventListener("change",o)}})}const Yh=e=>({}),bl=e=>({slot:"connectionLine"});function Wh(e){let t;const n=e[75].connectionLine,i=qe(n,e,e[99],bl);return{c(){i&&i.c()},m(o,r){i&&i.m(o,r),t=!0},p(o,r){i&&i.p&&(!t||r[3]&64)&&Ge(i,n,o,o[99],t?Ze(n,o[99],r,Yh):Ue(o[99]),bl)},i(o){t||(R(i,o),t=!0)},o(o){Y(i,o),t=!1},d(o){i&&i.d(o)}}}function Lh(e){let t,n,i,o,r,s,l,a,u,f,c,d;return t=new fh({props:{defaultEdgeOptions:e[21]}}),t.$on("edgeclick",e[78]),t.$on("edgecontextmenu",e[79]),t.$on("edgemouseenter",e[80]),t.$on("edgemouseleave",e[81]),i=new Ph({props:{containerStyle:e[7],style:e[6],isCustomComponent:e[34].connectionLine,$$slots:{connectionLine:[Wh]},$$scope:{ctx:e}}}),u=new Ud({props:{nodeClickDistance:e[23]}}),u.$on("nodeclick",e[82]),u.$on("nodemouseenter",e[83]),u.$on("nodemousemove",e[84]),u.$on("nodemouseleave",e[85]),u.$on("nodedragstart",e[86]),u.$on("nodedrag",e[87]),u.$on("nodedragstop",e[88]),u.$on("nodecontextmenu",e[89]),c=new wh({}),c.$on("selectionclick",e[90]),c.$on("selectioncontextmenu",e[91]),c.$on("nodedragstart",e[92]),c.$on("nodedrag",e[93]),c.$on("nodedragstop",e[94]),{c(){le(t.$$.fragment),n=ue(),le(i.$$.fragment),o=ue(),r=se("div"),s=ue(),l=se("div"),a=ue(),le(u.$$.fragment),f=ue(),le(c.$$.fragment),w(r,"class","svelte-flow__edgelabel-renderer"),w(l,"class","svelte-flow__viewport-portal")},m(h,m){ne(t,h,m),F(h,n,m),ne(i,h,m),F(h,o,m),F(h,r,m),F(h,s,m),F(h,l,m),F(h,a,m),ne(u,h,m),F(h,f,m),ne(c,h,m),d=!0},p(h,m){const y={};m[0]&2097152&&(y.defaultEdgeOptions=h[21]),t.$set(y);const _={};m[0]&128&&(_.containerStyle=h[7]),m[0]&64&&(_.style=h[6]),m[1]&8&&(_.isCustomComponent=h[34].connectionLine),m[3]&64&&(_.$$scope={dirty:m,ctx:h}),i.$set(_);const g={};m[0]&8388608&&(g.nodeClickDistance=h[23]),u.$set(g)},i(h){d||(R(t.$$.fragment,h),R(i.$$.fragment,h),R(u.$$.fragment,h),R(c.$$.fragment,h),d=!0)},o(h){Y(t.$$.fragment,h),Y(i.$$.fragment,h),Y(u.$$.fragment,h),Y(c.$$.fragment,h),d=!1},d(h){h&&(B(n),B(o),B(r),B(s),B(l),B(a),B(f)),ie(t,h),ie(i,h),ie(u,h),ie(c,h)}}}function Bh(e){let t,n,i,o;return t=new Wd({props:{$$slots:{default:[Lh]},$$scope:{ctx:e}}}),i=new mh({}),{c(){le(t.$$.fragment),n=ue(),le(i.$$.fragment)},m(r,s){ne(t,r,s),F(r,n,s),ne(i,r,s),o=!0},p(r,s){const l={};s[0]&10485952|s[1]&8|s[3]&64&&(l.$$scope={dirty:s,ctx:r}),t.$set(l)},i(r){o||(R(t.$$.fragment,r),R(i.$$.fragment,r),o=!0)},o(r){Y(t.$$.fragment,r),Y(i.$$.fragment,r),o=!1},d(r){r&&B(n),ie(t,r),ie(i,r)}}}function Kh(e){let t,n;return t=new Rd({props:{panOnDrag:e[17]===void 0?!0:e[17],selectionOnDrag:e[18],$$slots:{default:[Bh]},$$scope:{ctx:e}}}),t.$on("paneclick",e[95]),t.$on("panecontextmenu",e[96]),{c(){le(t.$$.fragment)},m(i,o){ne(t,i,o),n=!0},p(i,o){const r={};o[0]&131072&&(r.panOnDrag=i[17]===void 0?!0:i[17]),o[0]&262144&&(r.selectionOnDrag=i[18]),o[0]&10485952|o[1]&8|o[3]&64&&(r.$$scope={dirty:o,ctx:i}),t.$set(r)},i(i){n||(R(t.$$.fragment,i),n=!0)},o(i){Y(t.$$.fragment,i),n=!1},d(i){ie(t,i)}}}function Fh(e){let t,n,i,o,r,s,l,a,u,f,c,d;n=new Ch({props:{selectionKey:e[1],deleteKey:e[5],panActivationKey:e[2],multiSelectionKey:e[3],zoomActivationKey:e[4]}}),o=new Hd({props:{initialViewport:e[31],onMoveStart:e[8],onMove:e[9],onMoveEnd:e[10],panOnScrollMode:e[11]===void 0?ut.Free:e[11],preventScrolling:e[12]===void 0?!0:e[12],zoomOnScroll:e[13]===void 0?!0:e[13],zoomOnDoubleClick:e[14]===void 0?!0:e[14],zoomOnPinch:e[15]===void 0?!0:e[15],panOnScroll:e[16]===void 0?!1:e[16],panOnDrag:e[17]===void 0?!0:e[17],paneClickDistance:e[22]===void 0?0:e[22],$$slots:{default:[Kh]},$$scope:{ctx:e}}}),s=new Hh({props:{proOptions:e[20],position:e[19]}});const h=e[75].default,m=qe(h,e,e[99],null);let y=[{style:e[24]},{class:a=Ee(["svelte-flow",e[25],e[30]])},{"data-testid":"svelte-flow__wrapper"},e[33],{role:"application"}],_={};for(let g=0;g<y.length;g+=1)_=_e(_,y[g]);return{c(){t=se("div"),le(n.$$.fragment),i=ue(),le(o.$$.fragment),r=ue(),le(s.$$.fragment),l=ue(),m&&m.c(),Rt(t,_),On(()=>e[98].call(t)),fe(t,"svelte-18e9ir1",!0)},m(g,C){F(g,t,C),ne(n,t,null),L(t,i),ne(o,t,null),L(t,r),ne(s,t,null),L(t,l),m&&m.m(t,null),e[97](t),u=rs(t,e[98].bind(t)),f=!0,c||(d=[Se(t,"dragover",e[76]),Se(t,"drop",e[77])],c=!0)},p(g,C){const k={};C[0]&2&&(k.selectionKey=g[1]),C[0]&32&&(k.deleteKey=g[5]),C[0]&4&&(k.panActivationKey=g[2]),C[0]&8&&(k.multiSelectionKey=g[3]),C[0]&16&&(k.zoomActivationKey=g[4]),n.$set(k);const v={};C[0]&256&&(v.onMoveStart=g[8]),C[0]&512&&(v.onMove=g[9]),C[0]&1024&&(v.onMoveEnd=g[10]),C[0]&2048&&(v.panOnScrollMode=g[11]===void 0?ut.Free:g[11]),C[0]&4096&&(v.preventScrolling=g[12]===void 0?!0:g[12]),C[0]&8192&&(v.zoomOnScroll=g[13]===void 0?!0:g[13]),C[0]&16384&&(v.zoomOnDoubleClick=g[14]===void 0?!0:g[14]),C[0]&32768&&(v.zoomOnPinch=g[15]===void 0?!0:g[15]),C[0]&65536&&(v.panOnScroll=g[16]===void 0?!1:g[16]),C[0]&131072&&(v.panOnDrag=g[17]===void 0?!0:g[17]),C[0]&4194304&&(v.paneClickDistance=g[22]===void 0?0:g[22]),C[0]&10879168|C[1]&8|C[3]&64&&(v.$$scope={dirty:C,ctx:g}),o.$set(v);const D={};C[0]&1048576&&(D.proOptions=g[20]),C[0]&524288&&(D.position=g[19]),s.$set(D),m&&m.p&&(!f||C[3]&64)&&Ge(m,h,g,g[99],f?Ze(h,g[99],C,null):Ue(g[99]),null),Rt(t,_=dt(y,[(!f||C[0]&16777216)&&{style:g[24]},(!f||C[0]&1107296256&&a!==(a=Ee(["svelte-flow",g[25],g[30]])))&&{class:a},{"data-testid":"svelte-flow__wrapper"},C[1]&4&&g[33],{role:"application"}])),fe(t,"svelte-18e9ir1",!0)},i(g){f||(R(n.$$.fragment,g),R(o.$$.fragment,g),R(s.$$.fragment,g),R(m,g),f=!0)},o(g){Y(n.$$.fragment,g),Y(o.$$.fragment,g),Y(s.$$.fragment,g),Y(m,g),f=!1},d(g){g&&B(t),ie(n),ie(o),ie(s),m&&m.d(g),e[97](null),u(),c=!1,Ye(d)}}}function qh(e,t,n){let i;const o=["id","nodes","edges","fitView","fitViewOptions","minZoom","maxZoom","initialViewport","viewport","nodeTypes","edgeTypes","selectionKey","selectionMode","panActivationKey","multiSelectionKey","zoomActivationKey","nodesDraggable","nodesConnectable","nodeDragThreshold","elementsSelectable","snapGrid","deleteKey","connectionRadius","connectionLineType","connectionMode","connectionLineStyle","connectionLineContainerStyle","onMoveStart","onMove","onMoveEnd","isValidConnection","translateExtent","nodeExtent","onlyRenderVisibleElements","panOnScrollMode","preventScrolling","zoomOnScroll","zoomOnDoubleClick","zoomOnPinch","panOnScroll","panOnDrag","selectionOnDrag","autoPanOnConnect","autoPanOnNodeDrag","onerror","ondelete","onedgecreate","attributionPosition","proOptions","defaultEdgeOptions","width","height","colorMode","onconnect","onconnectstart","onconnectend","onbeforedelete","oninit","nodeOrigin","paneClickDistance","nodeClickDistance","defaultMarkerColor","style","class"];let r=De(t,o),s,l,a=ce,u=()=>(a(),a=sn(N,M=>n(100,l=M)),N),f,c=ce,d=()=>(c(),c=sn(i,M=>n(30,f=M)),i);e.$$.on_destroy.push(()=>a()),e.$$.on_destroy.push(()=>c());let{$$slots:h={},$$scope:m}=t;const y=es(h);let{id:_="1"}=t,{nodes:g}=t,{edges:C}=t,{fitView:k=void 0}=t,{fitViewOptions:v=void 0}=t,{minZoom:D=void 0}=t,{maxZoom:O=void 0}=t,{initialViewport:E=void 0}=t,{viewport:N=void 0}=t;u();let{nodeTypes:A=void 0}=t,{edgeTypes:W=void 0}=t,{selectionKey:J=void 0}=t,{selectionMode:Z=void 0}=t,{panActivationKey:T=void 0}=t,{multiSelectionKey:b=void 0}=t,{zoomActivationKey:S=void 0}=t,{nodesDraggable:p=void 0}=t,{nodesConnectable:z=void 0}=t,{nodeDragThreshold:H=void 0}=t,{elementsSelectable:I=void 0}=t,{snapGrid:X=void 0}=t,{deleteKey:G=void 0}=t,{connectionRadius:j=void 0}=t,{connectionLineType:x=void 0}=t,{connectionMode:V=Ot.Strict}=t,{connectionLineStyle:ee=""}=t,{connectionLineContainerStyle:re=""}=t,{onMoveStart:q=void 0}=t,{onMove:ke=void 0}=t,{onMoveEnd:Q=void 0}=t,{isValidConnection:ye=void 0}=t,{translateExtent:be=void 0}=t,{nodeExtent:we=void 0}=t,{onlyRenderVisibleElements:ze=void 0}=t,{panOnScrollMode:K=ut.Free}=t,{preventScrolling:Ne=!0}=t,{zoomOnScroll:Xe=!0}=t,{zoomOnDoubleClick:Ke=!0}=t,{zoomOnPinch:Me=!0}=t,{panOnScroll:et=!1}=t,{panOnDrag:Le=!0}=t,{selectionOnDrag:bt=void 0}=t,{autoPanOnConnect:te=!0}=t,{autoPanOnNodeDrag:pt=!0}=t,{onerror:St=void 0}=t,{ondelete:Ct=void 0}=t,{onedgecreate:It=void 0}=t,{attributionPosition:lt=void 0}=t,{proOptions:ct=void 0}=t,{defaultEdgeOptions:P=void 0}=t,{width:tt=void 0}=t,{height:Re=void 0}=t,{colorMode:Oe="light"}=t,{onconnect:en=void 0}=t,{onconnectstart:tn=void 0}=t,{onconnectend:nn=void 0}=t,{onbeforedelete:on=void 0}=t,{oninit:Et=void 0}=t,{nodeOrigin:Vt=void 0}=t,{paneClickDistance:mi=0}=t,{nodeClickDistance:Jl=0}=t,{defaultMarkerColor:ro="#b1b1b7"}=t,{style:Ql=void 0}=t,{class:jl=void 0}=t,yi,rn,ln;const r0=l||E,Fe=ss(to)?Ie():Ad({nodes:$(g),edges:$(C),width:tt,height:Re,fitView:k,nodeOrigin:Vt,nodeExtent:we});fn(()=>(Fe.width.set(rn),Fe.height.set(ln),Fe.domNode.set(yi),Fe.syncNodeStores(g),Fe.syncEdgeStores(C),Fe.syncViewport(N),k!==void 0&&Fe.fitViewQueued.set(k),v&&Fe.fitViewOptions.set(v),_l(Fe,{nodeTypes:A,edgeTypes:W,minZoom:D,maxZoom:O,translateExtent:be,paneClickDistance:mi}),()=>{Fe.reset()}));const{initialized:xl}=Fe;U(e,xl,M=>n(74,s=M));let lo=!1;function l0(M){pe.call(this,e,M)}function s0(M){pe.call(this,e,M)}function a0(M){pe.call(this,e,M)}function u0(M){pe.call(this,e,M)}function f0(M){pe.call(this,e,M)}function c0(M){pe.call(this,e,M)}function d0(M){pe.call(this,e,M)}function h0(M){pe.call(this,e,M)}function g0(M){pe.call(this,e,M)}function m0(M){pe.call(this,e,M)}function y0(M){pe.call(this,e,M)}function _0(M){pe.call(this,e,M)}function b0(M){pe.call(this,e,M)}function w0(M){pe.call(this,e,M)}function k0(M){pe.call(this,e,M)}function v0(M){pe.call(this,e,M)}function p0(M){pe.call(this,e,M)}function S0(M){pe.call(this,e,M)}function C0(M){pe.call(this,e,M)}function E0(M){pe.call(this,e,M)}function M0(M){pe.call(this,e,M)}function z0(M){dn[M?"unshift":"push"](()=>{yi=M,n(28,yi)})}function P0(){rn=this.clientWidth,ln=this.clientHeight,n(26,rn),n(27,ln)}return e.$$set=M=>{t=_e(_e({},t),nt(M)),n(33,r=De(t,o)),"id"in M&&n(35,_=M.id),"nodes"in M&&n(36,g=M.nodes),"edges"in M&&n(37,C=M.edges),"fitView"in M&&n(38,k=M.fitView),"fitViewOptions"in M&&n(39,v=M.fitViewOptions),"minZoom"in M&&n(40,D=M.minZoom),"maxZoom"in M&&n(41,O=M.maxZoom),"initialViewport"in M&&n(42,E=M.initialViewport),"viewport"in M&&u(n(0,N=M.viewport)),"nodeTypes"in M&&n(43,A=M.nodeTypes),"edgeTypes"in M&&n(44,W=M.edgeTypes),"selectionKey"in M&&n(1,J=M.selectionKey),"selectionMode"in M&&n(45,Z=M.selectionMode),"panActivationKey"in M&&n(2,T=M.panActivationKey),"multiSelectionKey"in M&&n(3,b=M.multiSelectionKey),"zoomActivationKey"in M&&n(4,S=M.zoomActivationKey),"nodesDraggable"in M&&n(46,p=M.nodesDraggable),"nodesConnectable"in M&&n(47,z=M.nodesConnectable),"nodeDragThreshold"in M&&n(48,H=M.nodeDragThreshold),"elementsSelectable"in M&&n(49,I=M.elementsSelectable),"snapGrid"in M&&n(50,X=M.snapGrid),"deleteKey"in M&&n(5,G=M.deleteKey),"connectionRadius"in M&&n(51,j=M.connectionRadius),"connectionLineType"in M&&n(52,x=M.connectionLineType),"connectionMode"in M&&n(53,V=M.connectionMode),"connectionLineStyle"in M&&n(6,ee=M.connectionLineStyle),"connectionLineContainerStyle"in M&&n(7,re=M.connectionLineContainerStyle),"onMoveStart"in M&&n(8,q=M.onMoveStart),"onMove"in M&&n(9,ke=M.onMove),"onMoveEnd"in M&&n(10,Q=M.onMoveEnd),"isValidConnection"in M&&n(54,ye=M.isValidConnection),"translateExtent"in M&&n(55,be=M.translateExtent),"nodeExtent"in M&&n(56,we=M.nodeExtent),"onlyRenderVisibleElements"in M&&n(57,ze=M.onlyRenderVisibleElements),"panOnScrollMode"in M&&n(11,K=M.panOnScrollMode),"preventScrolling"in M&&n(12,Ne=M.preventScrolling),"zoomOnScroll"in M&&n(13,Xe=M.zoomOnScroll),"zoomOnDoubleClick"in M&&n(14,Ke=M.zoomOnDoubleClick),"zoomOnPinch"in M&&n(15,Me=M.zoomOnPinch),"panOnScroll"in M&&n(16,et=M.panOnScroll),"panOnDrag"in M&&n(17,Le=M.panOnDrag),"selectionOnDrag"in M&&n(18,bt=M.selectionOnDrag),"autoPanOnConnect"in M&&n(58,te=M.autoPanOnConnect),"autoPanOnNodeDrag"in M&&n(59,pt=M.autoPanOnNodeDrag),"onerror"in M&&n(60,St=M.onerror),"ondelete"in M&&n(61,Ct=M.ondelete),"onedgecreate"in M&&n(62,It=M.onedgecreate),"attributionPosition"in M&&n(19,lt=M.attributionPosition),"proOptions"in M&&n(20,ct=M.proOptions),"defaultEdgeOptions"in M&&n(21,P=M.defaultEdgeOptions),"width"in M&&n(63,tt=M.width),"height"in M&&n(64,Re=M.height),"colorMode"in M&&n(65,Oe=M.colorMode),"onconnect"in M&&n(66,en=M.onconnect),"onconnectstart"in M&&n(67,tn=M.onconnectstart),"onconnectend"in M&&n(68,nn=M.onconnectend),"onbeforedelete"in M&&n(69,on=M.onbeforedelete),"oninit"in M&&n(70,Et=M.oninit),"nodeOrigin"in M&&n(71,Vt=M.nodeOrigin),"paneClickDistance"in M&&n(22,mi=M.paneClickDistance),"nodeClickDistance"in M&&n(23,Jl=M.nodeClickDistance),"defaultMarkerColor"in M&&n(72,ro=M.defaultMarkerColor),"style"in M&&n(24,Ql=M.style),"class"in M&&n(25,jl=M.class),"$$scope"in M&&n(99,m=M.$$scope)},e.$$.update=()=>{e.$$.dirty[0]&201326592&&rn!==void 0&&ln!==void 0&&(Fe.width.set(rn),Fe.height.set(ln)),e.$$.dirty[2]&6400&&!lo&&s&&(Et==null||Et(),n(73,lo=!0)),e.$$.dirty[1]&2097135632|e.$$.dirty[2]&1777&&Vh(Fe,{flowId:_,connectionLineType:x,connectionRadius:j,selectionMode:Z,snapGrid:X,defaultMarkerColor:ro,nodesDraggable:p,nodesConnectable:z,elementsSelectable:I,onlyRenderVisibleElements:ze,isValidConnection:ye,autoPanOnConnect:te,autoPanOnNodeDrag:pt,onerror:St,ondelete:Ct,onedgecreate:It,connectionMode:V,nodeDragThreshold:H,onconnect:en,onconnectstart:tn,onconnectend:nn,onbeforedelete:on,nodeOrigin:Vt}),e.$$.dirty[0]&4194304|e.$$.dirty[1]&16791040&&_l(Fe,{nodeTypes:A,edgeTypes:W,minZoom:D,maxZoom:O,translateExtent:be,paneClickDistance:mi}),e.$$.dirty[2]&8&&d(n(29,i=Xh(Oe)))},[N,J,T,b,S,G,ee,re,q,ke,Q,K,Ne,Xe,Ke,Me,et,Le,bt,lt,ct,P,mi,Jl,Ql,jl,rn,ln,yi,i,f,r0,xl,r,y,_,g,C,k,v,D,O,E,A,W,Z,p,z,H,I,X,j,x,V,ye,be,we,ze,te,pt,St,Ct,It,tt,Re,Oe,en,tn,nn,on,Et,Vt,ro,lo,s,h,l0,s0,a0,u0,f0,c0,d0,h0,g0,m0,y0,_0,b0,w0,k0,v0,p0,S0,C0,E0,M0,z0,P0,m]}class Zh extends ge{constructor(t){super(),he(this,t,qh,Fh,me,{id:35,nodes:36,edges:37,fitView:38,fitViewOptions:39,minZoom:40,maxZoom:41,initialViewport:42,viewport:0,nodeTypes:43,edgeTypes:44,selectionKey:1,selectionMode:45,panActivationKey:2,multiSelectionKey:3,zoomActivationKey:4,nodesDraggable:46,nodesConnectable:47,nodeDragThreshold:48,elementsSelectable:49,snapGrid:50,deleteKey:5,connectionRadius:51,connectionLineType:52,connectionMode:53,connectionLineStyle:6,connectionLineContainerStyle:7,onMoveStart:8,onMove:9,onMoveEnd:10,isValidConnection:54,translateExtent:55,nodeExtent:56,onlyRenderVisibleElements:57,panOnScrollMode:11,preventScrolling:12,zoomOnScroll:13,zoomOnDoubleClick:14,zoomOnPinch:15,panOnScroll:16,panOnDrag:17,selectionOnDrag:18,autoPanOnConnect:58,autoPanOnNodeDrag:59,onerror:60,ondelete:61,onedgecreate:62,attributionPosition:19,proOptions:20,defaultEdgeOptions:21,width:63,height:64,colorMode:65,onconnect:66,onconnectstart:67,onconnectend:68,onbeforedelete:69,oninit:70,nodeOrigin:71,paneClickDistance:22,nodeClickDistance:23,defaultMarkerColor:72,style:24,class:25},null,[-1,-1,-1,-1])}}const Gh=e=>({}),wl=e=>({class:"button-svg"});function Uh(e){let t,n,i,o,r;const s=e[8].default,l=qe(s,e,e[7],wl);let a=[{type:"button"},{class:n=Ee(["svelte-flow__controls-button",e[0]])},e[6]],u={};for(let f=0;f<a.length;f+=1)u=_e(u,a[f]);return{c(){t=se("button"),l&&l.c(),Rt(t,u),ae(t,"--xy-controls-button-background-color-props",e[1]),ae(t,"--xy-controls-button-background-color-hover-props",e[2]),ae(t,"--xy-controls-button-color-props",e[3]),ae(t,"--xy-controls-button-color-hover-props",e[4]),ae(t,"--xy-controls-button-border-color-props",e[5])},m(f,c){F(f,t,c),l&&l.m(t,null),t.autofocus&&t.focus(),i=!0,o||(r=Se(t,"click",e[9]),o=!0)},p(f,[c]){l&&l.p&&(!i||c&128)&&Ge(l,s,f,f[7],i?Ze(s,f[7],c,Gh):Ue(f[7]),wl),Rt(t,u=dt(a,[{type:"button"},(!i||c&1&&n!==(n=Ee(["svelte-flow__controls-button",f[0]])))&&{class:n},c&64&&f[6]])),ae(t,"--xy-controls-button-background-color-props",f[1]),ae(t,"--xy-controls-button-background-color-hover-props",f[2]),ae(t,"--xy-controls-button-color-props",f[3]),ae(t,"--xy-controls-button-color-hover-props",f[4]),ae(t,"--xy-controls-button-border-color-props",f[5])},i(f){i||(R(l,f),i=!0)},o(f){Y(l,f),i=!1},d(f){f&&B(t),l&&l.d(f),o=!1,r()}}}function Jh(e,t,n){const i=["class","bgColor","bgColorHover","color","colorHover","borderColor"];let o=De(t,i),{$$slots:r={},$$scope:s}=t,{class:l=void 0}=t,{bgColor:a=void 0}=t,{bgColorHover:u=void 0}=t,{color:f=void 0}=t,{colorHover:c=void 0}=t,{borderColor:d=void 0}=t;function h(m){pe.call(this,e,m)}return e.$$set=m=>{t=_e(_e({},t),nt(m)),n(6,o=De(t,i)),"class"in m&&n(0,l=m.class),"bgColor"in m&&n(1,a=m.bgColor),"bgColorHover"in m&&n(2,u=m.bgColorHover),"color"in m&&n(3,f=m.color),"colorHover"in m&&n(4,c=m.colorHover),"borderColor"in m&&n(5,d=m.borderColor),"$$scope"in m&&n(7,s=m.$$scope)},[l,a,u,f,c,d,o,s,r,h]}class gi extends ge{constructor(t){super(),he(this,t,Jh,Uh,me,{class:0,bgColor:1,bgColorHover:2,color:3,colorHover:4,borderColor:5})}}function Qh(e){let t,n;return{c(){t=Ce("svg"),n=Ce("path"),w(n,"d","M32 18.133H18.133V32h-4.266V18.133H0v-4.266h13.867V0h4.266v13.867H32z"),w(t,"xmlns","http://www.w3.org/2000/svg"),w(t,"viewBox","0 0 32 32")},m(i,o){F(i,t,o),L(t,n)},p:ce,i:ce,o:ce,d(i){i&&B(t)}}}class jh extends ge{constructor(t){super(),he(this,t,null,Qh,me,{})}}function xh(e){let t,n;return{c(){t=Ce("svg"),n=Ce("path"),w(n,"d","M0 0h32v4.2H0z"),w(t,"xmlns","http://www.w3.org/2000/svg"),w(t,"viewBox","0 0 32 5")},m(i,o){F(i,t,o),L(t,n)},p:ce,i:ce,o:ce,d(i){i&&B(t)}}}class $h extends ge{constructor(t){super(),he(this,t,null,xh,me,{})}}function eg(e){let t,n;return{c(){t=Ce("svg"),n=Ce("path"),w(n,"d","M3.692 4.63c0-.53.4-.938.939-.938h5.215V0H4.708C2.13 0 0 2.054 0 4.63v5.216h3.692V4.631zM27.354 0h-5.2v3.692h5.17c.53 0 .984.4.984.939v5.215H32V4.631A4.624 4.624 0 0027.354 0zm.954 24.83c0 .532-.4.94-.939.94h-5.215v3.768h5.215c2.577 0 4.631-2.13 4.631-4.707v-5.139h-3.692v5.139zm-23.677.94c-.531 0-.939-.4-.939-.94v-5.138H0v5.139c0 2.577 2.13 4.707 4.708 4.707h5.138V25.77H4.631z"),w(t,"xmlns","http://www.w3.org/2000/svg"),w(t,"viewBox","0 0 32 30")},m(i,o){F(i,t,o),L(t,n)},p:ce,i:ce,o:ce,d(i){i&&B(t)}}}class tg extends ge{constructor(t){super(),he(this,t,null,eg,me,{})}}function ng(e){let t,n;return{c(){t=Ce("svg"),n=Ce("path"),w(n,"d","M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0 8 0 4.571 3.429 4.571 7.619v3.048H3.048A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047zm4.724-13.866H7.467V7.619c0-2.59 2.133-4.724 4.723-4.724 2.591 0 4.724 2.133 4.724 4.724v3.048z"),w(t,"xmlns","http://www.w3.org/2000/svg"),w(t,"viewBox","0 0 25 32")},m(i,o){F(i,t,o),L(t,n)},p:ce,i:ce,o:ce,d(i){i&&B(t)}}}class ig extends ge{constructor(t){super(),he(this,t,null,ng,me,{})}}function og(e){let t,n;return{c(){t=Ce("svg"),n=Ce("path"),w(n,"d","M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0c-4.114 1.828-1.37 2.133.305 2.438 1.676.305 4.42 2.59 4.42 5.181v3.048H3.047A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047z"),w(t,"xmlns","http://www.w3.org/2000/svg"),w(t,"viewBox","0 0 25 32")},m(i,o){F(i,t,o),L(t,n)},p:ce,i:ce,o:ce,d(i){i&&B(t)}}}class rg extends ge{constructor(t){super(),he(this,t,null,og,me,{})}}const lg=e=>({}),kl=e=>({}),sg=e=>({}),vl=e=>({});function pl(e){let t,n,i,o;const r=[{class:"svelte-flow__controls-zoomin"},{title:"zoom in"},{"aria-label":"zoom in"},{disabled:e[9]},e[17]];let s={$$slots:{default:[ag]},$$scope:{ctx:e}};for(let u=0;u<r.length;u+=1)s=_e(s,r[u]);t=new gi({props:s}),t.$on("click",e[18]);const l=[{class:"svelte-flow__controls-zoomout"},{title:"zoom out"},{"aria-label":"zoom out"},{disabled:e[10]},e[17]];let a={$$slots:{default:[ug]},$$scope:{ctx:e}};for(let u=0;u<l.length;u+=1)a=_e(a,l[u]);return i=new gi({props:a}),i.$on("click",e[19]),{c(){le(t.$$.fragment),n=ue(),le(i.$$.fragment)},m(u,f){ne(t,u,f),F(u,n,f),ne(i,u,f),o=!0},p(u,f){const c=f[0]&131584?dt(r,[r[0],r[1],r[2],f[0]&512&&{disabled:u[9]},f[0]&131072&&Bt(u[17])]):{};f[1]&32&&(c.$$scope={dirty:f,ctx:u}),t.$set(c);const d=f[0]&132096?dt(l,[l[0],l[1],l[2],f[0]&1024&&{disabled:u[10]},f[0]&131072&&Bt(u[17])]):{};f[1]&32&&(d.$$scope={dirty:f,ctx:u}),i.$set(d)},i(u){o||(R(t.$$.fragment,u),R(i.$$.fragment,u),o=!0)},o(u){Y(t.$$.fragment,u),Y(i.$$.fragment,u),o=!1},d(u){u&&B(n),ie(t,u),ie(i,u)}}}function ag(e){let t,n;return t=new jh({}),{c(){le(t.$$.fragment)},m(i,o){ne(t,i,o),n=!0},i(i){n||(R(t.$$.fragment,i),n=!0)},o(i){Y(t.$$.fragment,i),n=!1},d(i){ie(t,i)}}}function ug(e){let t,n;return t=new $h({}),{c(){le(t.$$.fragment)},m(i,o){ne(t,i,o),n=!0},i(i){n||(R(t.$$.fragment,i),n=!0)},o(i){Y(t.$$.fragment,i),n=!1},d(i){ie(t,i)}}}function Sl(e){let t,n;const i=[{class:"svelte-flow__controls-fitview"},{title:"fit view"},{"aria-label":"fit view"},e[17]];let o={$$slots:{default:[fg]},$$scope:{ctx:e}};for(let r=0;r<i.length;r+=1)o=_e(o,i[r]);return t=new gi({props:o}),t.$on("click",e[20]),{c(){le(t.$$.fragment)},m(r,s){ne(t,r,s),n=!0},p(r,s){const l=s[0]&131072?dt(i,[i[0],i[1],i[2],Bt(r[17])]):{};s[1]&32&&(l.$$scope={dirty:s,ctx:r}),t.$set(l)},i(r){n||(R(t.$$.fragment,r),n=!0)},o(r){Y(t.$$.fragment,r),n=!1},d(r){ie(t,r)}}}function fg(e){let t,n;return t=new tg({}),{c(){le(t.$$.fragment)},m(i,o){ne(t,i,o),n=!0},i(i){n||(R(t.$$.fragment,i),n=!0)},o(i){Y(t.$$.fragment,i),n=!1},d(i){ie(t,i)}}}function Cl(e){let t,n;const i=[{class:"svelte-flow__controls-interactive"},{title:"toggle interactivity"},{"aria-label":"toggle interactivity"},e[17]];let o={$$slots:{default:[hg]},$$scope:{ctx:e}};for(let r=0;r<i.length;r+=1)o=_e(o,i[r]);return t=new gi({props:o}),t.$on("click",e[21]),{c(){le(t.$$.fragment)},m(r,s){ne(t,r,s),n=!0},p(r,s){const l=s[0]&131072?dt(i,[i[0],i[1],i[2],Bt(r[17])]):{};s[0]&256|s[1]&32&&(l.$$scope={dirty:s,ctx:r}),t.$set(l)},i(r){n||(R(t.$$.fragment,r),n=!0)},o(r){Y(t.$$.fragment,r),n=!1},d(r){ie(t,r)}}}function cg(e){let t,n;return t=new ig({}),{c(){le(t.$$.fragment)},m(i,o){ne(t,i,o),n=!0},i(i){n||(R(t.$$.fragment,i),n=!0)},o(i){Y(t.$$.fragment,i),n=!1},d(i){ie(t,i)}}}function dg(e){let t,n;return t=new rg({}),{c(){le(t.$$.fragment)},m(i,o){ne(t,i,o),n=!0},i(i){n||(R(t.$$.fragment,i),n=!0)},o(i){Y(t.$$.fragment,i),n=!1},d(i){ie(t,i)}}}function hg(e){let t,n,i,o;const r=[dg,cg],s=[];function l(a,u){return a[8]?0:1}return t=l(e),n=s[t]=r[t](e),{c(){n.c(),i=We()},m(a,u){s[t].m(a,u),F(a,i,u),o=!0},p(a,u){let f=t;t=l(a),t!==f&&(Te(),Y(s[f],1,1,()=>{s[f]=null}),He(),n=s[t],n||(n=s[t]=r[t](a),n.c()),R(n,1),n.m(i.parentNode,i))},i(a){o||(R(n),o=!0)},o(a){Y(n),o=!1},d(a){a&&B(i),s[t].d(a)}}}function gg(e){let t,n,i,o,r,s;const l=e[35].before,a=qe(l,e,e[36],vl);let u=e[1]&&pl(e),f=e[2]&&Sl(e),c=e[3]&&Cl(e);const d=e[35].default,h=qe(d,e,e[36],null),m=e[35].after,y=qe(m,e,e[36],kl);return{c(){a&&a.c(),t=ue(),u&&u.c(),n=ue(),f&&f.c(),i=ue(),c&&c.c(),o=ue(),h&&h.c(),r=ue(),y&&y.c()},m(_,g){a&&a.m(_,g),F(_,t,g),u&&u.m(_,g),F(_,n,g),f&&f.m(_,g),F(_,i,g),c&&c.m(_,g),F(_,o,g),h&&h.m(_,g),F(_,r,g),y&&y.m(_,g),s=!0},p(_,g){a&&a.p&&(!s||g[1]&32)&&Ge(a,l,_,_[36],s?Ze(l,_[36],g,sg):Ue(_[36]),vl),_[1]?u?(u.p(_,g),g[0]&2&&R(u,1)):(u=pl(_),u.c(),R(u,1),u.m(n.parentNode,n)):u&&(Te(),Y(u,1,1,()=>{u=null}),He()),_[2]?f?(f.p(_,g),g[0]&4&&R(f,1)):(f=Sl(_),f.c(),R(f,1),f.m(i.parentNode,i)):f&&(Te(),Y(f,1,1,()=>{f=null}),He()),_[3]?c?(c.p(_,g),g[0]&8&&R(c,1)):(c=Cl(_),c.c(),R(c,1),c.m(o.parentNode,o)):c&&(Te(),Y(c,1,1,()=>{c=null}),He()),h&&h.p&&(!s||g[1]&32)&&Ge(h,d,_,_[36],s?Ze(d,_[36],g,null):Ue(_[36]),null),y&&y.p&&(!s||g[1]&32)&&Ge(y,m,_,_[36],s?Ze(m,_[36],g,lg):Ue(_[36]),kl)},i(_){s||(R(a,_),R(u),R(f),R(c),R(h,_),R(y,_),s=!0)},o(_){Y(a,_),Y(u),Y(f),Y(c),Y(h,_),Y(y,_),s=!1},d(_){_&&(B(t),B(n),B(i),B(o),B(r)),a&&a.d(_),u&&u.d(_),f&&f.d(_),c&&c.d(_),h&&h.d(_),y&&y.d(_)}}}function mg(e){let t,n;return t=new no({props:{class:Ee(["svelte-flow__controls",e[7],e[6]]),position:e[0],"data-testid":"svelte-flow__controls","aria-label":e[4]??"Svelte Flow controls",style:e[5],$$slots:{default:[gg]},$$scope:{ctx:e}}}),{c(){le(t.$$.fragment)},m(i,o){ne(t,i,o),n=!0},p(i,o){const r={};o[0]&192&&(r.class=Ee(["svelte-flow__controls",i[7],i[6]])),o[0]&1&&(r.position=i[0]),o[0]&16&&(r["aria-label"]=i[4]??"Svelte Flow controls"),o[0]&32&&(r.style=i[5]),o[0]&1806|o[1]&32&&(r.$$scope={dirty:o,ctx:i}),t.$set(r)},i(i){n||(R(t.$$.fragment,i),n=!0)},o(i){Y(t.$$.fragment,i),n=!1},d(i){ie(t,i)}}}function yg(e,t,n){let i,o,r,s,l,a,u,f,c,d,{$$slots:h={},$$scope:m}=t,{position:y="bottom-left"}=t,{showZoom:_=!0}=t,{showFitView:g=!0}=t,{showLock:C=!0}=t,{buttonBgColor:k=void 0}=t,{buttonBgColorHover:v=void 0}=t,{buttonColor:D=void 0}=t,{buttonColorHover:O=void 0}=t,{buttonBorderColor:E=void 0}=t,{ariaLabel:N=void 0}=t,{style:A=void 0}=t,{orientation:W="vertical"}=t,{fitViewOptions:J=void 0}=t,{class:Z=""}=t;const{zoomIn:T,zoomOut:b,fitView:S,viewport:p,minZoom:z,maxZoom:H,nodesDraggable:I,nodesConnectable:X,elementsSelectable:G}=Ie();U(e,p,q=>n(30,a=q)),U(e,z,q=>n(31,u=q)),U(e,H,q=>n(29,l=q)),U(e,I,q=>n(34,d=q)),U(e,X,q=>n(33,c=q)),U(e,G,q=>n(32,f=q));const j={bgColor:k,bgColorHover:v,color:D,colorHover:O,borderColor:E},x=()=>{T()},V=()=>{b()},ee=()=>{S(J)},re=()=>{n(8,i=!i),I.set(i),X.set(i),G.set(i)};return e.$$set=q=>{"position"in q&&n(0,y=q.position),"showZoom"in q&&n(1,_=q.showZoom),"showFitView"in q&&n(2,g=q.showFitView),"showLock"in q&&n(3,C=q.showLock),"buttonBgColor"in q&&n(22,k=q.buttonBgColor),"buttonBgColorHover"in q&&n(23,v=q.buttonBgColorHover),"buttonColor"in q&&n(24,D=q.buttonColor),"buttonColorHover"in q&&n(25,O=q.buttonColorHover),"buttonBorderColor"in q&&n(26,E=q.buttonBorderColor),"ariaLabel"in q&&n(4,N=q.ariaLabel),"style"in q&&n(5,A=q.style),"orientation"in q&&n(27,W=q.orientation),"fitViewOptions"in q&&n(28,J=q.fitViewOptions),"class"in q&&n(6,Z=q.class),"$$scope"in q&&n(36,m=q.$$scope)},e.$$.update=()=>{e.$$.dirty[1]&14&&n(8,i=d||c||f),e.$$.dirty[0]&1073741824|e.$$.dirty[1]&1&&n(10,o=a.zoom<=u),e.$$.dirty[0]&1610612736&&n(9,r=a.zoom>=l),e.$$.dirty[0]&134217728&&n(7,s=W==="horizontal"?"horizontal":"vertical")},[y,_,g,C,N,A,Z,s,i,r,o,p,z,H,I,X,G,j,x,V,ee,re,k,v,D,O,E,W,J,l,a,u,f,c,d,h,m]}class _g extends ge{constructor(t){super(),he(this,t,yg,mg,me,{position:0,showZoom:1,showFitView:2,showLock:3,buttonBgColor:22,buttonBgColorHover:23,buttonColor:24,buttonColorHover:25,buttonBorderColor:26,ariaLabel:4,style:5,orientation:27,fitViewOptions:28,class:6},null,[-1,-1])}}var _t;(function(e){e.Lines="lines",e.Dots="dots",e.Cross="cross"})(_t||(_t={}));function bg(e){let t,n;return{c(){t=Ce("circle"),w(t,"cx",e[0]),w(t,"cy",e[0]),w(t,"r",e[0]),w(t,"class",n=Ee(["svelte-flow__background-pattern","dots",e[1]]))},m(i,o){F(i,t,o)},p(i,[o]){o&1&&w(t,"cx",i[0]),o&1&&w(t,"cy",i[0]),o&1&&w(t,"r",i[0]),o&2&&n!==(n=Ee(["svelte-flow__background-pattern","dots",i[1]]))&&w(t,"class",n)},i:ce,o:ce,d(i){i&&B(t)}}}function wg(e,t,n){let{radius:i=5}=t,{class:o=""}=t;return e.$$set=r=>{"radius"in r&&n(0,i=r.radius),"class"in r&&n(1,o=r.class)},[i,o]}class kg extends ge{constructor(t){super(),he(this,t,wg,bg,me,{radius:0,class:1})}}function vg(e){let t,n,i;return{c(){t=Ce("path"),w(t,"stroke-width",e[0]),w(t,"d",n=`M${e[1][0]/2} 0 V${e[1][1]} M0 ${e[1][1]/2} H${e[1][0]}`),w(t,"class",i=Ee(["svelte-flow__background-pattern",e[2],e[3]]))},m(o,r){F(o,t,r)},p(o,[r]){r&1&&w(t,"stroke-width",o[0]),r&2&&n!==(n=`M${o[1][0]/2} 0 V${o[1][1]} M0 ${o[1][1]/2} H${o[1][0]}`)&&w(t,"d",n),r&12&&i!==(i=Ee(["svelte-flow__background-pattern",o[2],o[3]]))&&w(t,"class",i)},i:ce,o:ce,d(o){o&&B(t)}}}function pg(e,t,n){let{lineWidth:i=1}=t,{dimensions:o}=t,{variant:r=void 0}=t,{class:s=""}=t;return e.$$set=l=>{"lineWidth"in l&&n(0,i=l.lineWidth),"dimensions"in l&&n(1,o=l.dimensions),"variant"in l&&n(2,r=l.variant),"class"in l&&n(3,s=l.class)},[i,o,r,s]}class Sg extends ge{constructor(t){super(),he(this,t,pg,vg,me,{lineWidth:0,dimensions:1,variant:2,class:3})}}function Cg(e){let t,n;return t=new Sg({props:{dimensions:e[6],variant:e[0],lineWidth:e[1],class:e[4]}}),{c(){le(t.$$.fragment)},m(i,o){ne(t,i,o),n=!0},p(i,o){const r={};o&64&&(r.dimensions=i[6]),o&1&&(r.variant=i[0]),o&2&&(r.lineWidth=i[1]),o&16&&(r.class=i[4]),t.$set(r)},i(i){n||(R(t.$$.fragment,i),n=!0)},o(i){Y(t.$$.fragment,i),n=!1},d(i){ie(t,i)}}}function Eg(e){let t,n;return t=new kg({props:{radius:e[7]/2,class:e[4]}}),{c(){le(t.$$.fragment)},m(i,o){ne(t,i,o),n=!0},p(i,o){const r={};o&128&&(r.radius=i[7]/2),o&16&&(r.class=i[4]),t.$set(r)},i(i){n||(R(t.$$.fragment,i),n=!0)},o(i){Y(t.$$.fragment,i),n=!1},d(i){ie(t,i)}}}function Mg(e){let t,n,i,o,r,s,l,a,u,f,c,d,h;const m=[Eg,Cg],y=[];function _(g,C){return g[14]?0:1}return i=_(e),o=y[i]=m[i](e),{c(){t=Ce("svg"),n=Ce("pattern"),o.c(),f=Ce("rect"),w(n,"id",e[11]),w(n,"x",r=e[9].x%e[8][0]),w(n,"y",s=e[9].y%e[8][1]),w(n,"width",l=e[8][0]),w(n,"height",a=e[8][1]),w(n,"patternUnits","userSpaceOnUse"),w(n,"patternTransform",u=`translate(-${e[10][0]},-${e[10][1]})`),w(f,"x","0"),w(f,"y","0"),w(f,"width","100%"),w(f,"height","100%"),w(f,"fill",c=`url(#${e[11]})`),w(t,"class",d=co(Ee(["svelte-flow__background",e[5]]))+" svelte-1r7pe8d"),w(t,"data-testid","svelte-flow__background"),ae(t,"--xy-background-color-props",e[2]),ae(t,"--xy-background-pattern-color-props",e[3])},m(g,C){F(g,t,C),L(t,n),y[i].m(n,null),L(t,f),h=!0},p(g,[C]){o.p(g,C),(!h||C&2048)&&w(n,"id",g[11]),(!h||C&768&&r!==(r=g[9].x%g[8][0]))&&w(n,"x",r),(!h||C&768&&s!==(s=g[9].y%g[8][1]))&&w(n,"y",s),(!h||C&256&&l!==(l=g[8][0]))&&w(n,"width",l),(!h||C&256&&a!==(a=g[8][1]))&&w(n,"height",a),(!h||C&1024&&u!==(u=`translate(-${g[10][0]},-${g[10][1]})`))&&w(n,"patternTransform",u),(!h||C&2048&&c!==(c=`url(#${g[11]})`))&&w(f,"fill",c),(!h||C&32&&d!==(d=co(Ee(["svelte-flow__background",g[5]]))+" svelte-1r7pe8d"))&&w(t,"class",d),C&4&&ae(t,"--xy-background-color-props",g[2]),C&8&&ae(t,"--xy-background-pattern-color-props",g[3])},i(g){h||(R(o),h=!0)},o(g){Y(o),h=!1},d(g){g&&B(t),y[i].d()}}}const zg={[_t.Dots]:1,[_t.Lines]:1,[_t.Cross]:6};function Pg(e,t,n){let i,o,r,s,l,a,u,{id:f=void 0}=t,{variant:c=_t.Dots}=t,{gap:d=20}=t,{size:h=1}=t,{lineWidth:m=1}=t,{bgColor:y=void 0}=t,{patternColor:_=void 0}=t,{patternClass:g=void 0}=t,{class:C=""}=t;const{viewport:k,flowId:v}=Ie();U(e,k,A=>n(9,a=A)),U(e,v,A=>n(18,u=A));const D=h||zg[c],O=c===_t.Dots,E=c===_t.Cross,N=Array.isArray(d)?d:[d,d];return e.$$set=A=>{"id"in A&&n(15,f=A.id),"variant"in A&&n(0,c=A.variant),"gap"in A&&n(16,d=A.gap),"size"in A&&n(17,h=A.size),"lineWidth"in A&&n(1,m=A.lineWidth),"bgColor"in A&&n(2,y=A.bgColor),"patternColor"in A&&n(3,_=A.patternColor),"patternClass"in A&&n(4,g=A.patternClass),"class"in A&&n(5,C=A.class)},e.$$.update=()=>{e.$$.dirty&294912&&n(11,i=`background-pattern-${u}-${f||""}`),e.$$.dirty&512&&n(8,o=[N[0]*a.zoom||1,N[1]*a.zoom||1]),e.$$.dirty&512&&n(7,r=D*a.zoom),e.$$.dirty&384&&n(6,s=E?[r,r]:o),e.$$.dirty&192&&n(10,l=O?[r/2,r/2]:[s[0]/2,s[1]/2])},[c,m,y,_,g,C,s,r,o,a,l,i,k,v,O,f,d,h,u]}class Ng extends ge{constructor(t){super(),he(this,t,Pg,Mg,me,{id:15,variant:0,gap:16,size:17,lineWidth:1,bgColor:2,patternColor:3,patternClass:4,class:5})}}function Ag(e){let t,n,i;return{c(){t=Ce("rect"),w(t,"class",n=Ee(["svelte-flow__minimap-node",e[10]])),w(t,"x",e[0]),w(t,"y",e[1]),w(t,"rx",e[4]),w(t,"ry",e[4]),w(t,"width",e[2]),w(t,"height",e[3]),w(t,"style",i=`${e[5]?`fill: ${e[5]};`:""}${e[7]?`stroke: ${e[7]};`:""}${e[8]?`stroke-width: ${e[8]};`:""}`),w(t,"shape-rendering",e[6]),fe(t,"selected",e[9])},m(o,r){F(o,t,r)},p(o,[r]){r&1024&&n!==(n=Ee(["svelte-flow__minimap-node",o[10]]))&&w(t,"class",n),r&1&&w(t,"x",o[0]),r&2&&w(t,"y",o[1]),r&16&&w(t,"rx",o[4]),r&16&&w(t,"ry",o[4]),r&4&&w(t,"width",o[2]),r&8&&w(t,"height",o[3]),r&416&&i!==(i=`${o[5]?`fill: ${o[5]};`:""}${o[7]?`stroke: ${o[7]};`:""}${o[8]?`stroke-width: ${o[8]};`:""}`)&&w(t,"style",i),r&64&&w(t,"shape-rendering",o[6]),r&1536&&fe(t,"selected",o[9])},i:ce,o:ce,d(o){o&&B(t)}}}function Dg(e,t,n){let{x:i}=t,{y:o}=t,{width:r=0}=t,{height:s=0}=t,{borderRadius:l=5}=t,{color:a=void 0}=t,{shapeRendering:u}=t,{strokeColor:f=void 0}=t,{strokeWidth:c=2}=t,{selected:d=!1}=t,{class:h=""}=t;return e.$$set=m=>{"x"in m&&n(0,i=m.x),"y"in m&&n(1,o=m.y),"width"in m&&n(2,r=m.width),"height"in m&&n(3,s=m.height),"borderRadius"in m&&n(4,l=m.borderRadius),"color"in m&&n(5,a=m.color),"shapeRendering"in m&&n(6,u=m.shapeRendering),"strokeColor"in m&&n(7,f=m.strokeColor),"strokeWidth"in m&&n(8,c=m.strokeWidth),"selected"in m&&n(9,d=m.selected),"class"in m&&n(10,h=m.class)},[i,o,r,s,l,a,u,f,c,d,h]}class Og extends ge{constructor(t){super(),he(this,t,Dg,Ag,me,{x:0,y:1,width:2,height:3,borderRadius:4,color:5,shapeRendering:6,strokeColor:7,strokeWidth:8,selected:9,class:10})}}function Tg(e,t){const n=Ac({domNode:e,panZoom:t.panZoom,getTransform:()=>{const o=$(t.viewport);return[o.x,o.y,o.zoom]},getViewScale:t.getViewScale});function i(o){n.update({translateExtent:o.translateExtent,width:o.width,height:o.height,inversePan:o.inversePan,zoomStep:o.zoomStep,pannable:o.pannable,zoomable:o.zoomable})}return{update:i,destroy(){n.destroy()}}}function El(e,t,n){const i=e.slice();i[55]=t[n];const o=i[20].get(i[55].id);return i[56]=o,i}function io(e){const t=e.slice(),n=kt(t[56]);return t[59]=n,t}function Ml(e){let t,n,i=[],o=new Map,r,s,l,a,u,f,c,d=e[1]&&zl(e),h=je(e[19]);const m=y=>y[55].id;for(let y=0;y<h.length;y+=1){let _=El(e,h,y),g=m(_);o.set(g,i[y]=Nl(g,_))}return{c(){t=Ce("svg"),d&&d.c(),n=We();for(let y=0;y<i.length;y+=1)i[y].c();r=Ce("path"),w(r,"class","svelte-flow__minimap-mask"),w(r,"d",s="M"+(e[26]-e[15])+","+(e[25]-e[15])+"h"+(e[24]+e[15]*2)+"v"+(e[23]+e[15]*2)+"h"+(-e[24]-e[15]*2)+`z
      M`+e[18].x+","+e[18].y+"h"+e[18].width+"v"+e[18].height+"h"+-e[18].width+"z"),w(r,"fill-rule","evenodd"),w(r,"pointer-events","none"),w(t,"width",e[17]),w(t,"height",e[16]),w(t,"viewBox",l=e[26]+" "+e[25]+" "+e[24]+" "+e[23]),w(t,"class","svelte-flow__minimap-svg"),w(t,"role","img"),w(t,"aria-labelledby",e[41]),ae(t,"--xy-minimap-mask-background-color-props",e[5]),ae(t,"--xy-minimap-mask-stroke-color-props",e[6]),ae(t,"--xy-minimap-mask-stroke-width-props",e[7]?e[7]*e[14]:void 0)},m(y,_){F(y,t,_),d&&d.m(t,null),L(t,n);for(let g=0;g<i.length;g+=1)i[g]&&i[g].m(t,null);L(t,r),u=!0,f||(c=Be(a=Tg.call(null,t,{panZoom:e[27],viewport:e[31],getViewScale:e[42],translateExtent:e[28],width:e[22],height:e[21],inversePan:e[10],zoomStep:e[11],pannable:e[8],zoomable:e[9]})),f=!0)},p(y,_){y[1]?d?d.p(y,_):(d=zl(y),d.c(),d.m(t,n)):d&&(d.d(1),d=null),_[0]&1572876|_[1]&960&&(h=je(y[19]),Te(),i=In(i,_,m,1,y,h,o,t,Hn,Nl,r,El),He()),(!u||_[0]&126124032&&s!==(s="M"+(y[26]-y[15])+","+(y[25]-y[15])+"h"+(y[24]+y[15]*2)+"v"+(y[23]+y[15]*2)+"h"+(-y[24]-y[15]*2)+`z
      M`+y[18].x+","+y[18].y+"h"+y[18].width+"v"+y[18].height+"h"+-y[18].width+"z"))&&w(r,"d",s),(!u||_[0]&131072)&&w(t,"width",y[17]),(!u||_[0]&65536)&&w(t,"height",y[16]),(!u||_[0]&125829120&&l!==(l=y[26]+" "+y[25]+" "+y[24]+" "+y[23]))&&w(t,"viewBox",l),a&&Ae(a.update)&&_[0]&408948480&&a.update.call(null,{panZoom:y[27],viewport:y[31],getViewScale:y[42],translateExtent:y[28],width:y[22],height:y[21],inversePan:y[10],zoomStep:y[11],pannable:y[8],zoomable:y[9]}),_[0]&32&&ae(t,"--xy-minimap-mask-background-color-props",y[5]),_[0]&64&&ae(t,"--xy-minimap-mask-stroke-color-props",y[6]),_[0]&16512&&ae(t,"--xy-minimap-mask-stroke-width-props",y[7]?y[7]*y[14]:void 0)},i(y){if(!u){for(let _=0;_<h.length;_+=1)R(i[_]);u=!0}},o(y){for(let _=0;_<i.length;_+=1)Y(i[_]);u=!1},d(y){y&&B(t),d&&d.d();for(let _=0;_<i.length;_+=1)i[_].d();f=!1,c()}}}function zl(e){let t,n;return{c(){t=Ce("title"),n=ve(e[1]),w(t,"id",e[41])},m(i,o){F(i,t,o),L(t,n)},p(i,o){o[0]&2&&Pe(n,i[1])},d(i){i&&B(t)}}}function Pl(e){var r;let t,n;const i=[{x:e[56].internals.positionAbsolute.x},{y:e[56].internals.positionAbsolute.y},e[59],{selected:e[56].selected},{color:(r=e[37])==null?void 0:r.call(e,e[56])},{borderRadius:e[2]},{strokeColor:e[38](e[56])},{strokeWidth:e[3]},{shapeRendering:e[40]},{class:e[39](e[56])}];let o={};for(let s=0;s<i.length;s+=1)o=_e(o,i[s]);return t=new Og({props:o}),{c(){le(t.$$.fragment)},m(s,l){ne(t,s,l),n=!0},p(s,l){var u;const a=l[0]&1572876|l[1]&960?dt(i,[l[0]&1572864&&{x:s[56].internals.positionAbsolute.x},l[0]&1572864&&{y:s[56].internals.positionAbsolute.y},l[0]&1572864&&Bt(s[59]),l[0]&1572864&&{selected:s[56].selected},l[0]&1572864|l[1]&64&&{color:(u=s[37])==null?void 0:u.call(s,s[56])},l[0]&4&&{borderRadius:s[2]},l[0]&1572864|l[1]&128&&{strokeColor:s[38](s[56])},l[0]&8&&{strokeWidth:s[3]},l[1]&512&&{shapeRendering:s[40]},l[0]&1572864|l[1]&256&&{class:s[39](s[56])}]):{};t.$set(a)},i(s){n||(R(t.$$.fragment,s),n=!0)},o(s){Y(t.$$.fragment,s),n=!1},d(s){ie(t,s)}}}function Nl(e,t){let n,i=t[56]&&ai(t[56]),o,r,s=i&&Pl(io(t));return{key:e,first:null,c(){n=We(),s&&s.c(),o=We(),this.first=n},m(l,a){F(l,n,a),s&&s.m(l,a),F(l,o,a),r=!0},p(l,a){t=l,a[0]&1572864&&(i=t[56]&&ai(t[56])),i?s?(s.p(io(t),a),a[0]&1572864&&R(s,1)):(s=Pl(io(t)),s.c(),R(s,1),s.m(o.parentNode,o)):s&&(Te(),Y(s,1,1,()=>{s=null}),He())},i(l){r||(R(s),r=!0)},o(l){Y(s),r=!1},d(l){l&&(B(n),B(o)),s&&s.d(l)}}}function Hg(e){let t,n,i=e[27]&&Ml(e);return{c(){i&&i.c(),t=We()},m(o,r){i&&i.m(o,r),F(o,t,r),n=!0},p(o,r){o[27]?i?(i.p(o,r),r[0]&134217728&&R(i,1)):(i=Ml(o),i.c(),R(i,1),i.m(t.parentNode,t)):i&&(Te(),Y(i,1,1,()=>{i=null}),He())},i(o){n||(R(i),n=!0)},o(o){Y(i),n=!1},d(o){o&&B(t),i&&i.d(o)}}}function Ig(e){let t,n;return t=new no({props:{position:e[0],style:e[12]+(e[4]?`;--xy-minimap-background-color-props:${e[4]}`:""),class:Ee(["svelte-flow__minimap",e[13]]),"data-testid":"svelte-flow__minimap",$$slots:{default:[Hg]},$$scope:{ctx:e}}}),{c(){le(t.$$.fragment)},m(i,o){ne(t,i,o),n=!0},p(i,o){const r={};o[0]&1&&(r.position=i[0]),o[0]&4112&&(r.style=i[12]+(i[4]?`;--xy-minimap-background-color-props:${i[4]}`:"")),o[0]&8192&&(r.class=Ee(["svelte-flow__minimap",i[13]])),o[0]&536858606|o[1]&536870912&&(r.$$scope={dirty:o,ctx:i}),t.$set(r)},i(i){n||(R(t.$$.fragment,i),n=!0)},o(i){Y(t.$$.fragment,i),n=!1},d(i){ie(t,i)}}}const oo=e=>e instanceof Function?e:()=>e,Vg=200,Rg=150;function Xg(e,t,n){let i,o,r,s,l,a,u,f,c,d,h,m,y,_,g,C,k,v,D,O,E,{position:N="bottom-right"}=t,{ariaLabel:A="Mini map"}=t,{nodeStrokeColor:W="transparent"}=t,{nodeColor:J=void 0}=t,{nodeClass:Z=""}=t,{nodeBorderRadius:T=5}=t,{nodeStrokeWidth:b=2}=t,{bgColor:S=void 0}=t,{maskColor:p=void 0}=t,{maskStrokeColor:z=void 0}=t,{maskStrokeWidth:H=void 0}=t,{width:I=void 0}=t,{height:X=void 0}=t,{pannable:G=!0}=t,{zoomable:j=!0}=t,{inversePan:x=void 0}=t,{zoomStep:V=void 0}=t,{style:ee=""}=t,{class:re=""}=t;const{nodes:q,nodeLookup:ke,viewport:Q,width:ye,height:be,flowId:we,panZoom:ze,translateExtent:K}=Ie();U(e,q,te=>n(19,_=te)),U(e,ke,te=>n(20,g=te)),U(e,Q,te=>n(53,C=te)),U(e,ye,te=>n(22,v=te)),U(e,be,te=>n(21,k=te)),U(e,we,te=>n(54,D=te)),U(e,ze,te=>n(27,O=te)),U(e,K,te=>n(28,E=te));const Ne=J===void 0?void 0:oo(J),Xe=oo(W),Ke=oo(Z),Me=typeof window>"u"||window.chrome?"crispEdges":"geometricPrecision",et=`svelte-flow__minimap-desc-${D}`;let Le=i;const bt=()=>a;return e.$$set=te=>{"position"in te&&n(0,N=te.position),"ariaLabel"in te&&n(1,A=te.ariaLabel),"nodeStrokeColor"in te&&n(43,W=te.nodeStrokeColor),"nodeColor"in te&&n(44,J=te.nodeColor),"nodeClass"in te&&n(45,Z=te.nodeClass),"nodeBorderRadius"in te&&n(2,T=te.nodeBorderRadius),"nodeStrokeWidth"in te&&n(3,b=te.nodeStrokeWidth),"bgColor"in te&&n(4,S=te.bgColor),"maskColor"in te&&n(5,p=te.maskColor),"maskStrokeColor"in te&&n(6,z=te.maskStrokeColor),"maskStrokeWidth"in te&&n(7,H=te.maskStrokeWidth),"width"in te&&n(46,I=te.width),"height"in te&&n(47,X=te.height),"pannable"in te&&n(8,G=te.pannable),"zoomable"in te&&n(9,j=te.zoomable),"inversePan"in te&&n(10,x=te.inversePan),"zoomStep"in te&&n(11,V=te.zoomStep),"style"in te&&n(12,ee=te.style),"class"in te&&n(13,re=te.class)},e.$$.update=()=>{e.$$.dirty[0]&6291456|e.$$.dirty[1]&4194304&&n(18,i={x:-C.x/C.zoom,y:-C.y/C.zoom,width:v/C.zoom,height:k/C.zoom}),e.$$.dirty[0]&1835008&&n(48,Le=g.size>0?_r(En(g,{filter:te=>!te.hidden}),i):i),e.$$.dirty[1]&32768&&n(17,o=I??Vg),e.$$.dirty[1]&65536&&n(16,r=X??Rg),e.$$.dirty[0]&131072|e.$$.dirty[1]&131072&&n(52,s=Le.width/o),e.$$.dirty[0]&65536|e.$$.dirty[1]&131072&&n(51,l=Le.height/r),e.$$.dirty[1]&3145728&&n(14,a=Math.max(s,l)),e.$$.dirty[0]&147456&&n(50,u=a*o),e.$$.dirty[0]&81920&&n(49,f=a*r),e.$$.dirty[0]&16384&&n(15,c=5*a),e.$$.dirty[0]&32768|e.$$.dirty[1]&655360&&n(26,d=Le.x-(u-Le.width)/2-c),e.$$.dirty[0]&32768|e.$$.dirty[1]&393216&&n(25,h=Le.y-(f-Le.height)/2-c),e.$$.dirty[0]&32768|e.$$.dirty[1]&524288&&n(24,m=u+c*2),e.$$.dirty[0]&32768|e.$$.dirty[1]&262144&&n(23,y=f+c*2)},[N,A,T,b,S,p,z,H,G,j,x,V,ee,re,a,c,r,o,i,_,g,k,v,y,m,h,d,O,E,q,ke,Q,ye,be,we,ze,K,Ne,Xe,Ke,Me,et,bt,W,J,Z,I,X,Le,f,u,l,s,C]}class Yg extends ge{constructor(t){super(),he(this,t,Xg,Ig,me,{position:0,ariaLabel:1,nodeStrokeColor:43,nodeColor:44,nodeClass:45,nodeBorderRadius:2,nodeStrokeWidth:3,bgColor:4,maskColor:5,maskStrokeColor:6,maskStrokeWidth:7,width:46,height:47,pannable:8,zoomable:9,inversePan:10,zoomStep:11,style:12,class:13},null,[-1,-1])}}function Al(e){let t,n=e[0].organization+"",i;return{c(){t=se("div"),i=ve(n),w(t,"class","node-org svelte-1ownta")},m(o,r){F(o,t,r),L(t,i)},p(o,r){r&1&&n!==(n=o[0].organization+"")&&Pe(i,n)},d(o){o&&B(t)}}}function Dl(e){let t,n=e[0].expanded?"":"",i,o,r=e[0].childCount+"",s,l,a=e[0].childCount!==1?"s":"",u;return{c(){t=se("div"),i=ve(n),o=ue(),s=ve(r),l=ve(" vendor"),u=ve(a),w(t,"class","node-children svelte-1ownta")},m(f,c){F(f,t,c),L(t,i),L(t,o),L(t,s),L(t,l),L(t,u)},p(f,c){c&1&&n!==(n=f[0].expanded?"":"")&&Pe(i,n),c&1&&r!==(r=f[0].childCount+"")&&Pe(s,r),c&1&&a!==(a=f[0].childCount!==1?"s":"")&&Pe(u,a)},d(f){f&&B(t)}}}function Wg(e){let t,n,i,o,r,s=e[0].domain+"",l,a,u,f,c,d,h=e[0].organization&&e[0].organization!==e[0].domain&&Al(e),m=e[0].hasChildren&&Dl(e);return c=new vt({props:{type:"source",position:de.Bottom}}),{c(){t=se("div"),n=se("div"),n.textContent="",i=ue(),o=se("div"),r=se("div"),l=ve(s),a=ue(),h&&h.c(),u=ue(),m&&m.c(),f=ue(),le(c.$$.fragment),w(n,"class","node-icon svelte-1ownta"),w(r,"class","node-domain svelte-1ownta"),w(o,"class","node-content svelte-1ownta"),w(t,"class","root-node svelte-1ownta"),fe(t,"expanded",e[0].expanded)},m(y,_){F(y,t,_),L(t,n),L(t,i),L(t,o),L(o,r),L(r,l),L(o,a),h&&h.m(o,null),L(o,u),m&&m.m(o,null),L(t,f),ne(c,t,null),d=!0},p(y,[_]){(!d||_&1)&&s!==(s=y[0].domain+"")&&Pe(l,s),y[0].organization&&y[0].organization!==y[0].domain?h?h.p(y,_):(h=Al(y),h.c(),h.m(o,u)):h&&(h.d(1),h=null),y[0].hasChildren?m?m.p(y,_):(m=Dl(y),m.c(),m.m(o,null)):m&&(m.d(1),m=null),(!d||_&1)&&fe(t,"expanded",y[0].expanded)},i(y){d||(R(c.$$.fragment,y),d=!0)},o(y){Y(c.$$.fragment,y),d=!1},d(y){y&&B(t),h&&h.d(),m&&m.d(),ie(c)}}}function Lg(e,t,n){let{data:i}=t;return e.$$set=o=>{"data"in o&&n(0,i=o.data)},[i]}class Bg extends ge{constructor(t){super(),he(this,t,Lg,Wg,me,{data:0})}}function Ol(e){let t,n=e[0].organization+"",i;return{c(){t=se("div"),i=ve(n),w(t,"class","node-org svelte-jgel9h")},m(o,r){F(o,t,r),L(t,i)},p(o,r){r&1&&n!==(n=o[0].organization+"")&&Pe(i,n)},d(o){o&&B(t)}}}function Tl(e){let t,n,i=e[0].discoveryCount+"",o,r;return{c(){t=se("div"),n=ve(""),o=ve(i),r=ve(" sources"),w(t,"class","discovery-badge svelte-jgel9h")},m(s,l){F(s,t,l),L(t,n),L(t,o),L(t,r)},p(s,l){l&1&&i!==(i=s[0].discoveryCount+"")&&Pe(o,i)},d(s){s&&B(t)}}}function Hl(e){let t,n=e[0].expanded?"":"",i,o,r=e[0].childCount+"",s,l,a=e[0].childCount!==1?"s":"",u;return{c(){t=se("div"),i=ve(n),o=ue(),s=ve(r),l=ve(" vendor"),u=ve(a),w(t,"class","node-children svelte-jgel9h")},m(f,c){F(f,t,c),L(t,i),L(t,o),L(t,s),L(t,l),L(t,u)},p(f,c){c&1&&n!==(n=f[0].expanded?"":"")&&Pe(i,n),c&1&&r!==(r=f[0].childCount+"")&&Pe(s,r),c&1&&a!==(a=f[0].childCount!==1?"s":"")&&Pe(u,a)},d(f){f&&B(t)}}}function Il(e){let t,n;return t=new vt({props:{type:"source",position:de.Bottom}}),{c(){le(t.$$.fragment)},m(i,o){ne(t,i,o),n=!0},i(i){n||(R(t.$$.fragment,i),n=!0)},o(i){Y(t.$$.fragment,i),n=!1},d(i){ie(t,i)}}}function Kg(e){let t,n,i,o,r,s,l,a=e[0].domain+"",u,f,c,d,h,m,y,_,g,C;n=new vt({props:{type:"target",position:de.Top}});let k=e[0].organization&&e[0].organization!==e[0].domain&&Ol(e),v=e[0].discoveryCount>1&&Tl(e),D=e[0].hasChildren&&Hl(e),O=e[0].hasChildren&&Il();return{c(){t=se("div"),le(n.$$.fragment),i=ue(),o=se("div"),o.textContent="",r=ue(),s=se("div"),l=se("div"),u=ve(a),f=ue(),k&&k.c(),c=ue(),v&&v.c(),d=ue(),D&&D.c(),h=ue(),m=se("button"),m.textContent="",y=ue(),O&&O.c(),w(o,"class","node-icon svelte-jgel9h"),w(l,"class","node-domain svelte-jgel9h"),w(s,"class","node-content svelte-jgel9h"),w(m,"class","info-btn nodrag nopan svelte-jgel9h"),w(m,"title","View discovery details"),w(t,"class","vendor-node svelte-jgel9h"),ae(t,"background",e[1].bg),ae(t,"--shadow-color",e[1].shadow),fe(t,"expanded",e[0].expanded)},m(E,N){F(E,t,N),ne(n,t,null),L(t,i),L(t,o),L(t,r),L(t,s),L(s,l),L(l,u),L(s,f),k&&k.m(s,null),L(s,c),v&&v.m(s,null),L(s,d),D&&D.m(s,null),L(t,h),L(t,m),L(t,y),O&&O.m(t,null),_=!0,g||(C=Se(m,"click",e[2]),g=!0)},p(E,[N]){(!_||N&1)&&a!==(a=E[0].domain+"")&&Pe(u,a),E[0].organization&&E[0].organization!==E[0].domain?k?k.p(E,N):(k=Ol(E),k.c(),k.m(s,c)):k&&(k.d(1),k=null),E[0].discoveryCount>1?v?v.p(E,N):(v=Tl(E),v.c(),v.m(s,d)):v&&(v.d(1),v=null),E[0].hasChildren?D?D.p(E,N):(D=Hl(E),D.c(),D.m(s,null)):D&&(D.d(1),D=null),E[0].hasChildren?O?N&1&&R(O,1):(O=Il(),O.c(),R(O,1),O.m(t,null)):O&&(Te(),Y(O,1,1,()=>{O=null}),He()),(!_||N&2)&&ae(t,"background",E[1].bg),(!_||N&2)&&ae(t,"--shadow-color",E[1].shadow),(!_||N&1)&&fe(t,"expanded",E[0].expanded)},i(E){_||(R(n.$$.fragment,E),R(O),_=!0)},o(E){Y(n.$$.fragment,E),Y(O),_=!1},d(E){E&&B(t),ie(n),k&&k.d(),v&&v.d(),D&&D.d(),O&&O.d(),g=!1,C()}}}function Fg(e,t,n){let i,{data:o}=t;const r={1:{bg:"linear-gradient(135deg, #3b82f6 0%, #2563eb 100%)",shadow:"rgba(59, 130, 246, 0.3)"},2:{bg:"linear-gradient(135deg, #10b981 0%, #059669 100%)",shadow:"rgba(16, 185, 129, 0.3)"},3:{bg:"linear-gradient(135deg, #f59e0b 0%, #d97706 100%)",shadow:"rgba(245, 158, 11, 0.3)"},4:{bg:"linear-gradient(135deg, #ef4444 0%, #dc2626 100%)",shadow:"rgba(239, 68, 68, 0.3)"}};function s(l){l.stopPropagation(),l.preventDefault(),window.dispatchEvent(new CustomEvent("show-vendor-info",{detail:{domain:o.domain,sources:o.sources}}))}return e.$$set=l=>{"data"in l&&n(0,o=l.data)},e.$$.update=()=>{e.$$.dirty&1&&n(1,i=r[o.layer]||r[4])},[o,i,s]}class qg extends ge{constructor(t){super(),he(this,t,Fg,Kg,me,{data:0})}}function Zg(e){let t,n,i,o,r,s,l,a=e[0].label+"",u,f,c,d;return n=new vt({props:{type:"target",position:de.Top}}),{c(){t=se("div"),le(n.$$.fragment),i=ue(),o=se("div"),r=se("div"),r.textContent="+",s=ue(),l=se("div"),u=ve(a),f=ue(),c=se("div"),c.textContent="Click to load",w(r,"class","node-icon svelte-aq22t1"),w(l,"class","node-label svelte-aq22t1"),w(c,"class","node-hint svelte-aq22t1"),w(o,"class","node-content svelte-aq22t1"),w(t,"class","load-more-node svelte-aq22t1")},m(h,m){F(h,t,m),ne(n,t,null),L(t,i),L(t,o),L(o,r),L(o,s),L(o,l),L(l,u),L(o,f),L(o,c),d=!0},p(h,[m]){(!d||m&1)&&a!==(a=h[0].label+"")&&Pe(u,a)},i(h){d||(R(n.$$.fragment,h),d=!0)},o(h){Y(n.$$.fragment,h),d=!1},d(h){h&&B(t),ie(n)}}}function Gg(e,t,n){let{data:i}=t;return e.$$set=o=>{"data"in o&&n(0,i=o.data)},[i]}class Ug extends ge{constructor(t){super(),he(this,t,Gg,Zg,me,{data:0})}}function Jg(e){const t=new Map;for(const n of e){const i=n.nth_party_domain;t.has(i)||t.set(i,{domain:i,organization:n.nth_party_organization||i,layer:n.nth_party_layer,discoveryCount:0,sources:[],children:[]});const o=t.get(i);o.layer=Math.min(o.layer,n.nth_party_layer),o.sources.push({recordType:n.nth_party_record_type,parentDomain:n.nth_party_customer_domain,rawRecord:n.nth_party_record}),o.discoveryCount++,n.nth_party_organization&&n.nth_party_organization!==i&&(o.organization=n.nth_party_organization)}return t}function Vl(e){const t=new Map;for(const n of e){const i=n.nth_party_customer_domain;t.has(i)||t.set(i,new Set),t.get(i).add(n.nth_party_domain)}return t}const Rl=180,Xl=280;function Qg(e,t,n){const i=new Map,o=new Map;o.set(0,[n]);for(const[r,s]of e)r!==n&&(o.has(s.layer)||o.set(s.layer,[]),o.get(s.layer).push(r));for(const[r,s]of o){const a=-((s.length-1)*Xl)/2;s.forEach((u,f)=>{i.set(u,{x:a+f*Xl,y:r*Rl})})}return i}function jg(e,t){const n=[],i=[],o=new Set,r=Jg(e),s=Vl(e);for(const[u,f]of s)r.has(u)&&(r.get(u).children=Array.from(f));const l=Qg(r,s,t),a=s.get(t)||new Set;n.push({id:t,type:"root",data:{label:t,organization:t,domain:t,layer:0,childCount:a.size,hasChildren:a.size>0,expanded:!0,discoveryCount:1,sources:[]},position:l.get(t)||{x:0,y:0},hidden:!1});for(const[u,f]of r){if(u===t)continue;const c=s.get(u)||new Set,d=l.get(u)||{x:0,y:f.layer*Rl};n.push({id:u,type:"vendor",data:{label:u,organization:f.organization,domain:u,layer:f.layer,childCount:c.size,hasChildren:c.size>0,expanded:!1,discoveryCount:f.discoveryCount,sources:f.sources},position:d,hidden:f.layer>1})}for(const u of e){const f=`${u.nth_party_customer_domain}->${u.nth_party_domain}`;if(o.has(f))continue;o.add(f);const c=r.get(u.nth_party_domain),d=(c==null?void 0:c.layer)||u.nth_party_layer;i.push({id:`e-${f}`,source:u.nth_party_customer_domain,target:u.nth_party_domain,type:"smoothstep",hidden:d>1,data:{recordType:u.nth_party_record_type,layer:d}})}return{nodes:n,edges:i,vendors:r}}function xg(e){return{DnsTxtSpf:"SPF",DnsTxtVerification:"DNS Verification",DnsTxtDmarc:"DMARC",DnsTxtDkim:"DKIM",DnsSubdomain:"Subdomain",DnsCname:"CNAME",HttpSubprocessor:"Subprocessor",DiscoverySaas:"SaaS Tenant","DNS::TXT::SPF":"SPF","DNS::TXT::VERIFICATION":"DNS Verification","DNS::TXT::DMARC":"DMARC","DNS::SUBDOMAIN":"Subdomain","DNS::CNAME":"CNAME","HTTP::SUBPROCESSOR":"Subprocessor","DISCOVERY::SAAS_TENANT":"SaaS Tenant"}[e]||e.split("::").pop()||e}function Yl(e,t,n){const i=e.slice();return i[8]=t[n][0],i[9]=t[n][1],i}function Wl(e,t,n){const i=e.slice();return i[12]=t[n],i}function Ll(e){let t,n,i,o,r,s,l,a,u,f,c,d,h,m=e[2].length+"",y,_,g,C,k,v=e[1]&&e[1]!==e[0]&&Bl(e),D=je(Object.entries(e[5])),O=[];for(let E=0;E<D.length;E+=1)O[E]=ql(Yl(e,D,E));return{c(){t=se("div"),n=ue(),i=se("div"),o=se("div"),r=se("div"),s=ve(e[0]),l=ue(),v&&v.c(),a=ue(),u=se("button"),u.textContent="",f=ue(),c=se("div"),d=se("div"),h=ve("Discovery Sources ("),y=ve(m),_=ve("):"),g=ue();for(let E=0;E<O.length;E+=1)O[E].c();w(t,"class","tooltip-backdrop svelte-1573ty2"),w(r,"class","tooltip-domain svelte-1573ty2"),w(u,"class","close-btn svelte-1573ty2"),w(o,"class","tooltip-header svelte-1573ty2"),w(d,"class","section-title svelte-1573ty2"),w(c,"class","tooltip-content svelte-1573ty2"),w(i,"class","tooltip svelte-1573ty2"),ae(i,"left",e[3].x+"px"),ae(i,"top",e[3].y+"px")},m(E,N){F(E,t,N),F(E,n,N),F(E,i,N),L(i,o),L(o,r),L(r,s),L(o,l),v&&v.m(o,null),L(o,a),L(o,u),L(i,f),L(i,c),L(c,d),L(d,h),L(d,y),L(d,_),L(c,g);for(let A=0;A<O.length;A+=1)O[A]&&O[A].m(c,null);C||(k=[Se(t,"click",e[6]),Se(u,"click",e[6])],C=!0)},p(E,N){if(N&1&&Pe(s,E[0]),E[1]&&E[1]!==E[0]?v?v.p(E,N):(v=Bl(E),v.c(),v.m(o,a)):v&&(v.d(1),v=null),N&4&&m!==(m=E[2].length+"")&&Pe(y,m),N&32){D=je(Object.entries(E[5]));let A;for(A=0;A<D.length;A+=1){const W=Yl(E,D,A);O[A]?O[A].p(W,N):(O[A]=ql(W),O[A].c(),O[A].m(c,null))}for(;A<O.length;A+=1)O[A].d(1);O.length=D.length}N&8&&ae(i,"left",E[3].x+"px"),N&8&&ae(i,"top",E[3].y+"px")},d(E){E&&(B(t),B(n),B(i)),v&&v.d(),ho(O,E),C=!1,Ye(k)}}}function Bl(e){let t,n;return{c(){t=se("div"),n=ve(e[1]),w(t,"class","tooltip-org svelte-1573ty2")},m(i,o){F(i,t,o),L(t,n)},p(i,o){o&2&&Pe(n,i[1])},d(i){i&&B(t)}}}function Kl(e){let t,n=e[12].rawRecord+"",i;return{c(){t=se("div"),i=ve(n),w(t,"class","source-record svelte-1573ty2")},m(o,r){F(o,t,r),L(t,i)},p(o,r){r&32&&n!==(n=o[12].rawRecord+"")&&Pe(i,n)},d(o){o&&B(t)}}}function Fl(e){let t,n,i,o=e[12].parentDomain+"",r,s,l=e[12].rawRecord&&Kl(e);return{c(){t=se("div"),n=se("span"),i=ve("from "),r=ve(o),s=ue(),l&&l.c(),w(n,"class","source-parent svelte-1573ty2"),w(t,"class","source-item svelte-1573ty2")},m(a,u){F(a,t,u),L(t,n),L(n,i),L(n,r),L(t,s),l&&l.m(t,null)},p(a,u){u&32&&o!==(o=a[12].parentDomain+"")&&Pe(r,o),a[12].rawRecord?l?l.p(a,u):(l=Kl(a),l.c(),l.m(t,null)):l&&(l.d(1),l=null)},d(a){a&&B(t),l&&l.d()}}}function ql(e){let t,n,i=e[8]+"",o,r,s=e[9].length+"",l,a,u,f,c=je(e[9]),d=[];for(let h=0;h<c.length;h+=1)d[h]=Fl(Wl(e,c,h));return{c(){t=se("div"),n=se("div"),o=ve(i),r=ve(" ("),l=ve(s),a=ve(")"),u=ue();for(let h=0;h<d.length;h+=1)d[h].c();f=ue(),w(n,"class","source-type svelte-1573ty2"),w(t,"class","source-group svelte-1573ty2")},m(h,m){F(h,t,m),L(t,n),L(n,o),L(n,r),L(n,l),L(n,a),L(t,u);for(let y=0;y<d.length;y+=1)d[y]&&d[y].m(t,null);L(t,f)},p(h,m){if(m&32&&i!==(i=h[8]+"")&&Pe(o,i),m&32&&s!==(s=h[9].length+"")&&Pe(l,s),m&32){c=je(h[9]);let y;for(y=0;y<c.length;y+=1){const _=Wl(h,c,y);d[y]?d[y].p(_,m):(d[y]=Fl(_),d[y].c(),d[y].m(t,f))}for(;y<d.length;y+=1)d[y].d(1);d.length=c.length}},d(h){h&&B(t),ho(d,h)}}}function $g(e){let t,n=e[4]&&Ll(e);return{c(){n&&n.c(),t=We()},m(i,o){n&&n.m(i,o),F(i,t,o)},p(i,[o]){i[4]?n?n.p(i,o):(n=Ll(i),n.c(),n.m(t.parentNode,t)):n&&(n.d(1),n=null)},i:ce,o:ce,d(i){i&&B(t),n&&n.d(i)}}}function e0(e,t,n){let i,{domain:o}=t,{organization:r=""}=t,{sources:s=[]}=t,{position:l={x:0,y:0}}=t,{visible:a=!1}=t;const u=cn();function f(){u("close")}return e.$$set=c=>{"domain"in c&&n(0,o=c.domain),"organization"in c&&n(1,r=c.organization),"sources"in c&&n(2,s=c.sources),"position"in c&&n(3,l=c.position),"visible"in c&&n(4,a=c.visible)},e.$$.update=()=>{e.$$.dirty&4&&n(5,i=s.reduce((c,d)=>{const h=xg(d.recordType);return c[h]||(c[h]=[]),c[h].push(d),c},{}))},[o,r,s,l,a,i,f]}class t0 extends ge{constructor(t){super(),he(this,t,e0,$g,me,{domain:0,organization:1,sources:2,position:3,visible:4})}}function n0(e){let t,n,i,o,r,s;return t=new _g({}),i=new Ng({props:{variant:_t.Dots}}),r=new Yg({}),{c(){le(t.$$.fragment),n=ue(),le(i.$$.fragment),o=ue(),le(r.$$.fragment)},m(l,a){ne(t,l,a),F(l,n,a),ne(i,l,a),F(l,o,a),ne(r,l,a),s=!0},p:ce,i(l){s||(R(t.$$.fragment,l),R(i.$$.fragment,l),R(r.$$.fragment,l),s=!0)},o(l){Y(t.$$.fragment,l),Y(i.$$.fragment,l),Y(r.$$.fragment,l),s=!1},d(l){l&&(B(n),B(o)),ie(t,l),ie(i,l),ie(r,l)}}}function i0(e){let t,n,i,o,r,s,l,a,u,f,c,d;return l=new Zh({props:{nodes:e[7],edges:e[8],nodeTypes:e[9],fitView:!0,$$slots:{default:[n0]},$$scope:{ctx:e}}}),l.$on("nodeclick",e[10]),u=new t0({props:{domain:e[3],organization:e[4],sources:e[5],position:e[6],visible:e[2]}}),u.$on("close",e[11]),{c(){t=se("div"),n=se("div"),i=se("button"),i.textContent="Reset View",o=ue(),r=se("button"),r.textContent="Expand All",s=ue(),le(l.$$.fragment),a=ue(),le(u.$$.fragment),w(i,"class","btn btn-primary svelte-19rw5s4"),w(r,"class","btn btn-secondary svelte-19rw5s4"),w(n,"class","graph-controls svelte-19rw5s4"),w(t,"class","vendor-graph-container svelte-19rw5s4")},m(h,m){F(h,t,m),L(t,n),L(n,i),L(n,o),L(n,r),L(t,s),ne(l,t,null),L(t,a),ne(u,t,null),f=!0,c||(d=[Se(i,"click",e[0]),Se(r,"click",e[1])],c=!0)},p(h,[m]){const y={};m&67108864&&(y.$$scope={dirty:m,ctx:h}),l.$set(y);const _={};m&8&&(_.domain=h[3]),m&16&&(_.organization=h[4]),m&32&&(_.sources=h[5]),m&64&&(_.position=h[6]),m&4&&(_.visible=h[2]),u.$set(_)},i(h){f||(R(l.$$.fragment,h),R(u.$$.fragment,h),f=!0)},o(h){Y(l.$$.fragment,h),Y(u.$$.fragment,h),f=!1},d(h){h&&B(t),ie(l),ie(u),c=!1,Ye(d)}}}const Zl=10;function o0(e,t,n){let i,{relationships:o=[]}=t,{rootDomain:r=""}=t;const{nodes:s,edges:l,vendors:a}=jg(o,r),u=oe(s);U(e,u,T=>n(14,i=T));const f=oe(l),c=new Set([r]),d=new Map,h=Vl(o);let m=!1,y="",_="",g=[],C={x:0,y:0};function k(T){const b=T.detail,S=a.get(b.domain);n(3,y=b.domain),n(4,_=(S==null?void 0:S.organization)||""),n(5,g=b.sources||[]),n(6,C={x:window.innerWidth/2-140,y:window.innerHeight/3}),n(2,m=!0)}fn(()=>{window.addEventListener("show-vendor-info",k)}),_i(()=>{window.removeEventListener("show-vendor-info",k)});const v={root:Bg,vendor:qg,loadMore:Ug};function D(T){var p;const b=(p=T.detail.node)==null?void 0:p.id;if(!b)return;const S=i.find(z=>z.id===b);if(S){if(S.type==="loadMore"&&S.data.parentId){N(S.data.parentId);return}S.data.hasChildren&&(c.has(b)?E(b):O(b))}}function O(T){const b=h.get(T);if(!b||b.size===0)return;const S=Array.from(b);d.has(T)||d.set(T,{shown:0,total:S.length});const p=d.get(T),z=p.shown,H=Math.min(z+Zl,S.length),I=S.slice(z,H),X=i.find(re=>re.id===T),G=(X==null?void 0:X.position)||{x:0,y:0},j=(X==null?void 0:X.data.layer)||0,x=180,V=280;u.update(re=>re.map(q=>{if(I.includes(q.id)){const ke=I.indexOf(q.id),Q=(I.length-1)*V,ye=G.x-Q/2;return{...q,hidden:!1,position:{x:ye+ke*V,y:G.y+x}}}return q.id===T?{...q,data:{...q.data,expanded:!0}}:q})),f.update(re=>re.map(q=>q.source===T&&I.includes(q.target)?{...q,hidden:!1}:q)),p.shown=H,c.add(T);const ee=S.length-p.shown;A(T,ee,j+1,G)}function E(T){const b=h.get(T);if(!b)return;const S=Array.from(b);for(const p of S)c.has(p)&&E(p);u.update(p=>p.map(z=>S.includes(z.id)?{...z,hidden:!0}:z.id===T?{...z,data:{...z.data,expanded:!1}}:z.type==="loadMore"&&z.data.parentId===T?{...z,hidden:!0}:z)),f.update(p=>p.map(z=>z.source===T?{...z,hidden:!0}:z)),c.delete(T),d.delete(T)}function N(T){O(T)}function A(T,b,S,p){const z=`loadMore-${T}`,H=180,I=280;if(u.update(ee=>ee.filter(re=>re.id!==z)),f.update(ee=>ee.filter(re=>re.target!==z)),b<=0)return;const X=d.get(T),G=(X==null?void 0:X.shown)||Zl,j=G*I,x=p.x-j/2+G*I,V={id:z,type:"loadMore",data:{label:`+ ${b} more`,organization:"",domain:"",layer:S,childCount:b,hasChildren:!1,expanded:!1,discoveryCount:0,sources:[],parentId:T},position:{x,y:p.y+H},hidden:!1};u.update(ee=>[...ee,V]),f.update(ee=>[...ee,{id:`e-loadMore-${T}`,source:T,target:z,type:"smoothstep",hidden:!1}])}function W(){n(2,m=!1)}function J(){for(const T of c)T!==r&&E(T)}function Z(){const T=i.filter(b=>b.data.hasChildren&&!c.has(b.id)&&!b.hidden);for(const b of T)O(b.id)}return e.$$set=T=>{"relationships"in T&&n(12,o=T.relationships),"rootDomain"in T&&n(13,r=T.rootDomain)},[J,Z,m,y,_,g,C,u,f,v,D,W,o,r]}class Gl extends ge{constructor(t){super(),he(this,t,o0,i0,me,{relationships:12,rootDomain:13,resetView:0,expandAll:1})}get resetView(){return this.$$.ctx[0]}get expandAll(){return this.$$.ctx[1]}}function Ul(){const e=document.getElementById("vendor-graph");if(!e){console.error("vendor-graph container not found");return}if(!window.graphData){console.error("window.graphData not found");return}window.vendorGraph=new Gl({target:e,props:{rootDomain:window.graphData.summary.root_domain,relationships:window.graphData.relationships}})}return document.readyState==="loading"?document.addEventListener("DOMContentLoaded",Ul):Ul(),Gl}();
