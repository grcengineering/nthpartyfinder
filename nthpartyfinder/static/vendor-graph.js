var VendorGraph=function(){"use strict";var N0=Object.defineProperty;var O0=(fe,_e,Mt)=>_e in fe?N0(fe,_e,{enumerable:!0,configurable:!0,writable:!0,value:Mt}):fe[_e]=Mt;var lo=(fe,_e,Mt)=>O0(fe,typeof _e!="symbol"?_e+"":_e,Mt);function fe(){}function _e(e,t){for(const n in t)e[n]=t[n];return e}function Mt(e){return e()}function so(){return Object.create(null)}function Ye(e){e.forEach(Mt)}function Oe(e){return typeof e=="function"}function me(e,t){return e!=e?t==t:e!==t||e&&typeof e=="object"||typeof e=="function"}function ao(e,t){return e!=e?t==t:e!==t}function $l(e){return Object.keys(e).length===0}function an(e,...t){if(e==null){for(const i of t)i(void 0);return fe}const n=e.subscribe(...t);return n.unsubscribe?()=>n.unsubscribe():n}function $(e){let t;return an(e,n=>t=n)(),t}function J(e,t,n){e.$$.on_destroy.push(an(t,n))}function qe(e,t,n,i){if(e){const o=uo(e,t,n,i);return e[0](o)}}function uo(e,t,n,i){return e[1]&&i?_e(n.ctx.slice(),e[1](i(t))):n.ctx}function Ze(e,t,n,i){if(e[2]&&i){const o=e[2](i(n));if(t.dirty===void 0)return o;if(typeof o=="object"){const r=[],s=Math.max(t.dirty.length,o.length);for(let l=0;l<s;l+=1)r[l]=t.dirty[l]|o[l];return r}return t.dirty|o}return t.dirty}function Ge(e,t,n,i,o,r){if(o){const s=uo(t,n,i,r);e.p(s,o)}}function Ue(e){if(e.ctx.length>32){const t=[],n=e.ctx.length/32;for(let i=0;i<n;i++)t[i]=-1;return t}return-1}function nt(e){const t={};for(const n in e)n[0]!=="$"&&(t[n]=e[n]);return t}function De(e,t){const n={};t=new Set(t);for(const i in e)!t.has(i)&&i[0]!=="$"&&(n[i]=e[i]);return n}function es(e){const t={};for(const n in e)t[n]=!0;return t}function fo(e){return e??""}function Mn(e,t,n){return e.set(n),t}function Be(e){return e&&Oe(e.destroy)?e.destroy:fe}const ts=typeof window<"u"?window:typeof globalThis<"u"?globalThis:global;function q(e,t){e.appendChild(t)}function Z(e,t,n){e.insertBefore(t,n||null)}function K(e){e.parentNode&&e.parentNode.removeChild(e)}function co(e,t){for(let n=0;n<e.length;n+=1)e[n]&&e[n].d(t)}function ae(e){return document.createElement(e)}function Ce(e){return document.createElementNS("http://www.w3.org/2000/svg",e)}function pe(e){return document.createTextNode(e)}function ue(){return pe(" ")}function Le(){return pe("")}function Se(e,t,n,i){return e.addEventListener(t,n,i),()=>e.removeEventListener(t,n,i)}function w(e,t,n){n==null?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}const ns=["width","height"];function Rt(e,t){const n=Object.getOwnPropertyDescriptors(e.__proto__);for(const i in t)t[i]==null?e.removeAttribute(i):i==="style"?e.style.cssText=t[i]:i==="__value"?e.value=e[i]=t[i]:n[i]&&n[i].set&&ns.indexOf(i)===-1?e[i]=t[i]:w(e,i,t[i])}function is(e){return Array.from(e.childNodes)}function Pe(e,t){t=""+t,e.data!==t&&(e.data=t)}function le(e,t,n,i){n==null?e.style.removeProperty(t):e.style.setProperty(t,n,"")}let zn;function os(){if(zn===void 0){zn=!1;try{typeof window<"u"&&window.parent&&window.parent.document}catch{zn=!0}}return zn}function rs(e,t){getComputedStyle(e).position==="static"&&(e.style.position="relative");const i=ae("iframe");i.setAttribute("style","display: block; position: absolute; top: 0; left: 0; width: 100%; height: 100%; overflow: hidden; border: 0; opacity: 0; pointer-events: none; z-index: -1;"),i.setAttribute("aria-hidden","true"),i.tabIndex=-1;const o=os();let r;return o?(i.src="data:text/html,<script>onresize=function(){parent.postMessage(0,'*')}<\/script>",r=Se(window,"message",s=>{s.source===i.contentWindow&&t()})):(i.src="about:blank",i.onload=()=>{r=Se(i.contentWindow,"resize",t),t()}),q(e,i),()=>{(o||r&&i.contentWindow)&&r(),K(i)}}function se(e,t,n){e.classList.toggle(t,!!n)}function ls(e,t,{bubbles:n=!1,cancelable:i=!1}={}){return new CustomEvent(e,{detail:t,bubbles:n,cancelable:i})}function Pn(e,t){return new e(t)}let un;function fn(e){un=e}function Xt(){if(!un)throw new Error("Function called outside component initialization");return un}function Nn(e){Xt().$$.on_mount.push(e)}function ho(e){Xt().$$.on_destroy.push(e)}function Yt(){const e=Xt();return(t,n,{cancelable:i=!1}={})=>{const o=e.$$.callbacks[t];if(o){const r=ls(t,n,{cancelable:i});return o.slice().forEach(s=>{s.call(e,r)}),!r.defaultPrevented}return!0}}function On(e,t){return Xt().$$.context.set(e,t),t}function Dn(e){return Xt().$$.context.get(e)}function ss(e){return Xt().$$.context.has(e)}function ve(e,t){const n=e.$$.callbacks[t.type];n&&n.slice().forEach(i=>i.call(this,t))}const Lt=[],cn=[];let Wt=[];const go=[],as=Promise.resolve();let _i=!1;function us(){_i||(_i=!0,as.then(mo))}function Tn(e){Wt.push(e)}const bi=new Set;let Bt=0;function mo(){if(Bt!==0)return;const e=un;do{try{for(;Bt<Lt.length;){const t=Lt[Bt];Bt++,fn(t),fs(t.$$)}}catch(t){throw Lt.length=0,Bt=0,t}for(fn(null),Lt.length=0,Bt=0;cn.length;)cn.pop()();for(let t=0;t<Wt.length;t+=1){const n=Wt[t];bi.has(n)||(bi.add(n),n())}Wt.length=0}while(Lt.length);for(;go.length;)go.pop()();_i=!1,bi.clear(),fn(e)}function fs(e){if(e.fragment!==null){e.update(),Ye(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(Tn)}}function cs(e){const t=[],n=[];Wt.forEach(i=>e.indexOf(i)===-1?t.push(i):n.push(i)),n.forEach(i=>i()),Wt=t}const An=new Set;let zt;function Ae(){zt={r:0,c:[],p:zt}}function He(){zt.r||Ye(zt.c),zt=zt.p}function V(e,t){e&&e.i&&(An.delete(e),e.i(t))}function Y(e,t,n,i){if(e&&e.o){if(An.has(e))return;An.add(e),zt.c.push(()=>{An.delete(e),i&&(n&&e.d(1),i())}),e.o(t)}else i&&i()}function je(e){return(e==null?void 0:e.length)!==void 0?e:Array.from(e)}function Hn(e,t){Y(e,1,1,()=>{t.delete(e.key)})}function In(e,t,n,i,o,r,s,l,a,u,f,c){let d=e.length,h=r.length,m=d;const y={};for(;m--;)y[e[m].key]=m;const _=[],g=new Map,C=new Map,k=[];for(m=h;m--;){const M=c(o,r,m),D=n(M);let O=s.get(D);O?k.push(()=>O.p(M,t)):(O=u(D,M),O.c()),g.set(D,_[m]=O),D in y&&C.set(D,Math.abs(m-y[D]))}const p=new Set,P=new Set;function H(M){V(M,1),M.m(l,f),s.set(M.key,M),f=M.first,h--}for(;d&&h;){const M=_[h-1],D=e[d-1],O=M.key,B=D.key;M===D?(f=M.first,d--,h--):g.has(B)?!s.has(O)||p.has(O)?H(M):P.has(B)?d--:C.get(O)>C.get(B)?(P.add(O),H(M)):(p.add(B),d--):(a(D,s),d--)}for(;d--;){const M=e[d];g.has(M.key)||a(M,s)}for(;h;)H(_[h-1]);return Ye(k),_}function dt(e,t){const n={},i={},o={$$scope:1};let r=e.length;for(;r--;){const s=e[r],l=t[r];if(l){for(const a in s)a in l||(i[a]=1);for(const a in l)o[a]||(n[a]=l[a],o[a]=1);e[r]=l}else for(const a in s)o[a]=1}for(const s in i)s in n||(n[s]=void 0);return n}function Kt(e){return typeof e=="object"&&e!==null?e:{}}function re(e){e&&e.c()}function ne(e,t,n){const{fragment:i,after_update:o}=e.$$;i&&i.m(t,n),Tn(()=>{const r=e.$$.on_mount.map(Mt).filter(Oe);e.$$.on_destroy?e.$$.on_destroy.push(...r):Ye(r),e.$$.on_mount=[]}),o.forEach(Tn)}function ie(e,t){const n=e.$$;n.fragment!==null&&(cs(n.after_update),Ye(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function ds(e,t){e.$$.dirty[0]===-1&&(Lt.push(e),us(),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function he(e,t,n,i,o,r,s=null,l=[-1]){const a=un;fn(e);const u=e.$$={fragment:null,ctx:[],props:r,update:fe,not_equal:o,bound:so(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(t.context||(a?a.$$.context:[])),callbacks:so(),dirty:l,skip_bound:!1,root:t.target||a.$$.root};s&&s(u.root);let f=!1;if(u.ctx=n?n(e,t.props||{},(c,d,...h)=>{const m=h.length?h[0]:d;return u.ctx&&o(u.ctx[c],u.ctx[c]=m)&&(!u.skip_bound&&u.bound[c]&&u.bound[c](m),f&&ds(e,c)),d}):[],u.update(),f=!0,Ye(u.before_update),u.fragment=i?i(u.ctx):!1,t.target){if(t.hydrate){const c=is(t.target);u.fragment&&u.fragment.l(c),c.forEach(K)}else u.fragment&&u.fragment.c();t.intro&&V(e.$$.fragment),ne(e,t.target,t.anchor),mo()}fn(a)}class ge{constructor(){lo(this,"$$");lo(this,"$$set")}$destroy(){ie(this,1),this.$destroy=fe}$on(t,n){if(!Oe(n))return fe;const i=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return i.push(n),()=>{const o=i.indexOf(n);o!==-1&&i.splice(o,1)}}$set(t){this.$$set&&!$l(t)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}const hs="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(hs);const Ft=[];function xe(e,t){return{subscribe:oe(e,t).subscribe}}function oe(e,t=fe){let n;const i=new Set;function o(l){if(me(e,l)&&(e=l,n)){const a=!Ft.length;for(const u of i)u[1](),Ft.push(u,e);if(a){for(let u=0;u<Ft.length;u+=2)Ft[u][0](Ft[u+1]);Ft.length=0}}}function r(l){o(l(e))}function s(l,a=fe){const u=[l,a];return i.add(u),i.size===1&&(n=t(o,r)||fe),l(e),()=>{i.delete(u),i.size===0&&n&&(n(),n=null)}}return{set:o,update:r,subscribe:s}}function qt(e,t,n){const i=!Array.isArray(e),o=i?[e]:e;if(!o.every(Boolean))throw new Error("derived() expects stores as input, got a falsy value");const r=t.length<2;return xe(n,(s,l)=>{let a=!1;const u=[];let f=0,c=fe;const d=()=>{if(f)return;c();const m=t(i?u[0]:u,s,l);r?s(m):c=Oe(m)?m:fe},h=o.map((m,y)=>an(m,_=>{u[y]=_,f&=~(1<<y),a&&d()},()=>{f|=1<<y}));return a=!0,d(),function(){Ye(h),c(),a=!1}})}function Ee(e){if(typeof e=="string"||typeof e=="number")return""+e;let t="";if(Array.isArray(e))for(let n=0,i;n<e.length;n++)(i=Ee(e[n]))!==""&&(t+=(t&&" ")+i);else for(let n in e)e[n]&&(t+=(t&&" ")+n);return t}var gs={value:()=>{}};function Vn(){for(var e=0,t=arguments.length,n={},i;e<t;++e){if(!(i=arguments[e]+"")||i in n||/[\s.]/.test(i))throw new Error("illegal type: "+i);n[i]=[]}return new Rn(n)}function Rn(e){this._=e}function ms(e,t){return e.trim().split(/^|\s+/).map(function(n){var i="",o=n.indexOf(".");if(o>=0&&(i=n.slice(o+1),n=n.slice(0,o)),n&&!t.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:i}})}Rn.prototype=Vn.prototype={constructor:Rn,on:function(e,t){var n=this._,i=ms(e+"",n),o,r=-1,s=i.length;if(arguments.length<2){for(;++r<s;)if((o=(e=i[r]).type)&&(o=ys(n[o],e.name)))return o;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++r<s;)if(o=(e=i[r]).type)n[o]=yo(n[o],e.name,t);else if(t==null)for(o in n)n[o]=yo(n[o],e.name,null);return this},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new Rn(e)},call:function(e,t){if((o=arguments.length-2)>0)for(var n=new Array(o),i=0,o,r;i<o;++i)n[i]=arguments[i+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(r=this._[e],i=0,o=r.length;i<o;++i)r[i].value.apply(t,n)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var i=this._[e],o=0,r=i.length;o<r;++o)i[o].value.apply(t,n)}};function ys(e,t){for(var n=0,i=e.length,o;n<i;++n)if((o=e[n]).name===t)return o.value}function yo(e,t,n){for(var i=0,o=e.length;i<o;++i)if(e[i].name===t){e[i]=gs,e=e.slice(0,i).concat(e.slice(i+1));break}return n!=null&&e.push({name:t,value:n}),e}var wi="http://www.w3.org/1999/xhtml";const _o={svg:"http://www.w3.org/2000/svg",xhtml:wi,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Xn(e){var t=e+="",n=t.indexOf(":");return n>=0&&(t=e.slice(0,n))!=="xmlns"&&(e=e.slice(n+1)),_o.hasOwnProperty(t)?{space:_o[t],local:e}:e}function _s(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===wi&&t.documentElement.namespaceURI===wi?t.createElement(e):t.createElementNS(n,e)}}function bs(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function bo(e){var t=Xn(e);return(t.local?bs:_s)(t)}function ws(){}function ki(e){return e==null?ws:function(){return this.querySelector(e)}}function ks(e){typeof e!="function"&&(e=ki(e));for(var t=this._groups,n=t.length,i=new Array(n),o=0;o<n;++o)for(var r=t[o],s=r.length,l=i[o]=new Array(s),a,u,f=0;f<s;++f)(a=r[f])&&(u=e.call(a,a.__data__,f,r))&&("__data__"in a&&(u.__data__=a.__data__),l[f]=u);return new Qe(i,this._parents)}function ps(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function vs(){return[]}function wo(e){return e==null?vs:function(){return this.querySelectorAll(e)}}function Ss(e){return function(){return ps(e.apply(this,arguments))}}function Cs(e){typeof e=="function"?e=Ss(e):e=wo(e);for(var t=this._groups,n=t.length,i=[],o=[],r=0;r<n;++r)for(var s=t[r],l=s.length,a,u=0;u<l;++u)(a=s[u])&&(i.push(e.call(a,a.__data__,u,s)),o.push(a));return new Qe(i,o)}function ko(e){return function(){return this.matches(e)}}function po(e){return function(t){return t.matches(e)}}var Es=Array.prototype.find;function Ms(e){return function(){return Es.call(this.children,e)}}function zs(){return this.firstElementChild}function Ps(e){return this.select(e==null?zs:Ms(typeof e=="function"?e:po(e)))}var Ns=Array.prototype.filter;function Os(){return Array.from(this.children)}function Ds(e){return function(){return Ns.call(this.children,e)}}function Ts(e){return this.selectAll(e==null?Os:Ds(typeof e=="function"?e:po(e)))}function As(e){typeof e!="function"&&(e=ko(e));for(var t=this._groups,n=t.length,i=new Array(n),o=0;o<n;++o)for(var r=t[o],s=r.length,l=i[o]=[],a,u=0;u<s;++u)(a=r[u])&&e.call(a,a.__data__,u,r)&&l.push(a);return new Qe(i,this._parents)}function vo(e){return new Array(e.length)}function Hs(){return new Qe(this._enter||this._groups.map(vo),this._parents)}function Yn(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}Yn.prototype={constructor:Yn,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function Is(e){return function(){return e}}function Vs(e,t,n,i,o,r){for(var s=0,l,a=t.length,u=r.length;s<u;++s)(l=t[s])?(l.__data__=r[s],i[s]=l):n[s]=new Yn(e,r[s]);for(;s<a;++s)(l=t[s])&&(o[s]=l)}function Rs(e,t,n,i,o,r,s){var l,a,u=new Map,f=t.length,c=r.length,d=new Array(f),h;for(l=0;l<f;++l)(a=t[l])&&(d[l]=h=s.call(a,a.__data__,l,t)+"",u.has(h)?o[l]=a:u.set(h,a));for(l=0;l<c;++l)h=s.call(e,r[l],l,r)+"",(a=u.get(h))?(i[l]=a,a.__data__=r[l],u.delete(h)):n[l]=new Yn(e,r[l]);for(l=0;l<f;++l)(a=t[l])&&u.get(d[l])===a&&(o[l]=a)}function Xs(e){return e.__data__}function Ys(e,t){if(!arguments.length)return Array.from(this,Xs);var n=t?Rs:Vs,i=this._parents,o=this._groups;typeof e!="function"&&(e=Is(e));for(var r=o.length,s=new Array(r),l=new Array(r),a=new Array(r),u=0;u<r;++u){var f=i[u],c=o[u],d=c.length,h=Ls(e.call(f,f&&f.__data__,u,i)),m=h.length,y=l[u]=new Array(m),_=s[u]=new Array(m),g=a[u]=new Array(d);n(f,c,y,_,g,h,t);for(var C=0,k=0,p,P;C<m;++C)if(p=y[C]){for(C>=k&&(k=C+1);!(P=_[k])&&++k<m;);p._next=P||null}}return s=new Qe(s,i),s._enter=l,s._exit=a,s}function Ls(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function Ws(){return new Qe(this._exit||this._groups.map(vo),this._parents)}function Bs(e,t,n){var i=this.enter(),o=this,r=this.exit();return typeof e=="function"?(i=e(i),i&&(i=i.selection())):i=i.append(e+""),t!=null&&(o=t(o),o&&(o=o.selection())),n==null?r.remove():n(r),i&&o?i.merge(o).order():o}function Ks(e){for(var t=e.selection?e.selection():e,n=this._groups,i=t._groups,o=n.length,r=i.length,s=Math.min(o,r),l=new Array(o),a=0;a<s;++a)for(var u=n[a],f=i[a],c=u.length,d=l[a]=new Array(c),h,m=0;m<c;++m)(h=u[m]||f[m])&&(d[m]=h);for(;a<o;++a)l[a]=n[a];return new Qe(l,this._parents)}function Fs(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var i=e[t],o=i.length-1,r=i[o],s;--o>=0;)(s=i[o])&&(r&&s.compareDocumentPosition(r)^4&&r.parentNode.insertBefore(s,r),r=s);return this}function qs(e){e||(e=Zs);function t(c,d){return c&&d?e(c.__data__,d.__data__):!c-!d}for(var n=this._groups,i=n.length,o=new Array(i),r=0;r<i;++r){for(var s=n[r],l=s.length,a=o[r]=new Array(l),u,f=0;f<l;++f)(u=s[f])&&(a[f]=u);a.sort(t)}return new Qe(o,this._parents).order()}function Zs(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function Gs(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function Us(){return Array.from(this)}function Js(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var i=e[t],o=0,r=i.length;o<r;++o){var s=i[o];if(s)return s}return null}function Qs(){let e=0;for(const t of this)++e;return e}function js(){return!this.node()}function xs(e){for(var t=this._groups,n=0,i=t.length;n<i;++n)for(var o=t[n],r=0,s=o.length,l;r<s;++r)(l=o[r])&&e.call(l,l.__data__,r,o);return this}function $s(e){return function(){this.removeAttribute(e)}}function ea(e){return function(){this.removeAttributeNS(e.space,e.local)}}function ta(e,t){return function(){this.setAttribute(e,t)}}function na(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function ia(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttribute(e):this.setAttribute(e,n)}}function oa(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function ra(e,t){var n=Xn(e);if(arguments.length<2){var i=this.node();return n.local?i.getAttributeNS(n.space,n.local):i.getAttribute(n)}return this.each((t==null?n.local?ea:$s:typeof t=="function"?n.local?oa:ia:n.local?na:ta)(n,t))}function So(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function la(e){return function(){this.style.removeProperty(e)}}function sa(e,t,n){return function(){this.style.setProperty(e,t,n)}}function aa(e,t,n){return function(){var i=t.apply(this,arguments);i==null?this.style.removeProperty(e):this.style.setProperty(e,i,n)}}function ua(e,t,n){return arguments.length>1?this.each((t==null?la:typeof t=="function"?aa:sa)(e,t,n??"")):Zt(this.node(),e)}function Zt(e,t){return e.style.getPropertyValue(t)||So(e).getComputedStyle(e,null).getPropertyValue(t)}function fa(e){return function(){delete this[e]}}function ca(e,t){return function(){this[e]=t}}function da(e,t){return function(){var n=t.apply(this,arguments);n==null?delete this[e]:this[e]=n}}function ha(e,t){return arguments.length>1?this.each((t==null?fa:typeof t=="function"?da:ca)(e,t)):this.node()[e]}function Co(e){return e.trim().split(/^|\s+/)}function pi(e){return e.classList||new Eo(e)}function Eo(e){this._node=e,this._names=Co(e.getAttribute("class")||"")}Eo.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function Mo(e,t){for(var n=pi(e),i=-1,o=t.length;++i<o;)n.add(t[i])}function zo(e,t){for(var n=pi(e),i=-1,o=t.length;++i<o;)n.remove(t[i])}function ga(e){return function(){Mo(this,e)}}function ma(e){return function(){zo(this,e)}}function ya(e,t){return function(){(t.apply(this,arguments)?Mo:zo)(this,e)}}function _a(e,t){var n=Co(e+"");if(arguments.length<2){for(var i=pi(this.node()),o=-1,r=n.length;++o<r;)if(!i.contains(n[o]))return!1;return!0}return this.each((typeof t=="function"?ya:t?ga:ma)(n,t))}function ba(){this.textContent=""}function wa(e){return function(){this.textContent=e}}function ka(e){return function(){var t=e.apply(this,arguments);this.textContent=t??""}}function pa(e){return arguments.length?this.each(e==null?ba:(typeof e=="function"?ka:wa)(e)):this.node().textContent}function va(){this.innerHTML=""}function Sa(e){return function(){this.innerHTML=e}}function Ca(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t??""}}function Ea(e){return arguments.length?this.each(e==null?va:(typeof e=="function"?Ca:Sa)(e)):this.node().innerHTML}function Ma(){this.nextSibling&&this.parentNode.appendChild(this)}function za(){return this.each(Ma)}function Pa(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function Na(){return this.each(Pa)}function Oa(e){var t=typeof e=="function"?e:bo(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function Da(){return null}function Ta(e,t){var n=typeof e=="function"?e:bo(e),i=t==null?Da:typeof t=="function"?t:ki(t);return this.select(function(){return this.insertBefore(n.apply(this,arguments),i.apply(this,arguments)||null)})}function Aa(){var e=this.parentNode;e&&e.removeChild(this)}function Ha(){return this.each(Aa)}function Ia(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function Va(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function Ra(e){return this.select(e?Va:Ia)}function Xa(e){return arguments.length?this.property("__data__",e):this.node().__data__}function Ya(e){return function(t){e.call(this,t,this.__data__)}}function La(e){return e.trim().split(/^|\s+/).map(function(t){var n="",i=t.indexOf(".");return i>=0&&(n=t.slice(i+1),t=t.slice(0,i)),{type:t,name:n}})}function Wa(e){return function(){var t=this.__on;if(t){for(var n=0,i=-1,o=t.length,r;n<o;++n)r=t[n],(!e.type||r.type===e.type)&&r.name===e.name?this.removeEventListener(r.type,r.listener,r.options):t[++i]=r;++i?t.length=i:delete this.__on}}}function Ba(e,t,n){return function(){var i=this.__on,o,r=Ya(t);if(i){for(var s=0,l=i.length;s<l;++s)if((o=i[s]).type===e.type&&o.name===e.name){this.removeEventListener(o.type,o.listener,o.options),this.addEventListener(o.type,o.listener=r,o.options=n),o.value=t;return}}this.addEventListener(e.type,r,n),o={type:e.type,name:e.name,value:t,listener:r,options:n},i?i.push(o):this.__on=[o]}}function Ka(e,t,n){var i=La(e+""),o,r=i.length,s;if(arguments.length<2){var l=this.node().__on;if(l){for(var a=0,u=l.length,f;a<u;++a)for(o=0,f=l[a];o<r;++o)if((s=i[o]).type===f.type&&s.name===f.name)return f.value}return}for(l=t?Ba:Wa,o=0;o<r;++o)this.each(l(i[o],t,n));return this}function Po(e,t,n){var i=So(e),o=i.CustomEvent;typeof o=="function"?o=new o(t,n):(o=i.document.createEvent("Event"),n?(o.initEvent(t,n.bubbles,n.cancelable),o.detail=n.detail):o.initEvent(t,!1,!1)),e.dispatchEvent(o)}function Fa(e,t){return function(){return Po(this,e,t)}}function qa(e,t){return function(){return Po(this,e,t.apply(this,arguments))}}function Za(e,t){return this.each((typeof t=="function"?qa:Fa)(e,t))}function*Ga(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var i=e[t],o=0,r=i.length,s;o<r;++o)(s=i[o])&&(yield s)}var No=[null];function Qe(e,t){this._groups=e,this._parents=t}function dn(){return new Qe([[document.documentElement]],No)}function Ua(){return this}Qe.prototype=dn.prototype={constructor:Qe,select:ks,selectAll:Cs,selectChild:Ps,selectChildren:Ts,filter:As,data:Ys,enter:Hs,exit:Ws,join:Bs,merge:Ks,selection:Ua,order:Fs,sort:qs,call:Gs,nodes:Us,node:Js,size:Qs,empty:js,each:xs,attr:ra,style:ua,property:ha,classed:_a,text:pa,html:Ea,raise:za,lower:Na,append:Oa,insert:Ta,remove:Ha,clone:Ra,datum:Xa,on:Ka,dispatch:Za,[Symbol.iterator]:Ga};function $e(e){return typeof e=="string"?new Qe([[document.querySelector(e)]],[document.documentElement]):new Qe([[e]],No)}function Ja(e){let t;for(;t=e.sourceEvent;)e=t;return e}function it(e,t){if(e=Ja(e),t===void 0&&(t=e.currentTarget),t){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var i=n.createSVGPoint();return i.x=e.clientX,i.y=e.clientY,i=i.matrixTransform(t.getScreenCTM().inverse()),[i.x,i.y]}if(t.getBoundingClientRect){var o=t.getBoundingClientRect();return[e.clientX-o.left-t.clientLeft,e.clientY-o.top-t.clientTop]}}return[e.pageX,e.pageY]}const Qa={passive:!1},hn={capture:!0,passive:!1};function vi(e){e.stopImmediatePropagation()}function Gt(e){e.preventDefault(),e.stopImmediatePropagation()}function Oo(e){var t=e.document.documentElement,n=$e(e).on("dragstart.drag",Gt,hn);"onselectstart"in t?n.on("selectstart.drag",Gt,hn):(t.__noselect=t.style.MozUserSelect,t.style.MozUserSelect="none")}function Do(e,t){var n=e.document.documentElement,i=$e(e).on("dragstart.drag",null);t&&(i.on("click.drag",Gt,hn),setTimeout(function(){i.on("click.drag",null)},0)),"onselectstart"in n?i.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}const Ln=e=>()=>e;function Si(e,{sourceEvent:t,subject:n,target:i,identifier:o,active:r,x:s,y:l,dx:a,dy:u,dispatch:f}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},subject:{value:n,enumerable:!0,configurable:!0},target:{value:i,enumerable:!0,configurable:!0},identifier:{value:o,enumerable:!0,configurable:!0},active:{value:r,enumerable:!0,configurable:!0},x:{value:s,enumerable:!0,configurable:!0},y:{value:l,enumerable:!0,configurable:!0},dx:{value:a,enumerable:!0,configurable:!0},dy:{value:u,enumerable:!0,configurable:!0},_:{value:f}})}Si.prototype.on=function(){var e=this._.on.apply(this._,arguments);return e===this._?this:e};function ja(e){return!e.ctrlKey&&!e.button}function xa(){return this.parentNode}function $a(e,t){return t??{x:e.x,y:e.y}}function eu(){return navigator.maxTouchPoints||"ontouchstart"in this}function tu(){var e=ja,t=xa,n=$a,i=eu,o={},r=Vn("start","drag","end"),s=0,l,a,u,f,c=0;function d(p){p.on("mousedown.drag",h).filter(i).on("touchstart.drag",_).on("touchmove.drag",g,Qa).on("touchend.drag touchcancel.drag",C).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function h(p,P){if(!(f||!e.call(this,p,P))){var H=k(this,t.call(this,p,P),p,P,"mouse");H&&($e(p.view).on("mousemove.drag",m,hn).on("mouseup.drag",y,hn),Oo(p.view),vi(p),u=!1,l=p.clientX,a=p.clientY,H("start",p))}}function m(p){if(Gt(p),!u){var P=p.clientX-l,H=p.clientY-a;u=P*P+H*H>c}o.mouse("drag",p)}function y(p){$e(p.view).on("mousemove.drag mouseup.drag",null),Do(p.view,u),Gt(p),o.mouse("end",p)}function _(p,P){if(e.call(this,p,P)){var H=p.changedTouches,M=t.call(this,p,P),D=H.length,O,B;for(O=0;O<D;++O)(B=k(this,M,p,P,H[O].identifier,H[O]))&&(vi(p),B("start",p,H[O]))}}function g(p){var P=p.changedTouches,H=P.length,M,D;for(M=0;M<H;++M)(D=o[P[M].identifier])&&(Gt(p),D("drag",p,P[M]))}function C(p){var P=p.changedTouches,H=P.length,M,D;for(f&&clearTimeout(f),f=setTimeout(function(){f=null},500),M=0;M<H;++M)(D=o[P[M].identifier])&&(vi(p),D("end",p,P[M]))}function k(p,P,H,M,D,O){var B=r.copy(),A=it(O||H,P),X,L,b;if((b=n.call(p,new Si("beforestart",{sourceEvent:H,target:d,identifier:D,active:s,x:A[0],y:A[1],dx:0,dy:0,dispatch:B}),M))!=null)return X=b.x-A[0]||0,L=b.y-A[1]||0,function v(S,N,T){var I=A,W;switch(S){case"start":o[D]=v,W=s++;break;case"end":delete o[D],--s;case"drag":A=it(T||N,P),W=s;break}B.call(S,p,new Si(S,{sourceEvent:N,subject:b,target:d,identifier:D,active:W,x:A[0]+X,y:A[1]+L,dx:A[0]-I[0],dy:A[1]-I[1],dispatch:B}),M)}}return d.filter=function(p){return arguments.length?(e=typeof p=="function"?p:Ln(!!p),d):e},d.container=function(p){return arguments.length?(t=typeof p=="function"?p:Ln(p),d):t},d.subject=function(p){return arguments.length?(n=typeof p=="function"?p:Ln(p),d):n},d.touchable=function(p){return arguments.length?(i=typeof p=="function"?p:Ln(!!p),d):i},d.on=function(){var p=r.on.apply(r,arguments);return p===r?d:p},d.clickDistance=function(p){return arguments.length?(c=(p=+p)*p,d):Math.sqrt(c)},d}function Ci(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function To(e,t){var n=Object.create(e.prototype);for(var i in t)n[i]=t[i];return n}function gn(){}var mn=.7,Wn=1/mn,Ut="\\s*([+-]?\\d+)\\s*",yn="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",st="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",nu=/^#([0-9a-f]{3,8})$/,iu=new RegExp(`^rgb\\(${Ut},${Ut},${Ut}\\)$`),ou=new RegExp(`^rgb\\(${st},${st},${st}\\)$`),ru=new RegExp(`^rgba\\(${Ut},${Ut},${Ut},${yn}\\)$`),lu=new RegExp(`^rgba\\(${st},${st},${st},${yn}\\)$`),su=new RegExp(`^hsl\\(${yn},${st},${st}\\)$`),au=new RegExp(`^hsla\\(${yn},${st},${st},${yn}\\)$`),Ao={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Ci(gn,_n,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:Ho,formatHex:Ho,formatHex8:uu,formatHsl:fu,formatRgb:Io,toString:Io});function Ho(){return this.rgb().formatHex()}function uu(){return this.rgb().formatHex8()}function fu(){return Lo(this).formatHsl()}function Io(){return this.rgb().formatRgb()}function _n(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=nu.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?Vo(t):n===3?new Je(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?Bn(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?Bn(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=iu.exec(e))?new Je(t[1],t[2],t[3],1):(t=ou.exec(e))?new Je(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=ru.exec(e))?Bn(t[1],t[2],t[3],t[4]):(t=lu.exec(e))?Bn(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=su.exec(e))?Yo(t[1],t[2]/100,t[3]/100,1):(t=au.exec(e))?Yo(t[1],t[2]/100,t[3]/100,t[4]):Ao.hasOwnProperty(e)?Vo(Ao[e]):e==="transparent"?new Je(NaN,NaN,NaN,0):null}function Vo(e){return new Je(e>>16&255,e>>8&255,e&255,1)}function Bn(e,t,n,i){return i<=0&&(e=t=n=NaN),new Je(e,t,n,i)}function cu(e){return e instanceof gn||(e=_n(e)),e?(e=e.rgb(),new Je(e.r,e.g,e.b,e.opacity)):new Je}function Ei(e,t,n,i){return arguments.length===1?cu(e):new Je(e,t,n,i??1)}function Je(e,t,n,i){this.r=+e,this.g=+t,this.b=+n,this.opacity=+i}Ci(Je,Ei,To(gn,{brighter(e){return e=e==null?Wn:Math.pow(Wn,e),new Je(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?mn:Math.pow(mn,e),new Je(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Je(Pt(this.r),Pt(this.g),Pt(this.b),Kn(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Ro,formatHex:Ro,formatHex8:du,formatRgb:Xo,toString:Xo}));function Ro(){return`#${Nt(this.r)}${Nt(this.g)}${Nt(this.b)}`}function du(){return`#${Nt(this.r)}${Nt(this.g)}${Nt(this.b)}${Nt((isNaN(this.opacity)?1:this.opacity)*255)}`}function Xo(){const e=Kn(this.opacity);return`${e===1?"rgb(":"rgba("}${Pt(this.r)}, ${Pt(this.g)}, ${Pt(this.b)}${e===1?")":`, ${e})`}`}function Kn(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Pt(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Nt(e){return e=Pt(e),(e<16?"0":"")+e.toString(16)}function Yo(e,t,n,i){return i<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new ot(e,t,n,i)}function Lo(e){if(e instanceof ot)return new ot(e.h,e.s,e.l,e.opacity);if(e instanceof gn||(e=_n(e)),!e)return new ot;if(e instanceof ot)return e;e=e.rgb();var t=e.r/255,n=e.g/255,i=e.b/255,o=Math.min(t,n,i),r=Math.max(t,n,i),s=NaN,l=r-o,a=(r+o)/2;return l?(t===r?s=(n-i)/l+(n<i)*6:n===r?s=(i-t)/l+2:s=(t-n)/l+4,l/=a<.5?r+o:2-r-o,s*=60):l=a>0&&a<1?0:s,new ot(s,l,a,e.opacity)}function hu(e,t,n,i){return arguments.length===1?Lo(e):new ot(e,t,n,i??1)}function ot(e,t,n,i){this.h=+e,this.s=+t,this.l=+n,this.opacity=+i}Ci(ot,hu,To(gn,{brighter(e){return e=e==null?Wn:Math.pow(Wn,e),new ot(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?mn:Math.pow(mn,e),new ot(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,i=n+(n<.5?n:1-n)*t,o=2*n-i;return new Je(Mi(e>=240?e-240:e+120,o,i),Mi(e,o,i),Mi(e<120?e+240:e-120,o,i),this.opacity)},clamp(){return new ot(Wo(this.h),Fn(this.s),Fn(this.l),Kn(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Kn(this.opacity);return`${e===1?"hsl(":"hsla("}${Wo(this.h)}, ${Fn(this.s)*100}%, ${Fn(this.l)*100}%${e===1?")":`, ${e})`}`}}));function Wo(e){return e=(e||0)%360,e<0?e+360:e}function Fn(e){return Math.max(0,Math.min(1,e||0))}function Mi(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const Bo=e=>()=>e;function gu(e,t){return function(n){return e+n*t}}function mu(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(i){return Math.pow(e+i*t,n)}}function yu(e){return(e=+e)==1?Ko:function(t,n){return n-t?mu(t,n,e):Bo(isNaN(t)?n:t)}}function Ko(e,t){var n=t-e;return n?gu(e,n):Bo(isNaN(e)?t:e)}const Fo=function e(t){var n=yu(t);function i(o,r){var s=n((o=Ei(o)).r,(r=Ei(r)).r),l=n(o.g,r.g),a=n(o.b,r.b),u=Ko(o.opacity,r.opacity);return function(f){return o.r=s(f),o.g=l(f),o.b=a(f),o.opacity=u(f),o+""}}return i.gamma=e,i}(1);function wt(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}var zi=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Pi=new RegExp(zi.source,"g");function _u(e){return function(){return e}}function bu(e){return function(t){return e(t)+""}}function wu(e,t){var n=zi.lastIndex=Pi.lastIndex=0,i,o,r,s=-1,l=[],a=[];for(e=e+"",t=t+"";(i=zi.exec(e))&&(o=Pi.exec(t));)(r=o.index)>n&&(r=t.slice(n,r),l[s]?l[s]+=r:l[++s]=r),(i=i[0])===(o=o[0])?l[s]?l[s]+=o:l[++s]=o:(l[++s]=null,a.push({i:s,x:wt(i,o)})),n=Pi.lastIndex;return n<t.length&&(r=t.slice(n),l[s]?l[s]+=r:l[++s]=r),l.length<2?a[0]?bu(a[0].x):_u(t):(t=a.length,function(u){for(var f=0,c;f<t;++f)l[(c=a[f]).i]=c.x(u);return l.join("")})}var qo=180/Math.PI,Ni={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function Zo(e,t,n,i,o,r){var s,l,a;return(s=Math.sqrt(e*e+t*t))&&(e/=s,t/=s),(a=e*n+t*i)&&(n-=e*a,i-=t*a),(l=Math.sqrt(n*n+i*i))&&(n/=l,i/=l,a/=l),e*i<t*n&&(e=-e,t=-t,a=-a,s=-s),{translateX:o,translateY:r,rotate:Math.atan2(t,e)*qo,skewX:Math.atan(a)*qo,scaleX:s,scaleY:l}}var qn;function ku(e){const t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?Ni:Zo(t.a,t.b,t.c,t.d,t.e,t.f)}function pu(e){return e==null||(qn||(qn=document.createElementNS("http://www.w3.org/2000/svg","g")),qn.setAttribute("transform",e),!(e=qn.transform.baseVal.consolidate()))?Ni:(e=e.matrix,Zo(e.a,e.b,e.c,e.d,e.e,e.f))}function Go(e,t,n,i){function o(u){return u.length?u.pop()+" ":""}function r(u,f,c,d,h,m){if(u!==c||f!==d){var y=h.push("translate(",null,t,null,n);m.push({i:y-4,x:wt(u,c)},{i:y-2,x:wt(f,d)})}else(c||d)&&h.push("translate("+c+t+d+n)}function s(u,f,c,d){u!==f?(u-f>180?f+=360:f-u>180&&(u+=360),d.push({i:c.push(o(c)+"rotate(",null,i)-2,x:wt(u,f)})):f&&c.push(o(c)+"rotate("+f+i)}function l(u,f,c,d){u!==f?d.push({i:c.push(o(c)+"skewX(",null,i)-2,x:wt(u,f)}):f&&c.push(o(c)+"skewX("+f+i)}function a(u,f,c,d,h,m){if(u!==c||f!==d){var y=h.push(o(h)+"scale(",null,",",null,")");m.push({i:y-4,x:wt(u,c)},{i:y-2,x:wt(f,d)})}else(c!==1||d!==1)&&h.push(o(h)+"scale("+c+","+d+")")}return function(u,f){var c=[],d=[];return u=e(u),f=e(f),r(u.translateX,u.translateY,f.translateX,f.translateY,c,d),s(u.rotate,f.rotate,c,d),l(u.skewX,f.skewX,c,d),a(u.scaleX,u.scaleY,f.scaleX,f.scaleY,c,d),u=f=null,function(h){for(var m=-1,y=d.length,_;++m<y;)c[(_=d[m]).i]=_.x(h);return c.join("")}}}var vu=Go(ku,"px, ","px)","deg)"),Su=Go(pu,", ",")",")"),Cu=1e-12;function Uo(e){return((e=Math.exp(e))+1/e)/2}function Eu(e){return((e=Math.exp(e))-1/e)/2}function Mu(e){return((e=Math.exp(2*e))-1)/(e+1)}const zu=function e(t,n,i){function o(r,s){var l=r[0],a=r[1],u=r[2],f=s[0],c=s[1],d=s[2],h=f-l,m=c-a,y=h*h+m*m,_,g;if(y<Cu)g=Math.log(d/u)/t,_=function(M){return[l+M*h,a+M*m,u*Math.exp(t*M*g)]};else{var C=Math.sqrt(y),k=(d*d-u*u+i*y)/(2*u*n*C),p=(d*d-u*u-i*y)/(2*d*n*C),P=Math.log(Math.sqrt(k*k+1)-k),H=Math.log(Math.sqrt(p*p+1)-p);g=(H-P)/t,_=function(M){var D=M*g,O=Uo(P),B=u/(n*C)*(O*Mu(t*D+P)-Eu(P));return[l+B*h,a+B*m,u*O/Uo(t*D+P)]}}return _.duration=g*1e3*t/Math.SQRT2,_}return o.rho=function(r){var s=Math.max(.001,+r),l=s*s,a=l*l;return e(s,l,a)},o}(Math.SQRT2,2,4);var Jt=0,bn=0,wn=0,Jo=1e3,Zn,kn,Gn=0,Ot=0,Un=0,pn=typeof performance=="object"&&performance.now?performance:Date,Qo=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function Oi(){return Ot||(Qo(Pu),Ot=pn.now()+Un)}function Pu(){Ot=0}function Jn(){this._call=this._time=this._next=null}Jn.prototype=jo.prototype={constructor:Jn,restart:function(e,t,n){if(typeof e!="function")throw new TypeError("callback is not a function");n=(n==null?Oi():+n)+(t==null?0:+t),!this._next&&kn!==this&&(kn?kn._next=this:Zn=this,kn=this),this._call=e,this._time=n,Di()},stop:function(){this._call&&(this._call=null,this._time=1/0,Di())}};function jo(e,t,n){var i=new Jn;return i.restart(e,t,n),i}function Nu(){Oi(),++Jt;for(var e=Zn,t;e;)(t=Ot-e._time)>=0&&e._call.call(void 0,t),e=e._next;--Jt}function xo(){Ot=(Gn=pn.now())+Un,Jt=bn=0;try{Nu()}finally{Jt=0,Du(),Ot=0}}function Ou(){var e=pn.now(),t=e-Gn;t>Jo&&(Un-=t,Gn=e)}function Du(){for(var e,t=Zn,n,i=1/0;t;)t._call?(i>t._time&&(i=t._time),e=t,t=t._next):(n=t._next,t._next=null,t=e?e._next=n:Zn=n);kn=e,Di(i)}function Di(e){if(!Jt){bn&&(bn=clearTimeout(bn));var t=e-Ot;t>24?(e<1/0&&(bn=setTimeout(xo,e-pn.now()-Un)),wn&&(wn=clearInterval(wn))):(wn||(Gn=pn.now(),wn=setInterval(Ou,Jo)),Jt=1,Qo(xo))}}function $o(e,t,n){var i=new Jn;return t=t==null?0:+t,i.restart(o=>{i.stop(),e(o+t)},t,n),i}var Tu=Vn("start","end","cancel","interrupt"),Au=[],er=0,tr=1,Ti=2,Qn=3,nr=4,Ai=5,jn=6;function xn(e,t,n,i,o,r){var s=e.__transition;if(!s)e.__transition={};else if(n in s)return;Hu(e,n,{name:t,index:i,group:o,on:Tu,tween:Au,time:r.time,delay:r.delay,duration:r.duration,ease:r.ease,timer:null,state:er})}function Hi(e,t){var n=rt(e,t);if(n.state>er)throw new Error("too late; already scheduled");return n}function at(e,t){var n=rt(e,t);if(n.state>Qn)throw new Error("too late; already running");return n}function rt(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}function Hu(e,t,n){var i=e.__transition,o;i[t]=n,n.timer=jo(r,0,n.time);function r(u){n.state=tr,n.timer.restart(s,n.delay,n.time),n.delay<=u&&s(u-n.delay)}function s(u){var f,c,d,h;if(n.state!==tr)return a();for(f in i)if(h=i[f],h.name===n.name){if(h.state===Qn)return $o(s);h.state===nr?(h.state=jn,h.timer.stop(),h.on.call("interrupt",e,e.__data__,h.index,h.group),delete i[f]):+f<t&&(h.state=jn,h.timer.stop(),h.on.call("cancel",e,e.__data__,h.index,h.group),delete i[f])}if($o(function(){n.state===Qn&&(n.state=nr,n.timer.restart(l,n.delay,n.time),l(u))}),n.state=Ti,n.on.call("start",e,e.__data__,n.index,n.group),n.state===Ti){for(n.state=Qn,o=new Array(d=n.tween.length),f=0,c=-1;f<d;++f)(h=n.tween[f].value.call(e,e.__data__,n.index,n.group))&&(o[++c]=h);o.length=c+1}}function l(u){for(var f=u<n.duration?n.ease.call(null,u/n.duration):(n.timer.restart(a),n.state=Ai,1),c=-1,d=o.length;++c<d;)o[c].call(e,f);n.state===Ai&&(n.on.call("end",e,e.__data__,n.index,n.group),a())}function a(){n.state=jn,n.timer.stop(),delete i[t];for(var u in i)return;delete e.__transition}}function $n(e,t){var n=e.__transition,i,o,r=!0,s;if(n){t=t==null?null:t+"";for(s in n){if((i=n[s]).name!==t){r=!1;continue}o=i.state>Ti&&i.state<Ai,i.state=jn,i.timer.stop(),i.on.call(o?"interrupt":"cancel",e,e.__data__,i.index,i.group),delete n[s]}r&&delete e.__transition}}function Iu(e){return this.each(function(){$n(this,e)})}function Vu(e,t){var n,i;return function(){var o=at(this,e),r=o.tween;if(r!==n){i=n=r;for(var s=0,l=i.length;s<l;++s)if(i[s].name===t){i=i.slice(),i.splice(s,1);break}}o.tween=i}}function Ru(e,t,n){var i,o;if(typeof n!="function")throw new Error;return function(){var r=at(this,e),s=r.tween;if(s!==i){o=(i=s).slice();for(var l={name:t,value:n},a=0,u=o.length;a<u;++a)if(o[a].name===t){o[a]=l;break}a===u&&o.push(l)}r.tween=o}}function Xu(e,t){var n=this._id;if(e+="",arguments.length<2){for(var i=rt(this.node(),n).tween,o=0,r=i.length,s;o<r;++o)if((s=i[o]).name===e)return s.value;return null}return this.each((t==null?Vu:Ru)(n,e,t))}function Ii(e,t,n){var i=e._id;return e.each(function(){var o=at(this,i);(o.value||(o.value={}))[t]=n.apply(this,arguments)}),function(o){return rt(o,i).value[t]}}function ir(e,t){var n;return(typeof t=="number"?wt:t instanceof _n?Fo:(n=_n(t))?(t=n,Fo):wu)(e,t)}function Yu(e){return function(){this.removeAttribute(e)}}function Lu(e){return function(){this.removeAttributeNS(e.space,e.local)}}function Wu(e,t,n){var i,o=n+"",r;return function(){var s=this.getAttribute(e);return s===o?null:s===i?r:r=t(i=s,n)}}function Bu(e,t,n){var i,o=n+"",r;return function(){var s=this.getAttributeNS(e.space,e.local);return s===o?null:s===i?r:r=t(i=s,n)}}function Ku(e,t,n){var i,o,r;return function(){var s,l=n(this),a;return l==null?void this.removeAttribute(e):(s=this.getAttribute(e),a=l+"",s===a?null:s===i&&a===o?r:(o=a,r=t(i=s,l)))}}function Fu(e,t,n){var i,o,r;return function(){var s,l=n(this),a;return l==null?void this.removeAttributeNS(e.space,e.local):(s=this.getAttributeNS(e.space,e.local),a=l+"",s===a?null:s===i&&a===o?r:(o=a,r=t(i=s,l)))}}function qu(e,t){var n=Xn(e),i=n==="transform"?Su:ir;return this.attrTween(e,typeof t=="function"?(n.local?Fu:Ku)(n,i,Ii(this,"attr."+e,t)):t==null?(n.local?Lu:Yu)(n):(n.local?Bu:Wu)(n,i,t))}function Zu(e,t){return function(n){this.setAttribute(e,t.call(this,n))}}function Gu(e,t){return function(n){this.setAttributeNS(e.space,e.local,t.call(this,n))}}function Uu(e,t){var n,i;function o(){var r=t.apply(this,arguments);return r!==i&&(n=(i=r)&&Gu(e,r)),n}return o._value=t,o}function Ju(e,t){var n,i;function o(){var r=t.apply(this,arguments);return r!==i&&(n=(i=r)&&Zu(e,r)),n}return o._value=t,o}function Qu(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;var i=Xn(e);return this.tween(n,(i.local?Uu:Ju)(i,t))}function ju(e,t){return function(){Hi(this,e).delay=+t.apply(this,arguments)}}function xu(e,t){return t=+t,function(){Hi(this,e).delay=t}}function $u(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?ju:xu)(t,e)):rt(this.node(),t).delay}function ef(e,t){return function(){at(this,e).duration=+t.apply(this,arguments)}}function tf(e,t){return t=+t,function(){at(this,e).duration=t}}function nf(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?ef:tf)(t,e)):rt(this.node(),t).duration}function of(e,t){if(typeof t!="function")throw new Error;return function(){at(this,e).ease=t}}function rf(e){var t=this._id;return arguments.length?this.each(of(t,e)):rt(this.node(),t).ease}function lf(e,t){return function(){var n=t.apply(this,arguments);if(typeof n!="function")throw new Error;at(this,e).ease=n}}function sf(e){if(typeof e!="function")throw new Error;return this.each(lf(this._id,e))}function af(e){typeof e!="function"&&(e=ko(e));for(var t=this._groups,n=t.length,i=new Array(n),o=0;o<n;++o)for(var r=t[o],s=r.length,l=i[o]=[],a,u=0;u<s;++u)(a=r[u])&&e.call(a,a.__data__,u,r)&&l.push(a);return new ht(i,this._parents,this._name,this._id)}function uf(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,i=t.length,o=n.length,r=Math.min(i,o),s=new Array(i),l=0;l<r;++l)for(var a=t[l],u=n[l],f=a.length,c=s[l]=new Array(f),d,h=0;h<f;++h)(d=a[h]||u[h])&&(c[h]=d);for(;l<i;++l)s[l]=t[l];return new ht(s,this._parents,this._name,this._id)}function ff(e){return(e+"").trim().split(/^|\s+/).every(function(t){var n=t.indexOf(".");return n>=0&&(t=t.slice(0,n)),!t||t==="start"})}function cf(e,t,n){var i,o,r=ff(t)?Hi:at;return function(){var s=r(this,e),l=s.on;l!==i&&(o=(i=l).copy()).on(t,n),s.on=o}}function df(e,t){var n=this._id;return arguments.length<2?rt(this.node(),n).on.on(e):this.each(cf(n,e,t))}function hf(e){return function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}}function gf(){return this.on("end.remove",hf(this._id))}function mf(e){var t=this._name,n=this._id;typeof e!="function"&&(e=ki(e));for(var i=this._groups,o=i.length,r=new Array(o),s=0;s<o;++s)for(var l=i[s],a=l.length,u=r[s]=new Array(a),f,c,d=0;d<a;++d)(f=l[d])&&(c=e.call(f,f.__data__,d,l))&&("__data__"in f&&(c.__data__=f.__data__),u[d]=c,xn(u[d],t,n,d,u,rt(f,n)));return new ht(r,this._parents,t,n)}function yf(e){var t=this._name,n=this._id;typeof e!="function"&&(e=wo(e));for(var i=this._groups,o=i.length,r=[],s=[],l=0;l<o;++l)for(var a=i[l],u=a.length,f,c=0;c<u;++c)if(f=a[c]){for(var d=e.call(f,f.__data__,c,a),h,m=rt(f,n),y=0,_=d.length;y<_;++y)(h=d[y])&&xn(h,t,n,y,d,m);r.push(d),s.push(f)}return new ht(r,s,t,n)}var _f=dn.prototype.constructor;function bf(){return new _f(this._groups,this._parents)}function wf(e,t){var n,i,o;return function(){var r=Zt(this,e),s=(this.style.removeProperty(e),Zt(this,e));return r===s?null:r===n&&s===i?o:o=t(n=r,i=s)}}function or(e){return function(){this.style.removeProperty(e)}}function kf(e,t,n){var i,o=n+"",r;return function(){var s=Zt(this,e);return s===o?null:s===i?r:r=t(i=s,n)}}function pf(e,t,n){var i,o,r;return function(){var s=Zt(this,e),l=n(this),a=l+"";return l==null&&(a=l=(this.style.removeProperty(e),Zt(this,e))),s===a?null:s===i&&a===o?r:(o=a,r=t(i=s,l))}}function vf(e,t){var n,i,o,r="style."+t,s="end."+r,l;return function(){var a=at(this,e),u=a.on,f=a.value[r]==null?l||(l=or(t)):void 0;(u!==n||o!==f)&&(i=(n=u).copy()).on(s,o=f),a.on=i}}function Sf(e,t,n){var i=(e+="")=="transform"?vu:ir;return t==null?this.styleTween(e,wf(e,i)).on("end.style."+e,or(e)):typeof t=="function"?this.styleTween(e,pf(e,i,Ii(this,"style."+e,t))).each(vf(this._id,e)):this.styleTween(e,kf(e,i,t),n).on("end.style."+e,null)}function Cf(e,t,n){return function(i){this.style.setProperty(e,t.call(this,i),n)}}function Ef(e,t,n){var i,o;function r(){var s=t.apply(this,arguments);return s!==o&&(i=(o=s)&&Cf(e,s,n)),i}return r._value=t,r}function Mf(e,t,n){var i="style."+(e+="");if(arguments.length<2)return(i=this.tween(i))&&i._value;if(t==null)return this.tween(i,null);if(typeof t!="function")throw new Error;return this.tween(i,Ef(e,t,n??""))}function zf(e){return function(){this.textContent=e}}function Pf(e){return function(){var t=e(this);this.textContent=t??""}}function Nf(e){return this.tween("text",typeof e=="function"?Pf(Ii(this,"text",e)):zf(e==null?"":e+""))}function Of(e){return function(t){this.textContent=e.call(this,t)}}function Df(e){var t,n;function i(){var o=e.apply(this,arguments);return o!==n&&(t=(n=o)&&Of(o)),t}return i._value=e,i}function Tf(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;return this.tween(t,Df(e))}function Af(){for(var e=this._name,t=this._id,n=rr(),i=this._groups,o=i.length,r=0;r<o;++r)for(var s=i[r],l=s.length,a,u=0;u<l;++u)if(a=s[u]){var f=rt(a,t);xn(a,e,n,u,s,{time:f.time+f.delay+f.duration,delay:0,duration:f.duration,ease:f.ease})}return new ht(i,this._parents,e,n)}function Hf(){var e,t,n=this,i=n._id,o=n.size();return new Promise(function(r,s){var l={value:s},a={value:function(){--o===0&&r()}};n.each(function(){var u=at(this,i),f=u.on;f!==e&&(t=(e=f).copy(),t._.cancel.push(l),t._.interrupt.push(l),t._.end.push(a)),u.on=t}),o===0&&r()})}var If=0;function ht(e,t,n,i){this._groups=e,this._parents=t,this._name=n,this._id=i}function rr(){return++If}var gt=dn.prototype;ht.prototype={constructor:ht,select:mf,selectAll:yf,selectChild:gt.selectChild,selectChildren:gt.selectChildren,filter:af,merge:uf,selection:bf,transition:Af,call:gt.call,nodes:gt.nodes,node:gt.node,size:gt.size,empty:gt.empty,each:gt.each,on:df,attr:qu,attrTween:Qu,style:Sf,styleTween:Mf,text:Nf,textTween:Tf,remove:gf,tween:Xu,delay:$u,duration:nf,ease:rf,easeVarying:sf,end:Hf,[Symbol.iterator]:gt[Symbol.iterator]};function Vf(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var Rf={time:null,delay:0,duration:250,ease:Vf};function Xf(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return n}function Yf(e){var t,n;e instanceof ht?(t=e._id,e=e._name):(t=rr(),(n=Rf).time=Oi(),e=e==null?null:e+"");for(var i=this._groups,o=i.length,r=0;r<o;++r)for(var s=i[r],l=s.length,a,u=0;u<l;++u)(a=s[u])&&xn(a,e,t,u,s,n||Xf(a,t));return new ht(i,this._parents,e,t)}dn.prototype.interrupt=Iu,dn.prototype.transition=Yf;const ei=e=>()=>e;function Lf(e,{sourceEvent:t,target:n,transform:i,dispatch:o}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:i,enumerable:!0,configurable:!0},_:{value:o}})}function mt(e,t,n){this.k=e,this.x=t,this.y=n}mt.prototype={constructor:mt,scale:function(e){return e===1?this:new mt(this.k*e,this.x,this.y)},translate:function(e,t){return e===0&t===0?this:new mt(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var ti=new mt(1,0,0);lr.prototype=mt.prototype;function lr(e){for(;!e.__zoom;)if(!(e=e.parentNode))return ti;return e.__zoom}function Vi(e){e.stopImmediatePropagation()}function vn(e){e.preventDefault(),e.stopImmediatePropagation()}function Wf(e){return(!e.ctrlKey||e.type==="wheel")&&!e.button}function Bf(){var e=this;return e instanceof SVGElement?(e=e.ownerSVGElement||e,e.hasAttribute("viewBox")?(e=e.viewBox.baseVal,[[e.x,e.y],[e.x+e.width,e.y+e.height]]):[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]):[[0,0],[e.clientWidth,e.clientHeight]]}function sr(){return this.__zoom||ti}function Kf(e){return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*(e.ctrlKey?10:1)}function Ff(){return navigator.maxTouchPoints||"ontouchstart"in this}function qf(e,t,n){var i=e.invertX(t[0][0])-n[0][0],o=e.invertX(t[1][0])-n[1][0],r=e.invertY(t[0][1])-n[0][1],s=e.invertY(t[1][1])-n[1][1];return e.translate(o>i?(i+o)/2:Math.min(0,i)||Math.max(0,o),s>r?(r+s)/2:Math.min(0,r)||Math.max(0,s))}function ar(){var e=Wf,t=Bf,n=qf,i=Kf,o=Ff,r=[0,1/0],s=[[-1/0,-1/0],[1/0,1/0]],l=250,a=zu,u=Vn("start","zoom","end"),f,c,d,h=500,m=150,y=0,_=10;function g(b){b.property("__zoom",sr).on("wheel.zoom",D,{passive:!1}).on("mousedown.zoom",O).on("dblclick.zoom",B).filter(o).on("touchstart.zoom",A).on("touchmove.zoom",X).on("touchend.zoom touchcancel.zoom",L).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}g.transform=function(b,v,S,N){var T=b.selection?b.selection():b;T.property("__zoom",sr),b!==T?P(b,v,S,N):T.interrupt().each(function(){H(this,arguments).event(N).start().zoom(null,typeof v=="function"?v.apply(this,arguments):v).end()})},g.scaleBy=function(b,v,S,N){g.scaleTo(b,function(){var T=this.__zoom.k,I=typeof v=="function"?v.apply(this,arguments):v;return T*I},S,N)},g.scaleTo=function(b,v,S,N){g.transform(b,function(){var T=t.apply(this,arguments),I=this.__zoom,W=S==null?p(T):typeof S=="function"?S.apply(this,arguments):S,G=I.invert(W),Q=typeof v=="function"?v.apply(this,arguments):v;return n(k(C(I,Q),W,G),T,s)},S,N)},g.translateBy=function(b,v,S,N){g.transform(b,function(){return n(this.__zoom.translate(typeof v=="function"?v.apply(this,arguments):v,typeof S=="function"?S.apply(this,arguments):S),t.apply(this,arguments),s)},null,N)},g.translateTo=function(b,v,S,N,T){g.transform(b,function(){var I=t.apply(this,arguments),W=this.__zoom,G=N==null?p(I):typeof N=="function"?N.apply(this,arguments):N;return n(ti.translate(G[0],G[1]).scale(W.k).translate(typeof v=="function"?-v.apply(this,arguments):-v,typeof S=="function"?-S.apply(this,arguments):-S),I,s)},N,T)};function C(b,v){return v=Math.max(r[0],Math.min(r[1],v)),v===b.k?b:new mt(v,b.x,b.y)}function k(b,v,S){var N=v[0]-S[0]*b.k,T=v[1]-S[1]*b.k;return N===b.x&&T===b.y?b:new mt(b.k,N,T)}function p(b){return[(+b[0][0]+ +b[1][0])/2,(+b[0][1]+ +b[1][1])/2]}function P(b,v,S,N){b.on("start.zoom",function(){H(this,arguments).event(N).start()}).on("interrupt.zoom end.zoom",function(){H(this,arguments).event(N).end()}).tween("zoom",function(){var T=this,I=arguments,W=H(T,I).event(N),G=t.apply(T,I),Q=S==null?p(G):typeof S=="function"?S.apply(T,I):S,U=Math.max(G[1][0]-G[0][0],G[1][1]-G[0][1]),R=T.__zoom,te=typeof v=="function"?v.apply(T,I):v,de=a(R.invert(Q).concat(U/R.k),te.invert(Q).concat(U/te.k));return function(j){if(j===1)j=te;else{var ke=de(j),x=U/ke[2];j=new mt(x,Q[0]-ke[0]*x,Q[1]-ke[1]*x)}W.zoom(null,j)}})}function H(b,v,S){return!S&&b.__zooming||new M(b,v)}function M(b,v){this.that=b,this.args=v,this.active=0,this.sourceEvent=null,this.extent=t.apply(b,v),this.taps=0}M.prototype={event:function(b){return b&&(this.sourceEvent=b),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(b,v){return this.mouse&&b!=="mouse"&&(this.mouse[1]=v.invert(this.mouse[0])),this.touch0&&b!=="touch"&&(this.touch0[1]=v.invert(this.touch0[0])),this.touch1&&b!=="touch"&&(this.touch1[1]=v.invert(this.touch1[0])),this.that.__zoom=v,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(b){var v=$e(this.that).datum();u.call(b,this.that,new Lf(b,{sourceEvent:this.sourceEvent,target:g,transform:this.that.__zoom,dispatch:u}),v)}};function D(b,...v){if(!e.apply(this,arguments))return;var S=H(this,v).event(b),N=this.__zoom,T=Math.max(r[0],Math.min(r[1],N.k*Math.pow(2,i.apply(this,arguments)))),I=it(b);if(S.wheel)(S.mouse[0][0]!==I[0]||S.mouse[0][1]!==I[1])&&(S.mouse[1]=N.invert(S.mouse[0]=I)),clearTimeout(S.wheel);else{if(N.k===T)return;S.mouse=[I,N.invert(I)],$n(this),S.start()}vn(b),S.wheel=setTimeout(W,m),S.zoom("mouse",n(k(C(N,T),S.mouse[0],S.mouse[1]),S.extent,s));function W(){S.wheel=null,S.end()}}function O(b,...v){if(d||!e.apply(this,arguments))return;var S=b.currentTarget,N=H(this,v,!0).event(b),T=$e(b.view).on("mousemove.zoom",Q,!0).on("mouseup.zoom",U,!0),I=it(b,S),W=b.clientX,G=b.clientY;Oo(b.view),Vi(b),N.mouse=[I,this.__zoom.invert(I)],$n(this),N.start();function Q(R){if(vn(R),!N.moved){var te=R.clientX-W,de=R.clientY-G;N.moved=te*te+de*de>y}N.event(R).zoom("mouse",n(k(N.that.__zoom,N.mouse[0]=it(R,S),N.mouse[1]),N.extent,s))}function U(R){T.on("mousemove.zoom mouseup.zoom",null),Do(R.view,N.moved),vn(R),N.event(R).end()}}function B(b,...v){if(e.apply(this,arguments)){var S=this.__zoom,N=it(b.changedTouches?b.changedTouches[0]:b,this),T=S.invert(N),I=S.k*(b.shiftKey?.5:2),W=n(k(C(S,I),N,T),t.apply(this,v),s);vn(b),l>0?$e(this).transition().duration(l).call(P,W,N,b):$e(this).call(g.transform,W,N,b)}}function A(b,...v){if(e.apply(this,arguments)){var S=b.touches,N=S.length,T=H(this,v,b.changedTouches.length===N).event(b),I,W,G,Q;for(Vi(b),W=0;W<N;++W)G=S[W],Q=it(G,this),Q=[Q,this.__zoom.invert(Q),G.identifier],T.touch0?!T.touch1&&T.touch0[2]!==Q[2]&&(T.touch1=Q,T.taps=0):(T.touch0=Q,I=!0,T.taps=1+!!f);f&&(f=clearTimeout(f)),I&&(T.taps<2&&(c=Q[0],f=setTimeout(function(){f=null},h)),$n(this),T.start())}}function X(b,...v){if(this.__zooming){var S=H(this,v).event(b),N=b.changedTouches,T=N.length,I,W,G,Q;for(vn(b),I=0;I<T;++I)W=N[I],G=it(W,this),S.touch0&&S.touch0[2]===W.identifier?S.touch0[0]=G:S.touch1&&S.touch1[2]===W.identifier&&(S.touch1[0]=G);if(W=S.that.__zoom,S.touch1){var U=S.touch0[0],R=S.touch0[1],te=S.touch1[0],de=S.touch1[1],j=(j=te[0]-U[0])*j+(j=te[1]-U[1])*j,ke=(ke=de[0]-R[0])*ke+(ke=de[1]-R[1])*ke;W=C(W,Math.sqrt(j/ke)),G=[(U[0]+te[0])/2,(U[1]+te[1])/2],Q=[(R[0]+de[0])/2,(R[1]+de[1])/2]}else if(S.touch0)G=S.touch0[0],Q=S.touch0[1];else return;S.zoom("touch",n(k(W,G,Q),S.extent,s))}}function L(b,...v){if(this.__zooming){var S=H(this,v).event(b),N=b.changedTouches,T=N.length,I,W;for(Vi(b),d&&clearTimeout(d),d=setTimeout(function(){d=null},h),I=0;I<T;++I)W=N[I],S.touch0&&S.touch0[2]===W.identifier?delete S.touch0:S.touch1&&S.touch1[2]===W.identifier&&delete S.touch1;if(S.touch1&&!S.touch0&&(S.touch0=S.touch1,delete S.touch1),S.touch0)S.touch0[1]=this.__zoom.invert(S.touch0[0]);else if(S.end(),S.taps===2&&(W=it(W,this),Math.hypot(c[0]-W[0],c[1]-W[1])<_)){var G=$e(this).on("dblclick.zoom");G&&G.apply(this,arguments)}}}return g.wheelDelta=function(b){return arguments.length?(i=typeof b=="function"?b:ei(+b),g):i},g.filter=function(b){return arguments.length?(e=typeof b=="function"?b:ei(!!b),g):e},g.touchable=function(b){return arguments.length?(o=typeof b=="function"?b:ei(!!b),g):o},g.extent=function(b){return arguments.length?(t=typeof b=="function"?b:ei([[+b[0][0],+b[0][1]],[+b[1][0],+b[1][1]]]),g):t},g.scaleExtent=function(b){return arguments.length?(r[0]=+b[0],r[1]=+b[1],g):[r[0],r[1]]},g.translateExtent=function(b){return arguments.length?(s[0][0]=+b[0][0],s[1][0]=+b[1][0],s[0][1]=+b[0][1],s[1][1]=+b[1][1],g):[[s[0][0],s[0][1]],[s[1][0],s[1][1]]]},g.constrain=function(b){return arguments.length?(n=b,g):n},g.duration=function(b){return arguments.length?(l=+b,g):l},g.interpolate=function(b){return arguments.length?(a=b,g):a},g.on=function(){var b=u.on.apply(u,arguments);return b===u?g:b},g.clickDistance=function(b){return arguments.length?(y=(b=+b)*b,g):Math.sqrt(y)},g.tapDistance=function(b){return arguments.length?(_=+b,g):_},g}const Dt={error001:()=>"[React Flow]: Seems like you have not used zustand provider as an ancestor. Help: https://reactflow.dev/error#001",error002:()=>"It looks like you've created a new nodeTypes or edgeTypes object. If this wasn't on purpose please define the nodeTypes/edgeTypes outside of the component or memoize them.",error003:e=>`Node type "${e}" not found. Using fallback type "default".`,error004:()=>"The React Flow parent container needs a width and a height to render the graph.",error005:()=>"Only child nodes can use a parent extent.",error006:()=>"Can't create edge. An edge needs a source and a target.",error007:e=>`The old edge with id=${e} does not exist.`,error009:e=>`Marker type "${e}" doesn't exist.`,error008:(e,{id:t,sourceHandle:n,targetHandle:i})=>`Couldn't create edge for ${e} handle id: "${e==="source"?n:i}", edge id: ${t}.`,error010:()=>"Handle: No node id found. Make sure to only use a Handle inside a custom Node.",error011:e=>`Edge type "${e}" not found. Using fallback type "default".`,error012:e=>`Node with id "${e}" does not exist, it may have been removed. This can happen when a node is deleted before the "onNodeClick" handler is called.`,error013:(e="react")=>`It seems that you haven't loaded the styles. Please import '@xyflow/${e}/dist/style.css' or base.css to make sure everything is working properly.`,error014:()=>"useNodeConnections: No node ID found. Call useNodeConnections inside a custom Node or provide a node ID.",error015:()=>"It seems that you are trying to drag a node that is not initialized. Please use onNodesChange as explained in the docs."},ni=[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]];var Tt;(function(e){e.Strict="strict",e.Loose="loose"})(Tt||(Tt={}));var ut;(function(e){e.Free="free",e.Vertical="vertical",e.Horizontal="horizontal"})(ut||(ut={}));var ii;(function(e){e.Partial="partial",e.Full="full"})(ii||(ii={}));const Ri={inProgress:!1,isValid:null,from:null,fromHandle:null,fromPosition:null,fromNode:null,to:null,toHandle:null,toPosition:null,toNode:null};var Qt;(function(e){e.Bezier="default",e.Straight="straight",e.Step="step",e.SmoothStep="smoothstep",e.SimpleBezier="simplebezier"})(Qt||(Qt={}));var oi;(function(e){e.Arrow="arrow",e.ArrowClosed="arrowclosed"})(oi||(oi={}));var ce;(function(e){e.Left="left",e.Top="top",e.Right="right",e.Bottom="bottom"})(ce||(ce={}));const ur={[ce.Left]:ce.Right,[ce.Right]:ce.Left,[ce.Top]:ce.Bottom,[ce.Bottom]:ce.Top};function Zf(e,t){if(!e&&!t)return!0;if(!e||!t||e.size!==t.size)return!1;if(!e.size&&!t.size)return!0;for(const n of e.keys())if(!t.has(n))return!1;return!0}function fr(e,t,n){if(!n)return;const i=[];e.forEach((o,r)=>{t!=null&&t.has(r)||i.push(o)}),i.length&&n(i)}function cr(e){return e===null?null:e?"valid":"invalid"}const Gf=e=>"id"in e&&"source"in e&&"target"in e,dr=e=>"id"in e&&"internals"in e&&!("source"in e)&&!("target"in e),Sn=(e,t=[0,0])=>{const{width:n,height:i}=kt(e),o=e.origin??t,r=n*o[0],s=i*o[1];return{x:e.position.x-r,y:e.position.y-s}},Cn=(e,t={})=>{if(e.size===0)return{x:0,y:0,width:0,height:0};let n={x:1/0,y:1/0,x2:-1/0,y2:-1/0};return e.forEach(i=>{if(t.filter===void 0||t.filter(i)){const o=Bi(i);n=Yi(n,o)}}),Wi(n)},hr=(e,t,[n,i,o]=[0,0,1],r=!1,s=!1)=>{const l={...li(t,[n,i,o]),width:t.width/o,height:t.height/o},a=[];for(const u of e.values()){const{measured:f,selectable:c=!0,hidden:d=!1}=u;if(s&&!c||d)continue;const h=f.width??u.width??u.initialWidth??null,m=f.height??u.height??u.initialHeight??null,y=Ki(l,ri(u)),_=(h??0)*(m??0),g=r&&y>0;(!u.internals.handleBounds||g||y>=_||u.dragging)&&a.push(u)}return a},Xi=(e,t)=>{const n=new Set;return e.forEach(i=>{n.add(i.id)}),t.filter(i=>n.has(i.source)||n.has(i.target))};function Uf(e,t){const n=new Map,i=t!=null&&t.nodes?new Set(t.nodes.map(o=>o.id)):null;return e.forEach(o=>{o.measured.width&&o.measured.height&&((t==null?void 0:t.includeHiddenNodes)||!o.hidden)&&(!i||i.has(o.id))&&n.set(o.id,o)}),n}async function Jf({nodes:e,width:t,height:n,panZoom:i,minZoom:o,maxZoom:r},s){if(e.size===0)return Promise.resolve(!0);const l=Uf(e,s),a=Cn(l),u=wr(a,t,n,(s==null?void 0:s.minZoom)??o,(s==null?void 0:s.maxZoom)??r,(s==null?void 0:s.padding)??.1);return await i.setViewport(u,{duration:s==null?void 0:s.duration}),Promise.resolve(!0)}function Qf({nodeId:e,nextPosition:t,nodeLookup:n,nodeOrigin:i=[0,0],nodeExtent:o,onError:r}){const s=n.get(e),l=s.parentId?n.get(s.parentId):void 0,{x:a,y:u}=l?l.internals.positionAbsolute:{x:0,y:0},f=s.origin??i;let c=o;if(s.extent==="parent"&&!s.expandParent)if(!l)r==null||r("005",Dt.error005());else{const h=l.measured.width,m=l.measured.height;h&&m&&(c=[[a,u],[a+h,u+m]])}else l&&$t(s.extent)&&(c=[[s.extent[0][0]+a,s.extent[0][1]+u],[s.extent[1][0]+a,s.extent[1][1]+u]]);const d=$t(c)?At(t,c,s.measured):t;return(s.measured.width===void 0||s.measured.height===void 0)&&(r==null||r("015",Dt.error015())),{position:{x:d.x-a+(s.measured.width??0)*f[0],y:d.y-u+(s.measured.height??0)*f[1]},positionAbsolute:d}}async function jf({nodesToRemove:e=[],edgesToRemove:t=[],nodes:n,edges:i,onBeforeDelete:o}){const r=new Set(e.map(d=>d.id)),s=[];for(const d of n){if(d.deletable===!1)continue;const h=r.has(d.id),m=!h&&d.parentId&&s.find(y=>y.id===d.parentId);(h||m)&&s.push(d)}const l=new Set(t.map(d=>d.id)),a=i.filter(d=>d.deletable!==!1),f=Xi(s,a);for(const d of a)l.has(d.id)&&!f.find(m=>m.id===d.id)&&f.push(d);if(!o)return{edges:f,nodes:s};const c=await o({nodes:s,edges:f});return typeof c=="boolean"?c?{edges:f,nodes:s}:{edges:[],nodes:[]}:c}const jt=(e,t=0,n=1)=>Math.min(Math.max(e,t),n),At=(e={x:0,y:0},t,n)=>({x:jt(e.x,t[0][0],t[1][0]-((n==null?void 0:n.width)??0)),y:jt(e.y,t[0][1],t[1][1]-((n==null?void 0:n.height)??0))});function gr(e,t,n){const{width:i,height:o}=kt(n),{x:r,y:s}=n.internals.positionAbsolute;return At(e,[[r,s],[r+i,s+o]],t)}const mr=(e,t,n)=>e<t?jt(Math.abs(e-t),1,t)/t:e>n?-jt(Math.abs(e-n),1,t)/t:0,yr=(e,t,n=15,i=40)=>{const o=mr(e.x,i,t.width-i)*n,r=mr(e.y,i,t.height-i)*n;return[o,r]},Yi=(e,t)=>({x:Math.min(e.x,t.x),y:Math.min(e.y,t.y),x2:Math.max(e.x2,t.x2),y2:Math.max(e.y2,t.y2)}),Li=({x:e,y:t,width:n,height:i})=>({x:e,y:t,x2:e+n,y2:t+i}),Wi=({x:e,y:t,x2:n,y2:i})=>({x:e,y:t,width:n-e,height:i-t}),ri=(e,t=[0,0])=>{var o,r;const{x:n,y:i}=dr(e)?e.internals.positionAbsolute:Sn(e,t);return{x:n,y:i,width:((o=e.measured)==null?void 0:o.width)??e.width??e.initialWidth??0,height:((r=e.measured)==null?void 0:r.height)??e.height??e.initialHeight??0}},Bi=(e,t=[0,0])=>{var o,r;const{x:n,y:i}=dr(e)?e.internals.positionAbsolute:Sn(e,t);return{x:n,y:i,x2:n+(((o=e.measured)==null?void 0:o.width)??e.width??e.initialWidth??0),y2:i+(((r=e.measured)==null?void 0:r.height)??e.height??e.initialHeight??0)}},_r=(e,t)=>Wi(Yi(Li(e),Li(t))),Ki=(e,t)=>{const n=Math.max(0,Math.min(e.x+e.width,t.x+t.width)-Math.max(e.x,t.x)),i=Math.max(0,Math.min(e.y+e.height,t.y+t.height)-Math.max(e.y,t.y));return Math.ceil(n*i)},Ht=e=>!isNaN(e)&&isFinite(e),br=(e,t)=>{process.env.NODE_ENV==="development"&&console.warn(`[React Flow]: ${t} Help: https://reactflow.dev/error#${e}`)},Fi=(e,t=[1,1])=>({x:t[0]*Math.round(e.x/t[0]),y:t[1]*Math.round(e.y/t[1])}),li=({x:e,y:t},[n,i,o],r=!1,s=[1,1])=>{const l={x:(e-n)/o,y:(t-i)/o};return r?Fi(l,s):l},qi=({x:e,y:t},[n,i,o])=>({x:e*o+n,y:t*o+i});function xt(e,t){if(typeof e=="number")return Math.floor((t-t/(1+e))*.5);if(typeof e=="string"&&e.endsWith("px")){const n=parseFloat(e);if(!Number.isNaN(n))return Math.floor(n)}if(typeof e=="string"&&e.endsWith("%")){const n=parseFloat(e);if(!Number.isNaN(n))return Math.floor(t*n*.01)}return console.error(`[React Flow] The padding value "${e}" is invalid. Please provide a number or a string with a valid unit (px or %).`),0}function xf(e,t,n){if(typeof e=="string"||typeof e=="number"){const i=xt(e,n),o=xt(e,t);return{top:i,right:o,bottom:i,left:o,x:o*2,y:i*2}}if(typeof e=="object"){const i=xt(e.top??e.y??0,n),o=xt(e.bottom??e.y??0,n),r=xt(e.left??e.x??0,t),s=xt(e.right??e.x??0,t);return{top:i,right:s,bottom:o,left:r,x:r+s,y:i+o}}return{top:0,right:0,bottom:0,left:0,x:0,y:0}}function $f(e,t,n,i,o,r){const{x:s,y:l}=qi(e,[t,n,i]),{x:a,y:u}=qi({x:e.x+e.width,y:e.y+e.height},[t,n,i]),f=o-a,c=r-u;return{left:Math.floor(s),top:Math.floor(l),right:Math.floor(f),bottom:Math.floor(c)}}const wr=(e,t,n,i,o,r)=>{const s=xf(r,t,n),l=(t-s.x)/e.width,a=(n-s.y)/e.height,u=Math.min(l,a),f=jt(u,i,o),c=e.x+e.width/2,d=e.y+e.height/2,h=t/2-c*f,m=n/2-d*f,y=$f(e,h,m,f,t,n),_={left:Math.min(y.left-s.left,0),top:Math.min(y.top-s.top,0),right:Math.min(y.right-s.right,0),bottom:Math.min(y.bottom-s.bottom,0)};return{x:h-_.left+_.right,y:m-_.top+_.bottom,zoom:f}},si=()=>{var e;return typeof navigator<"u"&&((e=navigator==null?void 0:navigator.userAgent)==null?void 0:e.indexOf("Mac"))>=0};function $t(e){return e!==void 0&&e!=="parent"}function kt(e){var t,n;return{width:((t=e.measured)==null?void 0:t.width)??e.width??e.initialWidth??0,height:((n=e.measured)==null?void 0:n.height)??e.height??e.initialHeight??0}}function ai(e){var t,n;return(((t=e.measured)==null?void 0:t.width)??e.width??e.initialWidth)!==void 0&&(((n=e.measured)==null?void 0:n.height)??e.height??e.initialHeight)!==void 0}function ec(){let e,t;return{promise:new Promise((i,o)=>{e=i,t=o}),resolve:e,reject:t}}function Zi(e,{snapGrid:t=[0,0],snapToGrid:n=!1,transform:i,containerBounds:o}){const{x:r,y:s}=yt(e),l=li({x:r-((o==null?void 0:o.left)??0),y:s-((o==null?void 0:o.top)??0)},i),{x:a,y:u}=n?Fi(l,t):l;return{xSnapped:a,ySnapped:u,...l}}const kr=e=>({width:e.offsetWidth,height:e.offsetHeight}),tc=e=>{var t;return((t=e==null?void 0:e.getRootNode)==null?void 0:t.call(e))||(window==null?void 0:window.document)},nc=["INPUT","SELECT","TEXTAREA"];function ic(e){var i,o;const t=((o=(i=e.composedPath)==null?void 0:i.call(e))==null?void 0:o[0])||e.target;return(t==null?void 0:t.nodeType)!==1?!1:nc.includes(t.nodeName)||t.hasAttribute("contenteditable")||!!t.closest(".nokey")}const pr=e=>"clientX"in e,yt=(e,t)=>{var r,s;const n=pr(e),i=n?e.clientX:(r=e.touches)==null?void 0:r[0].clientX,o=n?e.clientY:(s=e.touches)==null?void 0:s[0].clientY;return{x:i-((t==null?void 0:t.left)??0),y:o-((t==null?void 0:t.top)??0)}},vr=(e,t,n,i,o)=>{const r=t.querySelectorAll(`.${e}`);return!r||!r.length?null:Array.from(r).map(s=>{const l=s.getBoundingClientRect();return{id:s.getAttribute("data-handleid"),type:e,nodeId:o,position:s.getAttribute("data-handlepos"),x:(l.left-n.left)/i,y:(l.top-n.top)/i,...kr(s)}})};function oc({sourceX:e,sourceY:t,targetX:n,targetY:i,sourceControlX:o,sourceControlY:r,targetControlX:s,targetControlY:l}){const a=e*.125+o*.375+s*.375+n*.125,u=t*.125+r*.375+l*.375+i*.125,f=Math.abs(a-e),c=Math.abs(u-t);return[a,u,f,c]}function ui(e,t){return e>=0?.5*e:t*25*Math.sqrt(-e)}function Sr({pos:e,x1:t,y1:n,x2:i,y2:o,c:r}){switch(e){case ce.Left:return[t-ui(t-i,r),n];case ce.Right:return[t+ui(i-t,r),n];case ce.Top:return[t,n-ui(n-o,r)];case ce.Bottom:return[t,n+ui(o-n,r)]}}function Cr({sourceX:e,sourceY:t,sourcePosition:n=ce.Bottom,targetX:i,targetY:o,targetPosition:r=ce.Top,curvature:s=.25}){const[l,a]=Sr({pos:n,x1:e,y1:t,x2:i,y2:o,c:s}),[u,f]=Sr({pos:r,x1:i,y1:o,x2:e,y2:t,c:s}),[c,d,h,m]=oc({sourceX:e,sourceY:t,targetX:i,targetY:o,sourceControlX:l,sourceControlY:a,targetControlX:u,targetControlY:f});return[`M${e},${t} C${l},${a} ${u},${f} ${i},${o}`,c,d,h,m]}function Er({sourceX:e,sourceY:t,targetX:n,targetY:i}){const o=Math.abs(n-e)/2,r=n<e?n+o:n-o,s=Math.abs(i-t)/2,l=i<t?i+s:i-s;return[r,l,o,s]}function rc({sourceNode:e,targetNode:t,selected:n=!1,zIndex:i=0,elevateOnSelect:o=!1}){if(!o)return i;const r=n||t.selected||e.selected,s=Math.max(e.internals.z||0,t.internals.z||0,1e3);return i+(r?s:0)}function lc({sourceNode:e,targetNode:t,width:n,height:i,transform:o}){const r=Yi(Bi(e),Bi(t));r.x===r.x2&&(r.x2+=1),r.y===r.y2&&(r.y2+=1);const s={x:-o[0]/o[2],y:-o[1]/o[2],width:n/o[2],height:i/o[2]};return Ki(s,Wi(r))>0}const sc=({source:e,sourceHandle:t,target:n,targetHandle:i})=>`xy-edge__${e}${t||""}-${n}${i||""}`,ac=(e,t)=>t.some(n=>n.source===e.source&&n.target===e.target&&(n.sourceHandle===e.sourceHandle||!n.sourceHandle&&!e.sourceHandle)&&(n.targetHandle===e.targetHandle||!n.targetHandle&&!e.targetHandle)),uc=(e,t)=>{if(!e.source||!e.target)return br("006",Dt.error006()),t;let n;return Gf(e)?n={...e}:n={...e,id:sc(e)},ac(n,t)?t:(n.sourceHandle===null&&delete n.sourceHandle,n.targetHandle===null&&delete n.targetHandle,t.concat(n))};function Mr({sourceX:e,sourceY:t,targetX:n,targetY:i}){const[o,r,s,l]=Er({sourceX:e,sourceY:t,targetX:n,targetY:i});return[`M ${e},${t}L ${n},${i}`,o,r,s,l]}const zr={[ce.Left]:{x:-1,y:0},[ce.Right]:{x:1,y:0},[ce.Top]:{x:0,y:-1},[ce.Bottom]:{x:0,y:1}},fc=({source:e,sourcePosition:t=ce.Bottom,target:n})=>t===ce.Left||t===ce.Right?e.x<n.x?{x:1,y:0}:{x:-1,y:0}:e.y<n.y?{x:0,y:1}:{x:0,y:-1},Pr=(e,t)=>Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2));function cc({source:e,sourcePosition:t=ce.Bottom,target:n,targetPosition:i=ce.Top,center:o,offset:r}){const s=zr[t],l=zr[i],a={x:e.x+s.x*r,y:e.y+s.y*r},u={x:n.x+l.x*r,y:n.y+l.y*r},f=fc({source:a,sourcePosition:t,target:u}),c=f.x!==0?"x":"y",d=f[c];let h=[],m,y;const _={x:0,y:0},g={x:0,y:0},[C,k,p,P]=Er({sourceX:e.x,sourceY:e.y,targetX:n.x,targetY:n.y});if(s[c]*l[c]===-1){m=o.x??C,y=o.y??k;const M=[{x:m,y:a.y},{x:m,y:u.y}],D=[{x:a.x,y},{x:u.x,y}];s[c]===d?h=c==="x"?M:D:h=c==="x"?D:M}else{const M=[{x:a.x,y:u.y}],D=[{x:u.x,y:a.y}];if(c==="x"?h=s.x===d?D:M:h=s.y===d?M:D,t===i){const L=Math.abs(e[c]-n[c]);if(L<=r){const b=Math.min(r-1,r-L);s[c]===d?_[c]=(a[c]>e[c]?-1:1)*b:g[c]=(u[c]>n[c]?-1:1)*b}}if(t!==i){const L=c==="x"?"y":"x",b=s[c]===l[L],v=a[L]>u[L],S=a[L]<u[L];(s[c]===1&&(!b&&v||b&&S)||s[c]!==1&&(!b&&S||b&&v))&&(h=c==="x"?M:D)}const O={x:a.x+_.x,y:a.y+_.y},B={x:u.x+g.x,y:u.y+g.y},A=Math.max(Math.abs(O.x-h[0].x),Math.abs(B.x-h[0].x)),X=Math.max(Math.abs(O.y-h[0].y),Math.abs(B.y-h[0].y));A>=X?(m=(O.x+B.x)/2,y=h[0].y):(m=h[0].x,y=(O.y+B.y)/2)}return[[e,{x:a.x+_.x,y:a.y+_.y},...h,{x:u.x+g.x,y:u.y+g.y},n],m,y,p,P]}function dc(e,t,n,i){const o=Math.min(Pr(e,t)/2,Pr(t,n)/2,i),{x:r,y:s}=t;if(e.x===r&&r===n.x||e.y===s&&s===n.y)return`L${r} ${s}`;if(e.y===s){const u=e.x<n.x?-1:1,f=e.y<n.y?1:-1;return`L ${r+o*u},${s}Q ${r},${s} ${r},${s+o*f}`}const l=e.x<n.x?1:-1,a=e.y<n.y?-1:1;return`L ${r},${s+o*a}Q ${r},${s} ${r+o*l},${s}`}function fi({sourceX:e,sourceY:t,sourcePosition:n=ce.Bottom,targetX:i,targetY:o,targetPosition:r=ce.Top,borderRadius:s=5,centerX:l,centerY:a,offset:u=20}){const[f,c,d,h,m]=cc({source:{x:e,y:t},sourcePosition:n,target:{x:i,y:o},targetPosition:r,center:{x:l,y:a},offset:u});return[f.reduce((_,g,C)=>{let k="";return C>0&&C<f.length-1?k=dc(f[C-1],g,f[C+1],s):k=`${C===0?"M":"L"}${g.x} ${g.y}`,_+=k,_},""),c,d,h,m]}function Nr(e){var t;return e&&!!(e.internals.handleBounds||(t=e.handles)!=null&&t.length)&&!!(e.measured.width||e.width||e.initialWidth)}function hc(e){var c;const{sourceNode:t,targetNode:n}=e;if(!Nr(t)||!Nr(n))return null;const i=t.internals.handleBounds||Or(t.handles),o=n.internals.handleBounds||Or(n.handles),r=Dr((i==null?void 0:i.source)??[],e.sourceHandle),s=Dr(e.connectionMode===Tt.Strict?(o==null?void 0:o.target)??[]:((o==null?void 0:o.target)??[]).concat((o==null?void 0:o.source)??[]),e.targetHandle);if(!r||!s)return(c=e.onError)==null||c.call(e,"008",Dt.error008(r?"target":"source",{id:e.id,sourceHandle:e.sourceHandle,targetHandle:e.targetHandle})),null;const l=(r==null?void 0:r.position)||ce.Bottom,a=(s==null?void 0:s.position)||ce.Top,u=En(t,r,l),f=En(n,s,a);return{sourceX:u.x,sourceY:u.y,targetX:f.x,targetY:f.y,sourcePosition:l,targetPosition:a}}function Or(e){if(!e)return null;const t=[],n=[];for(const i of e)i.width=i.width??1,i.height=i.height??1,i.type==="source"?t.push(i):i.type==="target"&&n.push(i);return{source:t,target:n}}function En(e,t,n=ce.Left,i=!1){const o=((t==null?void 0:t.x)??0)+e.internals.positionAbsolute.x,r=((t==null?void 0:t.y)??0)+e.internals.positionAbsolute.y,{width:s,height:l}=t??kt(e);if(i)return{x:o+s/2,y:r+l/2};switch((t==null?void 0:t.position)??n){case ce.Top:return{x:o+s/2,y:r};case ce.Right:return{x:o+s,y:r+l/2};case ce.Bottom:return{x:o+s/2,y:r+l};case ce.Left:return{x:o,y:r+l/2}}}function Dr(e,t){return e&&(t?e.find(n=>n.id===t):e[0])||null}function Gi(e,t){return e?typeof e=="string"?e:`${t?`${t}__`:""}${Object.keys(e).sort().map(i=>`${i}=${e[i]}`).join("&")}`:""}function gc(e,{id:t,defaultColor:n,defaultMarkerStart:i,defaultMarkerEnd:o}){const r=new Set;return e.reduce((s,l)=>([l.markerStart||i,l.markerEnd||o].forEach(a=>{if(a&&typeof a=="object"){const u=Gi(a,t);r.has(u)||(s.push({id:u,color:a.color||n,...a}),r.add(u))}}),s),[]).sort((s,l)=>s.id.localeCompare(l.id))}const Ui={nodeOrigin:[0,0],nodeExtent:ni,elevateNodesOnSelect:!0,defaults:{}},mc={...Ui,checkEquality:!0};function Ji(e,t){const n={...e};for(const i in t)t[i]!==void 0&&(n[i]=t[i]);return n}function yc(e,t,n){const i=Ji(Ui,n);for(const o of e.values())if(o.parentId)Qi(o,e,t,i);else{const r=Sn(o,i.nodeOrigin),s=$t(o.extent)?o.extent:i.nodeExtent,l=At(r,s,kt(o));o.internals.positionAbsolute=l}}function Tr(e,t,n,i){var a,u;const o=Ji(mc,i);let r=e.length>0;const s=new Map(t),l=o!=null&&o.elevateNodesOnSelect?1e3:0;t.clear(),n.clear();for(const f of e){let c=s.get(f.id);if(o.checkEquality&&f===(c==null?void 0:c.internals.userNode))t.set(f.id,c);else{const d=Sn(f,o.nodeOrigin),h=$t(f.extent)?f.extent:o.nodeExtent,m=At(d,h,kt(f));c={...o.defaults,...f,measured:{width:(a=f.measured)==null?void 0:a.width,height:(u=f.measured)==null?void 0:u.height},internals:{positionAbsolute:m,handleBounds:f.measured?c==null?void 0:c.internals.handleBounds:void 0,z:Ar(f,l),userNode:f}},t.set(f.id,c)}(c.measured===void 0||c.measured.width===void 0||c.measured.height===void 0)&&!c.hidden&&(r=!1),f.parentId&&Qi(c,t,n,i)}return r}function _c(e,t){if(!e.parentId)return;const n=t.get(e.parentId);n?n.set(e.id,e):t.set(e.parentId,new Map([[e.id,e]]))}function Qi(e,t,n,i){const{elevateNodesOnSelect:o,nodeOrigin:r,nodeExtent:s}=Ji(Ui,i),l=e.parentId,a=t.get(l);if(!a){console.warn(`Parent node ${l} not found. Please make sure that parent nodes are in front of their child nodes in the nodes array.`);return}_c(e,n);const u=o?1e3:0,{x:f,y:c,z:d}=bc(e,a,r,s,u),{positionAbsolute:h}=e.internals,m=f!==h.x||c!==h.y;(m||d!==e.internals.z)&&t.set(e.id,{...e,internals:{...e.internals,positionAbsolute:m?{x:f,y:c}:h,z:d}})}function Ar(e,t){return(Ht(e.zIndex)?e.zIndex:0)+(e.selected?t:0)}function bc(e,t,n,i,o){const{x:r,y:s}=t.internals.positionAbsolute,l=kt(e),a=Sn(e,n),u=$t(e.extent)?At(a,e.extent,l):a;let f=At({x:r+u.x,y:s+u.y},i,l);e.extent==="parent"&&(f=gr(f,l,t));const c=Ar(e,o),d=t.internals.z??0;return{x:f.x,y:f.y,z:d>c?d:c}}function wc(e,t,n,i=[0,0]){var s;const o=[],r=new Map;for(const l of e){const a=t.get(l.parentId);if(!a)continue;const u=((s=r.get(l.parentId))==null?void 0:s.expandedRect)??ri(a),f=_r(u,l.rect);r.set(l.parentId,{expandedRect:f,parent:a})}return r.size>0&&r.forEach(({expandedRect:l,parent:a},u)=>{var k;const f=a.internals.positionAbsolute,c=kt(a),d=a.origin??i,h=l.x<f.x?Math.round(Math.abs(f.x-l.x)):0,m=l.y<f.y?Math.round(Math.abs(f.y-l.y)):0,y=Math.max(c.width,Math.round(l.width)),_=Math.max(c.height,Math.round(l.height)),g=(y-c.width)*d[0],C=(_-c.height)*d[1];(h>0||m>0||g||C)&&(o.push({id:u,type:"position",position:{x:a.position.x-h+g,y:a.position.y-m+C}}),(k=n.get(u))==null||k.forEach(p=>{e.some(P=>P.id===p.id)||o.push({id:p.id,type:"position",position:{x:p.position.x+h,y:p.position.y+m}})})),(c.width<l.width||c.height<l.height||h||m)&&o.push({id:u,type:"dimensions",setAttributes:!0,dimensions:{width:y+(h?d[0]*h-g:0),height:_+(m?d[1]*m-C:0)}})}),o}function kc(e,t,n,i,o,r){const s=i==null?void 0:i.querySelector(".xyflow__viewport");let l=!1;if(!s)return{changes:[],updatedInternals:l};const a=[],u=window.getComputedStyle(s),{m22:f}=new window.DOMMatrixReadOnly(u.transform),c=[];for(const d of e.values()){const h=t.get(d.id);if(!h)continue;if(h.hidden){t.set(h.id,{...h,internals:{...h.internals,handleBounds:void 0}}),l=!0;continue}const m=kr(d.nodeElement),y=h.measured.width!==m.width||h.measured.height!==m.height;if(!!(m.width&&m.height&&(y||!h.internals.handleBounds||d.force))){const g=d.nodeElement.getBoundingClientRect(),C=$t(h.extent)?h.extent:r;let{positionAbsolute:k}=h.internals;h.parentId&&h.extent==="parent"?k=gr(k,m,t.get(h.parentId)):C&&(k=At(k,C,m));const p={...h,measured:m,internals:{...h.internals,positionAbsolute:k,handleBounds:{source:vr("source",d.nodeElement,g,f,h.id),target:vr("target",d.nodeElement,g,f,h.id)}}};t.set(h.id,p),h.parentId&&Qi(p,t,n,{nodeOrigin:o}),l=!0,y&&(a.push({id:h.id,type:"dimensions",dimensions:m}),h.expandParent&&h.parentId&&c.push({id:h.id,parentId:h.parentId,rect:ri(p,o)}))}}if(c.length>0){const d=wc(c,t,n,o);a.push(...d)}return{changes:a,updatedInternals:l}}async function pc({delta:e,panZoom:t,transform:n,translateExtent:i,width:o,height:r}){if(!t||!e.x&&!e.y)return Promise.resolve(!1);const s=await t.setViewportConstrained({x:n[0]+e.x,y:n[1]+e.y,zoom:n[2]},[[0,0],[o,r]],i),l=!!s&&(s.x!==n[0]||s.y!==n[1]||s.k!==n[2]);return Promise.resolve(l)}function Hr(e,t,n,i,o,r){let s=o;const l=i.get(s)||new Map;i.set(s,l.set(n,t)),s=`${o}-${e}`;const a=i.get(s)||new Map;if(i.set(s,a.set(n,t)),r){s=`${o}-${e}-${r}`;const u=i.get(s)||new Map;i.set(s,u.set(n,t))}}function Ir(e,t,n){e.clear(),t.clear();for(const i of n){const{source:o,target:r,sourceHandle:s=null,targetHandle:l=null}=i,a={edgeId:i.id,source:o,target:r,sourceHandle:s,targetHandle:l},u=`${o}-${s}--${r}-${l}`,f=`${r}-${l}--${o}-${s}`;Hr("source",a,f,e,o,s),Hr("target",a,u,e,r,l),t.set(i.id,i)}}function Vr(e,t){if(!e.parentId)return!1;const n=t.get(e.parentId);return n?n.selected?!0:Vr(n,t):!1}function Rr(e,t,n){var o;let i=e;do{if((o=i==null?void 0:i.matches)!=null&&o.call(i,t))return!0;if(i===n)return!1;i=i==null?void 0:i.parentElement}while(i);return!1}function vc(e,t,n,i){const o=new Map;for(const[r,s]of e)if((s.selected||s.id===i)&&(!s.parentId||!Vr(s,e))&&(s.draggable||t&&typeof s.draggable>"u")){const l=e.get(r);l&&o.set(r,{id:r,position:l.position||{x:0,y:0},distance:{x:n.x-l.internals.positionAbsolute.x,y:n.y-l.internals.positionAbsolute.y},extent:l.extent,parentId:l.parentId,origin:l.origin,expandParent:l.expandParent,internals:{positionAbsolute:l.internals.positionAbsolute||{x:0,y:0}},measured:{width:l.measured.width??0,height:l.measured.height??0}})}return o}function ji({nodeId:e,dragItems:t,nodeLookup:n,dragging:i=!0}){var s,l,a;const o=[];for(const[u,f]of t){const c=(s=n.get(u))==null?void 0:s.internals.userNode;c&&o.push({...c,position:f.position,dragging:i})}if(!e)return[o[0],o];const r=(l=n.get(e))==null?void 0:l.internals.userNode;return[r?{...r,position:((a=t.get(e))==null?void 0:a.position)||r.position,dragging:i}:o[0],o]}function Sc({onNodeMouseDown:e,getStoreItems:t,onDragStart:n,onDrag:i,onDragStop:o}){let r={x:null,y:null},s=0,l=new Map,a=!1,u={x:0,y:0},f=null,c=!1,d=null,h=!1;function m({noDragClassName:_,handleSelector:g,domNode:C,isSelectable:k,nodeId:p,nodeClickDistance:P=0}){d=$e(C);function H({x:B,y:A},X){const{nodeLookup:L,nodeExtent:b,snapGrid:v,snapToGrid:S,nodeOrigin:N,onNodeDrag:T,onSelectionDrag:I,onError:W,updateNodePositions:G}=t();r={x:B,y:A};let Q=!1,U={x:0,y:0,x2:0,y2:0};if(l.size>1&&b){const R=Cn(l);U=Li(R)}for(const[R,te]of l){if(!L.has(R))continue;let de={x:B-te.distance.x,y:A-te.distance.y};S&&(de=Fi(de,v));let j=[[b[0][0],b[0][1]],[b[1][0],b[1][1]]];if(l.size>1&&b&&!te.extent){const{positionAbsolute:ye}=te.internals,be=ye.x-U.x+b[0][0],we=ye.x+te.measured.width-U.x2+b[1][0],ze=ye.y-U.y+b[0][1],F=ye.y+te.measured.height-U.y2+b[1][1];j=[[be,ze],[we,F]]}const{position:ke,positionAbsolute:x}=Qf({nodeId:R,nextPosition:de,nodeLookup:L,nodeExtent:j,nodeOrigin:N,onError:W});Q=Q||te.position.x!==ke.x||te.position.y!==ke.y,te.position=ke,te.internals.positionAbsolute=x}if(Q&&(G(l,!0),X&&(i||T||!p&&I))){const[R,te]=ji({nodeId:p,dragItems:l,nodeLookup:L});i==null||i(X,l,R,te),T==null||T(X,R,te),p||I==null||I(X,te)}}async function M(){if(!f)return;const{transform:B,panBy:A,autoPanSpeed:X,autoPanOnNodeDrag:L}=t();if(!L){a=!1,cancelAnimationFrame(s);return}const[b,v]=yr(u,f,X);(b!==0||v!==0)&&(r.x=(r.x??0)-b/B[2],r.y=(r.y??0)-v/B[2],await A({x:b,y:v})&&H(r,null)),s=requestAnimationFrame(M)}function D(B){var Q;const{nodeLookup:A,multiSelectionActive:X,nodesDraggable:L,transform:b,snapGrid:v,snapToGrid:S,selectNodesOnDrag:N,onNodeDragStart:T,onSelectionDragStart:I,unselectNodesAndEdges:W}=t();c=!0,(!N||!k)&&!X&&p&&((Q=A.get(p))!=null&&Q.selected||W()),k&&N&&p&&(e==null||e(p));const G=Zi(B.sourceEvent,{transform:b,snapGrid:v,snapToGrid:S,containerBounds:f});if(r=G,l=vc(A,L,G,p),l.size>0&&(n||T||!p&&I)){const[U,R]=ji({nodeId:p,dragItems:l,nodeLookup:A});n==null||n(B.sourceEvent,l,U,R),T==null||T(B.sourceEvent,U,R),p||I==null||I(B.sourceEvent,R)}}const O=tu().clickDistance(P).on("start",B=>{const{domNode:A,nodeDragThreshold:X,transform:L,snapGrid:b,snapToGrid:v}=t();f=(A==null?void 0:A.getBoundingClientRect())||null,h=!1,X===0&&D(B),r=Zi(B.sourceEvent,{transform:L,snapGrid:b,snapToGrid:v,containerBounds:f}),u=yt(B.sourceEvent,f)}).on("drag",B=>{const{autoPanOnNodeDrag:A,transform:X,snapGrid:L,snapToGrid:b,nodeDragThreshold:v,nodeLookup:S}=t(),N=Zi(B.sourceEvent,{transform:X,snapGrid:L,snapToGrid:b,containerBounds:f});if((B.sourceEvent.type==="touchmove"&&B.sourceEvent.touches.length>1||p&&!S.has(p))&&(h=!0),!h){if(!a&&A&&c&&(a=!0,M()),!c){const T=N.xSnapped-(r.x??0),I=N.ySnapped-(r.y??0);Math.sqrt(T*T+I*I)>v&&D(B)}(r.x!==N.xSnapped||r.y!==N.ySnapped)&&l&&c&&(u=yt(B.sourceEvent,f),H(N,B.sourceEvent))}}).on("end",B=>{if(!(!c||h)&&(a=!1,c=!1,cancelAnimationFrame(s),l.size>0)){const{nodeLookup:A,updateNodePositions:X,onNodeDragStop:L,onSelectionDragStop:b}=t();if(X(l,!1),o||L||!p&&b){const[v,S]=ji({nodeId:p,dragItems:l,nodeLookup:A,dragging:!1});o==null||o(B.sourceEvent,l,v,S),L==null||L(B.sourceEvent,v,S),p||b==null||b(B.sourceEvent,S)}}}).filter(B=>{const A=B.target;return!B.button&&(!_||!Rr(A,`.${_}`,C))&&(!g||Rr(A,g,C))});d.call(O)}function y(){d==null||d.on(".drag",null)}return{update:m,destroy:y}}function Cc(e,t,n){const i=[],o={x:e.x-n,y:e.y-n,width:n*2,height:n*2};for(const r of t.values())Ki(o,ri(r))>0&&i.push(r);return i}const Ec=250;function Mc(e,t,n,i){var l,a;let o=[],r=1/0;const s=Cc(e,n,t+Ec);for(const u of s){const f=[...((l=u.internals.handleBounds)==null?void 0:l.source)??[],...((a=u.internals.handleBounds)==null?void 0:a.target)??[]];for(const c of f){if(i.nodeId===c.nodeId&&i.type===c.type&&i.id===c.id)continue;const{x:d,y:h}=En(u,c,c.position,!0),m=Math.sqrt(Math.pow(d-e.x,2)+Math.pow(h-e.y,2));m>t||(m<r?(o=[{...c,x:d,y:h}],r=m):m===r&&o.push({...c,x:d,y:h}))}}if(!o.length)return null;if(o.length>1){const u=i.type==="source"?"target":"source";return o.find(f=>f.type===u)??o[0]}return o[0]}function Xr(e,t,n,i,o,r=!1){var u,f,c;const s=i.get(e);if(!s)return null;const l=o==="strict"?(u=s.internals.handleBounds)==null?void 0:u[t]:[...((f=s.internals.handleBounds)==null?void 0:f.source)??[],...((c=s.internals.handleBounds)==null?void 0:c.target)??[]],a=(n?l==null?void 0:l.find(d=>d.id===n):l==null?void 0:l[0])??null;return a&&r?{...a,...En(s,a,a.position,!0)}:a}function Yr(e,t){return e||(t!=null&&t.classList.contains("target")?"target":t!=null&&t.classList.contains("source")?"source":null)}function zc(e,t){let n=null;return t?n=!0:e&&!t&&(n=!1),n}const Lr=()=>!0;function Pc(e,{connectionMode:t,connectionRadius:n,handleId:i,nodeId:o,edgeUpdaterType:r,isTarget:s,domNode:l,nodeLookup:a,lib:u,autoPanOnConnect:f,flowId:c,panBy:d,cancelConnection:h,onConnectStart:m,onConnect:y,onConnectEnd:_,isValidConnection:g=Lr,onReconnectEnd:C,updateConnection:k,getTransform:p,getFromHandle:P,autoPanSpeed:H}){const M=tc(e.target);let D=0,O;const{x:B,y:A}=yt(e),X=M==null?void 0:M.elementFromPoint(B,A),L=Yr(r,X),b=l==null?void 0:l.getBoundingClientRect();if(!b||!L)return;const v=Xr(o,L,i,a,t);if(!v)return;let S=yt(e,b),N=!1,T=null,I=!1,W=null;function G(){if(!f||!b)return;const[x,ye]=yr(S,b,H);d({x,y:ye}),D=requestAnimationFrame(G)}const Q={...v,nodeId:o,type:L,position:v.position},U=a.get(o),te={inProgress:!0,isValid:null,from:En(U,Q,ce.Left,!0),fromHandle:Q,fromPosition:Q.position,fromNode:U,to:S,toHandle:null,toPosition:ur[Q.position],toNode:null};k(te);let de=te;m==null||m(e,{nodeId:o,handleId:i,handleType:L});function j(x){if(!P()||!Q){ke(x);return}const ye=p();S=yt(x,b),O=Mc(li(S,ye,!1,[1,1]),n,a,Q),N||(G(),N=!0);const be=Wr(x,{handle:O,connectionMode:t,fromNodeId:o,fromHandleId:i,fromType:s?"target":"source",isValidConnection:g,doc:M,lib:u,flowId:c,nodeLookup:a});W=be.handleDomNode,T=be.connection,I=zc(!!O,be.isValid);const we={...de,isValid:I,to:O&&I?qi({x:O.x,y:O.y},ye):S,toHandle:be.toHandle,toPosition:I&&be.toHandle?be.toHandle.position:ur[Q.position],toNode:be.toHandle?a.get(be.toHandle.nodeId):null};I&&O&&de.toHandle&&we.toHandle&&de.toHandle.type===we.toHandle.type&&de.toHandle.nodeId===we.toHandle.nodeId&&de.toHandle.id===we.toHandle.id&&de.to.x===we.to.x&&de.to.y===we.to.y||(k(we),de=we)}function ke(x){(O||W)&&T&&I&&(y==null||y(T));const{inProgress:ye,...be}=de,we={...be,toPosition:de.toHandle?de.toPosition:null};_==null||_(x,we),r&&(C==null||C(x,we)),h(),cancelAnimationFrame(D),N=!1,I=!1,T=null,W=null,M.removeEventListener("mousemove",j),M.removeEventListener("mouseup",ke),M.removeEventListener("touchmove",j),M.removeEventListener("touchend",ke)}M.addEventListener("mousemove",j),M.addEventListener("mouseup",ke),M.addEventListener("touchmove",j),M.addEventListener("touchend",ke)}function Wr(e,{handle:t,connectionMode:n,fromNodeId:i,fromHandleId:o,fromType:r,doc:s,lib:l,flowId:a,isValidConnection:u=Lr,nodeLookup:f}){const c=r==="target",d=t?s.querySelector(`.${l}-flow__handle[data-id="${a}-${t==null?void 0:t.nodeId}-${t==null?void 0:t.id}-${t==null?void 0:t.type}"]`):null,{x:h,y:m}=yt(e),y=s.elementFromPoint(h,m),_=y!=null&&y.classList.contains(`${l}-flow__handle`)?y:d,g={handleDomNode:_,isValid:!1,connection:null,toHandle:null};if(_){const C=Yr(void 0,_),k=_.getAttribute("data-nodeid"),p=_.getAttribute("data-handleid"),P=_.classList.contains("connectable"),H=_.classList.contains("connectableend");if(!k||!C)return g;const M={source:c?k:i,sourceHandle:c?p:o,target:c?i:k,targetHandle:c?o:p};g.connection=M;const O=P&&H&&(n===Tt.Strict?c&&C==="source"||!c&&C==="target":k!==i||p!==o);g.isValid=O&&u(M),g.toHandle=Xr(k,C,p,f,n,!1)}return g}const Nc={onPointerDown:Pc,isValid:Wr};function Oc({domNode:e,panZoom:t,getTransform:n,getViewScale:i}){const o=$e(e);function r({translateExtent:l,width:a,height:u,zoomStep:f=10,pannable:c=!0,zoomable:d=!0,inversePan:h=!1}){const m=k=>{const p=n();if(k.sourceEvent.type!=="wheel"||!t)return;const P=-k.sourceEvent.deltaY*(k.sourceEvent.deltaMode===1?.05:k.sourceEvent.deltaMode?1:.002)*f,H=p[2]*Math.pow(2,P);t.scaleTo(H)};let y=[0,0];const _=k=>{(k.sourceEvent.type==="mousedown"||k.sourceEvent.type==="touchstart")&&(y=[k.sourceEvent.clientX??k.sourceEvent.touches[0].clientX,k.sourceEvent.clientY??k.sourceEvent.touches[0].clientY])},g=k=>{const p=n();if(k.sourceEvent.type!=="mousemove"&&k.sourceEvent.type!=="touchmove"||!t)return;const P=[k.sourceEvent.clientX??k.sourceEvent.touches[0].clientX,k.sourceEvent.clientY??k.sourceEvent.touches[0].clientY],H=[P[0]-y[0],P[1]-y[1]];y=P;const M=i()*Math.max(p[2],Math.log(p[2]))*(h?-1:1),D={x:p[0]-H[0]*M,y:p[1]-H[1]*M},O=[[0,0],[a,u]];t.setViewportConstrained({x:D.x,y:D.y,zoom:p[2]},O,l)},C=ar().on("start",_).on("zoom",c?g:null).on("zoom.wheel",d?m:null);o.call(C,{})}function s(){o.on("zoom",null)}return{update:r,destroy:s,pointer:it}}const Dc=(e,t)=>e.x!==t.x||e.y!==t.y||e.zoom!==t.k,ci=e=>({x:e.x,y:e.y,zoom:e.k}),xi=({x:e,y:t,zoom:n})=>ti.translate(e,t).scale(n),en=(e,t)=>e.target.closest(`.${t}`),Br=(e,t)=>t===2&&Array.isArray(e)&&e.includes(2),$i=(e,t=0,n=()=>{})=>{const i=typeof t=="number"&&t>0;return i||n(),i?e.transition().duration(t).on("end",n):e},Kr=e=>{const t=e.ctrlKey&&si()?10:1;return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*t};function Tc({zoomPanValues:e,noWheelClassName:t,d3Selection:n,d3Zoom:i,panOnScrollMode:o,panOnScrollSpeed:r,zoomOnPinch:s,onPanZoomStart:l,onPanZoom:a,onPanZoomEnd:u}){return f=>{if(en(f,t))return!1;f.preventDefault(),f.stopImmediatePropagation();const c=n.property("__zoom").k||1;if(f.ctrlKey&&s){const _=it(f),g=Kr(f),C=c*Math.pow(2,g);i.scaleTo(n,C,_,f);return}const d=f.deltaMode===1?20:1;let h=o===ut.Vertical?0:f.deltaX*d,m=o===ut.Horizontal?0:f.deltaY*d;!si()&&f.shiftKey&&o!==ut.Vertical&&(h=f.deltaY*d,m=0),i.translateBy(n,-(h/c)*r,-(m/c)*r,{internal:!0});const y=ci(n.property("__zoom"));clearTimeout(e.panScrollTimeout),e.isPanScrolling||(e.isPanScrolling=!0,l==null||l(f,y)),e.isPanScrolling&&(a==null||a(f,y),e.panScrollTimeout=setTimeout(()=>{u==null||u(f,y),e.isPanScrolling=!1},150))}}function Ac({noWheelClassName:e,preventScrolling:t,d3ZoomHandler:n}){return function(i,o){const r=i.type==="wheel",s=!t&&r&&!i.ctrlKey,l=en(i,e);if(i.ctrlKey&&r&&l&&i.preventDefault(),s||l)return null;i.preventDefault(),n.call(this,i,o)}}function Hc({zoomPanValues:e,onDraggingChange:t,onPanZoomStart:n}){return i=>{var r,s,l;if((r=i.sourceEvent)!=null&&r.internal)return;const o=ci(i.transform);e.mouseButton=((s=i.sourceEvent)==null?void 0:s.button)||0,e.isZoomingOrPanning=!0,e.prevViewport=o,((l=i.sourceEvent)==null?void 0:l.type)==="mousedown"&&t(!0),n&&(n==null||n(i.sourceEvent,o))}}function Ic({zoomPanValues:e,panOnDrag:t,onPaneContextMenu:n,onTransformChange:i,onPanZoom:o}){return r=>{var s,l;e.usedRightMouseButton=!!(n&&Br(t,e.mouseButton??0)),(s=r.sourceEvent)!=null&&s.sync||i([r.transform.x,r.transform.y,r.transform.k]),o&&!((l=r.sourceEvent)!=null&&l.internal)&&(o==null||o(r.sourceEvent,ci(r.transform)))}}function Vc({zoomPanValues:e,panOnDrag:t,panOnScroll:n,onDraggingChange:i,onPanZoomEnd:o,onPaneContextMenu:r}){return s=>{var l;if(!((l=s.sourceEvent)!=null&&l.internal)&&(e.isZoomingOrPanning=!1,r&&Br(t,e.mouseButton??0)&&!e.usedRightMouseButton&&s.sourceEvent&&r(s.sourceEvent),e.usedRightMouseButton=!1,i(!1),o&&Dc(e.prevViewport,s.transform))){const a=ci(s.transform);e.prevViewport=a,clearTimeout(e.timerId),e.timerId=setTimeout(()=>{o==null||o(s.sourceEvent,a)},n?150:0)}}}function Rc({zoomActivationKeyPressed:e,zoomOnScroll:t,zoomOnPinch:n,panOnDrag:i,panOnScroll:o,zoomOnDoubleClick:r,userSelectionActive:s,noWheelClassName:l,noPanClassName:a,lib:u}){return f=>{var m;const c=e||t,d=n&&f.ctrlKey;if(f.button===1&&f.type==="mousedown"&&(en(f,`${u}-flow__node`)||en(f,`${u}-flow__edge`)))return!0;if(!i&&!c&&!o&&!r&&!n||s||en(f,l)&&f.type==="wheel"||en(f,a)&&(f.type!=="wheel"||o&&f.type==="wheel"&&!e)||!n&&f.ctrlKey&&f.type==="wheel")return!1;if(!n&&f.type==="touchstart"&&((m=f.touches)==null?void 0:m.length)>1)return f.preventDefault(),!1;if(!c&&!o&&!d&&f.type==="wheel"||!i&&(f.type==="mousedown"||f.type==="touchstart")||Array.isArray(i)&&!i.includes(f.button)&&f.type==="mousedown")return!1;const h=Array.isArray(i)&&i.includes(f.button)||!f.button||f.button<=1;return(!f.ctrlKey||f.type==="wheel")&&h}}function Xc({domNode:e,minZoom:t,maxZoom:n,paneClickDistance:i,translateExtent:o,viewport:r,onPanZoom:s,onPanZoomStart:l,onPanZoomEnd:a,onDraggingChange:u}){const f={isZoomingOrPanning:!1,usedRightMouseButton:!1,prevViewport:{x:0,y:0,zoom:0},mouseButton:0,timerId:void 0,panScrollTimeout:void 0,isPanScrolling:!1},c=e.getBoundingClientRect(),d=ar().clickDistance(!Ht(i)||i<0?0:i).scaleExtent([t,n]).translateExtent(o),h=$e(e).call(d);k({x:r.x,y:r.y,zoom:jt(r.zoom,t,n)},[[0,0],[c.width,c.height]],o);const m=h.on("wheel.zoom"),y=h.on("dblclick.zoom");d.wheelDelta(Kr);function _(X,L){return h?new Promise(b=>{d==null||d.transform($i(h,L==null?void 0:L.duration,()=>b(!0)),X)}):Promise.resolve(!1)}function g({noWheelClassName:X,noPanClassName:L,onPaneContextMenu:b,userSelectionActive:v,panOnScroll:S,panOnDrag:N,panOnScrollMode:T,panOnScrollSpeed:I,preventScrolling:W,zoomOnPinch:G,zoomOnScroll:Q,zoomOnDoubleClick:U,zoomActivationKeyPressed:R,lib:te,onTransformChange:de}){v&&!f.isZoomingOrPanning&&C();const ke=S&&!R&&!v?Tc({zoomPanValues:f,noWheelClassName:X,d3Selection:h,d3Zoom:d,panOnScrollMode:T,panOnScrollSpeed:I,zoomOnPinch:G,onPanZoomStart:l,onPanZoom:s,onPanZoomEnd:a}):Ac({noWheelClassName:X,preventScrolling:W,d3ZoomHandler:m});if(h.on("wheel.zoom",ke,{passive:!1}),!v){const ye=Hc({zoomPanValues:f,onDraggingChange:u,onPanZoomStart:l});d.on("start",ye);const be=Ic({zoomPanValues:f,panOnDrag:N,onPaneContextMenu:!!b,onPanZoom:s,onTransformChange:de});d.on("zoom",be);const we=Vc({zoomPanValues:f,panOnDrag:N,panOnScroll:S,onPaneContextMenu:b,onPanZoomEnd:a,onDraggingChange:u});d.on("end",we)}const x=Rc({zoomActivationKeyPressed:R,panOnDrag:N,zoomOnScroll:Q,panOnScroll:S,zoomOnDoubleClick:U,zoomOnPinch:G,userSelectionActive:v,noPanClassName:L,noWheelClassName:X,lib:te});d.filter(x),U?h.on("dblclick.zoom",y):h.on("dblclick.zoom",null)}function C(){d.on("zoom",null)}async function k(X,L,b){const v=xi(X),S=d==null?void 0:d.constrain()(v,L,b);return S&&await _(S),new Promise(N=>N(S))}async function p(X,L){const b=xi(X);return await _(b,L),new Promise(v=>v(b))}function P(X){if(h){const L=xi(X),b=h.property("__zoom");(b.k!==X.zoom||b.x!==X.x||b.y!==X.y)&&(d==null||d.transform(h,L,null,{sync:!0}))}}function H(){const X=h?lr(h.node()):{x:0,y:0,k:1};return{x:X.x,y:X.y,zoom:X.k}}function M(X,L){return h?new Promise(b=>{d==null||d.scaleTo($i(h,L==null?void 0:L.duration,()=>b(!0)),X)}):Promise.resolve(!1)}function D(X,L){return h?new Promise(b=>{d==null||d.scaleBy($i(h,L==null?void 0:L.duration,()=>b(!0)),X)}):Promise.resolve(!1)}function O(X){d==null||d.scaleExtent(X)}function B(X){d==null||d.translateExtent(X)}function A(X){const L=!Ht(X)||X<0?0:X;d==null||d.clickDistance(L)}return{update:g,destroy:C,setViewport:p,setViewportConstrained:k,getViewport:H,scaleTo:M,scaleBy:D,setScaleExtent:O,setTranslateExtent:B,syncViewport:P,setClickDistance:A}}var Fr;(function(e){e.Line="line",e.Handle="handle"})(Fr||(Fr={}));function Yc(e){let t,n,i,o,r,s;const l=e[45].default,a=qe(l,e,e[44],null);return{c(){t=ae("div"),a&&a.c(),w(t,"data-handleid",e[6]),w(t,"data-nodeid",e[14]),w(t,"data-handlepos",e[2]),w(t,"data-id",n=e[13]+"-"+e[14]+"-"+(e[0]||null)+"-"+e[1]),w(t,"class",i=Ee(["svelte-flow__handle",`svelte-flow__handle-${e[2]}`,"nodrag","nopan",e[2],e[4]])),w(t,"style",e[3]),w(t,"role","button"),w(t,"tabindex","-1"),se(t,"valid",e[7]),se(t,"connectingto",e[5]),se(t,"connectingfrom",e[9]),se(t,"source",!e[11]),se(t,"target",e[11]),se(t,"connectablestart",e[12]),se(t,"connectableend",e[12]),se(t,"connectable",e[12]),se(t,"connectionindicator",e[12]&&(!e[10]||e[8]))},m(u,f){Z(u,t,f),a&&a.m(t,null),o=!0,r||(s=[Se(t,"mousedown",e[32]),Se(t,"touchstart",e[32])],r=!0)},p(u,f){a&&a.p&&(!o||f[1]&8192)&&Ge(a,l,u,u[44],o?Ze(l,u[44],f,null):Ue(u[44]),null),(!o||f[0]&64)&&w(t,"data-handleid",u[6]),(!o||f[0]&4)&&w(t,"data-handlepos",u[2]),(!o||f[0]&8195&&n!==(n=u[13]+"-"+u[14]+"-"+(u[0]||null)+"-"+u[1]))&&w(t,"data-id",n),(!o||f[0]&20&&i!==(i=Ee(["svelte-flow__handle",`svelte-flow__handle-${u[2]}`,"nodrag","nopan",u[2],u[4]])))&&w(t,"class",i),(!o||f[0]&8)&&w(t,"style",u[3]),(!o||f[0]&148)&&se(t,"valid",u[7]),(!o||f[0]&52)&&se(t,"connectingto",u[5]),(!o||f[0]&532)&&se(t,"connectingfrom",u[9]),(!o||f[0]&2068)&&se(t,"source",!u[11]),(!o||f[0]&2068)&&se(t,"target",u[11]),(!o||f[0]&4116)&&se(t,"connectablestart",u[12]),(!o||f[0]&4116)&&se(t,"connectableend",u[12]),(!o||f[0]&4116)&&se(t,"connectable",u[12]),(!o||f[0]&5396)&&se(t,"connectionindicator",u[12]&&(!u[10]||u[8]))},i(u){o||(V(a,u),o=!0)},o(u){Y(a,u),o=!1},d(u){u&&K(t),a&&a.d(u),r=!1,Ye(s)}}}function Lc(e,t,n){let i,o,r,s,l,a,u,f,c,d,h,m,y,_,g,C,k,p,P,H,M,D,O,B,A,{$$slots:X={},$$scope:L}=t,{id:b=void 0}=t,{type:v="source"}=t,{position:S=ce.Top}=t,{style:N=void 0}=t,{isValidConnection:T=void 0}=t,{onconnect:I=void 0}=t,{ondisconnect:W=void 0}=t,{isConnectable:G=void 0}=t,{class:Q=void 0}=t;const U=Dn("svelteflow__node_id"),R=Dn("svelteflow__node_connectable");J(e,R,z=>n(43,A=z));const te=Ie(),{connectionMode:de,domNode:j,nodeLookup:ke,connectionRadius:x,viewport:ye,isValidConnection:be,lib:we,addEdge:ze,onedgecreate:F,panBy:Ne,cancelConnection:Xe,updateConnection:Ke,autoPanOnConnect:Me,edges:et,connectionLookup:We,onconnect:bt,onconnectstart:ee,onconnectend:vt,flowId:St,connection:Ct}=te;J(e,de,z=>n(40,d=z)),J(e,j,z=>n(55,O=z)),J(e,ke,z=>n(54,D=z)),J(e,x,z=>n(56,B=z)),J(e,ye,z=>n(46,y=z)),J(e,be,z=>n(51,p=z)),J(e,we,z=>n(53,M=z)),J(e,F,z=>n(50,k=z)),J(e,Me,z=>n(52,H=z)),J(e,et,z=>n(42,m=z)),J(e,We,z=>n(41,h=z)),J(e,bt,z=>n(49,C=z)),J(e,ee,z=>n(48,g=z)),J(e,vt,z=>n(47,_=z)),J(e,St,z=>n(13,P=z)),J(e,Ct,z=>n(39,c=z));function It(z){const tt=pr(z);(tt&&z.button===0||!tt)&&Nc.onPointerDown(z,{handleId:r,nodeId:U,isTarget:i,connectionRadius:B,domNode:O,nodeLookup:D,connectionMode:d,lib:M,autoPanOnConnect:H,flowId:P,isValidConnection:T??p,updateConnection:Ke,cancelConnection:Xe,panBy:Ne,onConnect:Re=>{const Te=k?k(Re):Re;Te&&(ze(Te),C==null||C(Re))},onConnectStart:(Re,Te)=>{g==null||g(Re,{nodeId:Te.nodeId,handleId:Te.handleId,handleType:Te.handleType})},onConnectEnd:(Re,Te)=>{_==null||_(Re,Te)},getTransform:()=>[y.x,y.y,y.zoom],getFromHandle:()=>c.fromHandle})}let lt=null,ct;return e.$$set=z=>{"id"in z&&n(0,b=z.id),"type"in z&&n(1,v=z.type),"position"in z&&n(2,S=z.position),"style"in z&&n(3,N=z.style),"isValidConnection"in z&&n(33,T=z.isValidConnection),"onconnect"in z&&n(34,I=z.onconnect),"ondisconnect"in z&&n(35,W=z.ondisconnect),"isConnectable"in z&&n(36,G=z.isConnectable),"class"in z&&n(4,Q=z.class),"$$scope"in z&&n(44,L=z.$$scope)},e.$$.update=()=>{var z,tt,Re,Te,tn,nn,on,rn,Et;if(e.$$.dirty[0]&2&&n(11,i=v==="target"),e.$$.dirty[1]&4128&&n(12,o=G!==void 0?G:A),e.$$.dirty[0]&1&&n(6,r=b||null),e.$$.dirty[0]&3|e.$$.dirty[1]&3096&&(I||W)&&n(38,ct=h.get(`${U}-${v}${b?`-${b}`:""}`)),e.$$.dirty[1]&216){if(lt&&!Zf(ct,lt)){const Vt=ct??new Map;fr(lt,Vt,W),fr(Vt,lt,I)}n(37,lt=ct??new Map)}e.$$.dirty[1]&256&&n(10,s=!!c.fromHandle),e.$$.dirty[0]&66|e.$$.dirty[1]&256&&n(9,l=((z=c.fromHandle)==null?void 0:z.nodeId)===U&&((tt=c.fromHandle)==null?void 0:tt.type)===v&&((Re=c.fromHandle)==null?void 0:Re.id)===r),e.$$.dirty[0]&66|e.$$.dirty[1]&256&&n(5,a=((Te=c.toHandle)==null?void 0:Te.nodeId)===U&&((tn=c.toHandle)==null?void 0:tn.type)===v&&((nn=c.toHandle)==null?void 0:nn.id)===r),e.$$.dirty[0]&66|e.$$.dirty[1]&768&&n(8,u=d===Tt.Strict?((on=c.fromHandle)==null?void 0:on.type)!==v:U!==((rn=c.fromHandle)==null?void 0:rn.nodeId)||r!==((Et=c.fromHandle)==null?void 0:Et.id)),e.$$.dirty[0]&32|e.$$.dirty[1]&256&&n(7,f=a&&c.isValid)},[b,v,S,N,Q,a,r,f,u,l,s,i,o,P,U,R,de,j,ke,x,ye,be,we,F,Me,et,We,bt,ee,vt,St,Ct,It,T,I,W,G,lt,ct,c,d,h,m,A,L,X]}class pt extends ge{constructor(t){super(),he(this,t,Lc,Yc,me,{id:0,type:1,position:2,style:3,isValidConnection:33,onconnect:34,ondisconnect:35,isConnectable:36,class:4},null,[-1,-1])}}function Wc(e){var a;let t,n,i=((a=e[0])==null?void 0:a.label)+"",o,r,s,l;return t=new pt({props:{type:"target",position:e[1]??ce.Top}}),s=new pt({props:{type:"source",position:e[2]??ce.Bottom}}),{c(){re(t.$$.fragment),n=ue(),o=pe(i),r=ue(),re(s.$$.fragment)},m(u,f){ne(t,u,f),Z(u,n,f),Z(u,o,f),Z(u,r,f),ne(s,u,f),l=!0},p(u,[f]){var h;const c={};f&2&&(c.position=u[1]??ce.Top),t.$set(c),(!l||f&1)&&i!==(i=((h=u[0])==null?void 0:h.label)+"")&&Pe(o,i);const d={};f&4&&(d.position=u[2]??ce.Bottom),s.$set(d)},i(u){l||(V(t.$$.fragment,u),V(s.$$.fragment,u),l=!0)},o(u){Y(t.$$.fragment,u),Y(s.$$.fragment,u),l=!1},d(u){u&&(K(n),K(o),K(r)),ie(t,u),ie(s,u)}}}function Bc(e,t,n){const i=["data","targetPosition","sourcePosition"];De(t,i);let{data:o={label:"Node"}}=t,{targetPosition:r=void 0}=t,{sourcePosition:s=void 0}=t;return e.$$set=l=>{t=_e(_e({},t),nt(l)),n(3,De(t,i)),"data"in l&&n(0,o=l.data),"targetPosition"in l&&n(1,r=l.targetPosition),"sourcePosition"in l&&n(2,s=l.sourcePosition)},[o,r,s]}class qr extends ge{constructor(t){super(),he(this,t,Bc,Wc,me,{data:0,targetPosition:1,sourcePosition:2})}}function Kc(e){var s;let t=((s=e[0])==null?void 0:s.label)+"",n,i,o,r;return o=new pt({props:{type:"source",position:e[1]??ce.Bottom}}),{c(){n=pe(t),i=ue(),re(o.$$.fragment)},m(l,a){Z(l,n,a),Z(l,i,a),ne(o,l,a),r=!0},p(l,[a]){var f;(!r||a&1)&&t!==(t=((f=l[0])==null?void 0:f.label)+"")&&Pe(n,t);const u={};a&2&&(u.position=l[1]??ce.Bottom),o.$set(u)},i(l){r||(V(o.$$.fragment,l),r=!0)},o(l){Y(o.$$.fragment,l),r=!1},d(l){l&&(K(n),K(i)),ie(o,l)}}}function Fc(e,t,n){const i=["data","sourcePosition"];De(t,i);let{data:o={label:"Node"}}=t,{sourcePosition:r=void 0}=t;return e.$$set=s=>{t=_e(_e({},t),nt(s)),n(2,De(t,i)),"data"in s&&n(0,o=s.data),"sourcePosition"in s&&n(1,r=s.sourcePosition)},[o,r]}class qc extends ge{constructor(t){super(),he(this,t,Fc,Kc,me,{data:0,sourcePosition:1})}}function Zc(e){var s;let t=((s=e[0])==null?void 0:s.label)+"",n,i,o,r;return o=new pt({props:{type:"target",position:e[1]??ce.Top}}),{c(){n=pe(t),i=ue(),re(o.$$.fragment)},m(l,a){Z(l,n,a),Z(l,i,a),ne(o,l,a),r=!0},p(l,[a]){var f;(!r||a&1)&&t!==(t=((f=l[0])==null?void 0:f.label)+"")&&Pe(n,t);const u={};a&2&&(u.position=l[1]??ce.Top),o.$set(u)},i(l){r||(V(o.$$.fragment,l),r=!0)},o(l){Y(o.$$.fragment,l),r=!1},d(l){l&&(K(n),K(i)),ie(o,l)}}}function Gc(e,t,n){const i=["data","targetPosition"];De(t,i);let{data:o={label:"Node"}}=t,{targetPosition:r=void 0}=t;return e.$$set=s=>{t=_e(_e({},t),nt(s)),n(2,De(t,i)),"data"in s&&n(0,o=s.data),"targetPosition"in s&&n(1,r=s.targetPosition)},[o,r]}class Uc extends ge{constructor(t){super(),he(this,t,Gc,Zc,me,{data:0,targetPosition:1})}}function Jc(e,t,n){const i=[];return De(t,i),e.$$set=o=>{t=_e(_e({},t),nt(o)),n(0,De(t,i))},[]}class Qc extends ge{constructor(t){super(),he(this,t,Jc,null,me,{})}}function Zr(e,t,n){if(!t)return;const i=n?t.querySelector(n):t;i&&i.appendChild(e)}function jc(e,{target:t,domNode:n}){return Zr(e,n,t),{async update({target:i,domNode:o}){Zr(e,o,i)},destroy(){e.parentNode&&e.parentNode.removeChild(e)}}}function xc(e){let t,n,i,o,r;const s=e[3].default,l=qe(s,e,e[2],null);return{c(){t=ae("div"),l&&l.c()},m(a,u){Z(a,t,u),l&&l.m(t,null),i=!0,o||(r=Be(n=jc.call(null,t,{target:".svelte-flow__edgelabel-renderer",domNode:e[0]})),o=!0)},p(a,[u]){l&&l.p&&(!i||u&4)&&Ge(l,s,a,a[2],i?Ze(s,a[2],u,null):Ue(a[2]),null),n&&Oe(n.update)&&u&1&&n.update.call(null,{target:".svelte-flow__edgelabel-renderer",domNode:a[0]})},i(a){i||(V(l,a),i=!0)},o(a){Y(l,a),i=!1},d(a){a&&K(t),l&&l.d(a),o=!1,r()}}}function $c(e,t,n){let i,{$$slots:o={},$$scope:r}=t;const{domNode:s}=Ie();return J(e,s,l=>n(0,i=l)),e.$$set=l=>{"$$scope"in l&&n(2,r=l.$$scope)},[i,s,r,o]}class ed extends ge{constructor(t){super(),he(this,t,$c,xc,me,{})}}function Gr(){const{edgeLookup:e,selectionRect:t,selectionRectMode:n,multiselectionKeyPressed:i,addSelectedEdges:o,unselectNodesAndEdges:r,elementsSelectable:s}=Ie();return l=>{const a=$(e).get(l);if(!a){console.warn("012",Dt.error012(l));return}(a.selectable||$(s)&&typeof a.selectable>"u")&&(t.set(null),n.set(null),a.selected?a.selected&&$(i)&&r({nodes:[],edges:[a]}):o([l]))}}function td(e){let t,n,i=`translate(-50%, -50%) translate(${e[1]}px,${e[2]}px)`,o,r,s;const l=e[5].default,a=qe(l,e,e[7],null);return{c(){t=ae("div"),a&&a.c(),w(t,"class","svelte-flow__edge-label"),w(t,"style",n="pointer-events: all;"+e[0]),w(t,"role","button"),w(t,"tabindex","-1"),le(t,"transform",i)},m(u,f){Z(u,t,f),a&&a.m(t,null),o=!0,r||(s=[Se(t,"keyup",id),Se(t,"click",e[6])],r=!0)},p(u,f){a&&a.p&&(!o||f&128)&&Ge(a,l,u,u[7],o?Ze(l,u[7],f,null):Ue(u[7]),null),(!o||f&1&&n!==(n="pointer-events: all;"+u[0]))&&w(t,"style",n);const c=f&1;(f&7&&i!==(i=`translate(-50%, -50%) translate(${u[1]}px,${u[2]}px)`)||c)&&le(t,"transform",i)},i(u){o||(V(a,u),o=!0)},o(u){Y(a,u),o=!1},d(u){u&&K(t),a&&a.d(u),r=!1,Ye(s)}}}function nd(e){let t,n;return t=new ed({props:{$$slots:{default:[td]},$$scope:{ctx:e}}}),{c(){re(t.$$.fragment)},m(i,o){ne(t,i,o),n=!0},p(i,[o]){const r={};o&135&&(r.$$scope={dirty:o,ctx:i}),t.$set(r)},i(i){n||(V(t.$$.fragment,i),n=!0)},o(i){Y(t.$$.fragment,i),n=!1},d(i){ie(t,i)}}}const id=()=>{};function od(e,t,n){let{$$slots:i={},$$scope:o}=t,{style:r=void 0}=t,{x:s=void 0}=t,{y:l=void 0}=t;const a=Gr(),u=Dn("svelteflow__edge_id"),f=()=>{u&&a(u)};return e.$$set=c=>{"style"in c&&n(0,r=c.style),"x"in c&&n(1,s=c.x),"y"in c&&n(2,l=c.y),"$$scope"in c&&n(7,o=c.$$scope)},[r,s,l,a,u,i,f,o]}class rd extends ge{constructor(t){super(),he(this,t,od,nd,me,{style:0,x:1,y:2})}}function ld(e){let t;return{c(){t=Ce("path"),w(t,"d",e[1]),w(t,"stroke-opacity",0),w(t,"stroke-width",e[10]),w(t,"fill","none"),w(t,"class","svelte-flow__edge-interaction")},m(n,i){Z(n,t,i)},p(n,i){i&2&&w(t,"d",n[1])},d(n){n&&K(t)}}}function Ur(e){let t,n;return t=new rd({props:{x:e[3],y:e[4],style:e[5],$$slots:{default:[sd]},$$scope:{ctx:e}}}),{c(){re(t.$$.fragment)},m(i,o){ne(t,i,o),n=!0},p(i,o){const r={};o&8&&(r.x=i[3]),o&16&&(r.y=i[4]),o&32&&(r.style=i[5]),o&4100&&(r.$$scope={dirty:o,ctx:i}),t.$set(r)},i(i){n||(V(t.$$.fragment,i),n=!0)},o(i){Y(t.$$.fragment,i),n=!1},d(i){ie(t,i)}}}function sd(e){let t;return{c(){t=pe(e[2])},m(n,i){Z(n,t,i)},p(n,i){i&4&&Pe(t,n[2])},d(n){n&&K(t)}}}function ad(e){let t,n,i,o,r,s,l=e[10]&&ld(e),a=e[2]&&Ur(e);return{c(){t=Ce("path"),i=ue(),l&&l.c(),o=ue(),a&&a.c(),r=Le(),w(t,"id",e[0]),w(t,"d",e[1]),w(t,"class",n=Ee(["svelte-flow__edge-path",e[9]])),w(t,"marker-start",e[6]),w(t,"marker-end",e[7]),w(t,"fill","none"),w(t,"style",e[8])},m(u,f){Z(u,t,f),Z(u,i,f),l&&l.m(u,f),Z(u,o,f),a&&a.m(u,f),Z(u,r,f),s=!0},p(u,[f]){(!s||f&1)&&w(t,"id",u[0]),(!s||f&2)&&w(t,"d",u[1]),(!s||f&512&&n!==(n=Ee(["svelte-flow__edge-path",u[9]])))&&w(t,"class",n),(!s||f&64)&&w(t,"marker-start",u[6]),(!s||f&128)&&w(t,"marker-end",u[7]),(!s||f&256)&&w(t,"style",u[8]),u[10]&&l.p(u,f),u[2]?a?(a.p(u,f),f&4&&V(a,1)):(a=Ur(u),a.c(),V(a,1),a.m(r.parentNode,r)):a&&(Ae(),Y(a,1,1,()=>{a=null}),He())},i(u){s||(V(a),s=!0)},o(u){Y(a),s=!1},d(u){u&&(K(t),K(i),K(o),K(r)),l&&l.d(u),a&&a.d(u)}}}function ud(e,t,n){let{id:i=void 0}=t,{path:o}=t,{label:r=void 0}=t,{labelX:s=void 0}=t,{labelY:l=void 0}=t,{labelStyle:a=void 0}=t,{markerStart:u=void 0}=t,{markerEnd:f=void 0}=t,{style:c=void 0}=t,{interactionWidth:d=20}=t,{class:h=void 0}=t,m=d===void 0?20:d;return e.$$set=y=>{"id"in y&&n(0,i=y.id),"path"in y&&n(1,o=y.path),"label"in y&&n(2,r=y.label),"labelX"in y&&n(3,s=y.labelX),"labelY"in y&&n(4,l=y.labelY),"labelStyle"in y&&n(5,a=y.labelStyle),"markerStart"in y&&n(6,u=y.markerStart),"markerEnd"in y&&n(7,f=y.markerEnd),"style"in y&&n(8,c=y.style),"interactionWidth"in y&&n(11,d=y.interactionWidth),"class"in y&&n(9,h=y.class)},[i,o,r,s,l,a,u,f,c,h,m,d]}class di extends ge{constructor(t){super(),he(this,t,ud,ad,me,{id:0,path:1,label:2,labelX:3,labelY:4,labelStyle:5,markerStart:6,markerEnd:7,style:8,interactionWidth:11,class:9})}}function fd(e){let t,n;return t=new di({props:{path:e[8],labelX:e[7],labelY:e[6],label:e[0],labelStyle:e[1],markerStart:e[3],markerEnd:e[4],interactionWidth:e[5],style:e[2]}}),{c(){re(t.$$.fragment)},m(i,o){ne(t,i,o),n=!0},p(i,[o]){const r={};o&256&&(r.path=i[8]),o&128&&(r.labelX=i[7]),o&64&&(r.labelY=i[6]),o&1&&(r.label=i[0]),o&2&&(r.labelStyle=i[1]),o&8&&(r.markerStart=i[3]),o&16&&(r.markerEnd=i[4]),o&32&&(r.interactionWidth=i[5]),o&4&&(r.style=i[2]),t.$set(r)},i(i){n||(V(t.$$.fragment,i),n=!0)},o(i){Y(t.$$.fragment,i),n=!1},d(i){ie(t,i)}}}function cd(e,t,n){let i,o,r;const s=["label","labelStyle","style","markerStart","markerEnd","interactionWidth","sourceX","sourceY","sourcePosition","targetX","targetY","targetPosition"];De(t,s);let{label:l=void 0}=t,{labelStyle:a=void 0}=t,{style:u=void 0}=t,{markerStart:f=void 0}=t,{markerEnd:c=void 0}=t,{interactionWidth:d=void 0}=t,{sourceX:h}=t,{sourceY:m}=t,{sourcePosition:y}=t,{targetX:_}=t,{targetY:g}=t,{targetPosition:C}=t;return e.$$set=k=>{t=_e(_e({},t),nt(k)),n(15,De(t,s)),"label"in k&&n(0,l=k.label),"labelStyle"in k&&n(1,a=k.labelStyle),"style"in k&&n(2,u=k.style),"markerStart"in k&&n(3,f=k.markerStart),"markerEnd"in k&&n(4,c=k.markerEnd),"interactionWidth"in k&&n(5,d=k.interactionWidth),"sourceX"in k&&n(9,h=k.sourceX),"sourceY"in k&&n(10,m=k.sourceY),"sourcePosition"in k&&n(11,y=k.sourcePosition),"targetX"in k&&n(12,_=k.targetX),"targetY"in k&&n(13,g=k.targetY),"targetPosition"in k&&n(14,C=k.targetPosition)},e.$$.update=()=>{e.$$.dirty&32256&&n(8,[i,o,r]=Cr({sourceX:h,sourceY:m,targetX:_,targetY:g,sourcePosition:y,targetPosition:C}),i,(n(7,o),n(9,h),n(10,m),n(12,_),n(13,g),n(11,y),n(14,C)),(n(6,r),n(9,h),n(10,m),n(12,_),n(13,g),n(11,y),n(14,C)))},[l,a,u,f,c,d,r,o,i,h,m,y,_,g,C]}class Jr extends ge{constructor(t){super(),he(this,t,cd,fd,me,{label:0,labelStyle:1,style:2,markerStart:3,markerEnd:4,interactionWidth:5,sourceX:9,sourceY:10,sourcePosition:11,targetX:12,targetY:13,targetPosition:14})}}function dd(e){let t,n;return t=new di({props:{path:e[8],labelX:e[7],labelY:e[6],label:e[0],labelStyle:e[1],markerStart:e[3],markerEnd:e[4],interactionWidth:e[5],style:e[2]}}),{c(){re(t.$$.fragment)},m(i,o){ne(t,i,o),n=!0},p(i,[o]){const r={};o&256&&(r.path=i[8]),o&128&&(r.labelX=i[7]),o&64&&(r.labelY=i[6]),o&1&&(r.label=i[0]),o&2&&(r.labelStyle=i[1]),o&8&&(r.markerStart=i[3]),o&16&&(r.markerEnd=i[4]),o&32&&(r.interactionWidth=i[5]),o&4&&(r.style=i[2]),t.$set(r)},i(i){n||(V(t.$$.fragment,i),n=!0)},o(i){Y(t.$$.fragment,i),n=!1},d(i){ie(t,i)}}}function hd(e,t,n){let i,o,r;const s=["label","labelStyle","style","markerStart","markerEnd","interactionWidth","sourceX","sourceY","sourcePosition","targetX","targetY","targetPosition"];De(t,s);let{label:l=void 0}=t,{labelStyle:a=void 0}=t,{style:u=void 0}=t,{markerStart:f=void 0}=t,{markerEnd:c=void 0}=t,{interactionWidth:d=void 0}=t,{sourceX:h}=t,{sourceY:m}=t,{sourcePosition:y}=t,{targetX:_}=t,{targetY:g}=t,{targetPosition:C}=t;return e.$$set=k=>{t=_e(_e({},t),nt(k)),n(15,De(t,s)),"label"in k&&n(0,l=k.label),"labelStyle"in k&&n(1,a=k.labelStyle),"style"in k&&n(2,u=k.style),"markerStart"in k&&n(3,f=k.markerStart),"markerEnd"in k&&n(4,c=k.markerEnd),"interactionWidth"in k&&n(5,d=k.interactionWidth),"sourceX"in k&&n(9,h=k.sourceX),"sourceY"in k&&n(10,m=k.sourceY),"sourcePosition"in k&&n(11,y=k.sourcePosition),"targetX"in k&&n(12,_=k.targetX),"targetY"in k&&n(13,g=k.targetY),"targetPosition"in k&&n(14,C=k.targetPosition)},e.$$.update=()=>{e.$$.dirty&32256&&n(8,[i,o,r]=fi({sourceX:h,sourceY:m,targetX:_,targetY:g,sourcePosition:y,targetPosition:C}),i,(n(7,o),n(9,h),n(10,m),n(12,_),n(13,g),n(11,y),n(14,C)),(n(6,r),n(9,h),n(10,m),n(12,_),n(13,g),n(11,y),n(14,C)))},[l,a,u,f,c,d,r,o,i,h,m,y,_,g,C]}class gd extends ge{constructor(t){super(),he(this,t,hd,dd,me,{label:0,labelStyle:1,style:2,markerStart:3,markerEnd:4,interactionWidth:5,sourceX:9,sourceY:10,sourcePosition:11,targetX:12,targetY:13,targetPosition:14})}}function md(e){let t,n;return t=new di({props:{path:e[8],labelX:e[7],labelY:e[6],label:e[0],labelStyle:e[1],markerStart:e[3],markerEnd:e[4],interactionWidth:e[5],style:e[2]}}),{c(){re(t.$$.fragment)},m(i,o){ne(t,i,o),n=!0},p(i,[o]){const r={};o&256&&(r.path=i[8]),o&128&&(r.labelX=i[7]),o&64&&(r.labelY=i[6]),o&1&&(r.label=i[0]),o&2&&(r.labelStyle=i[1]),o&8&&(r.markerStart=i[3]),o&16&&(r.markerEnd=i[4]),o&32&&(r.interactionWidth=i[5]),o&4&&(r.style=i[2]),t.$set(r)},i(i){n||(V(t.$$.fragment,i),n=!0)},o(i){Y(t.$$.fragment,i),n=!1},d(i){ie(t,i)}}}function yd(e,t,n){let i,o,r;const s=["label","labelStyle","style","markerStart","markerEnd","interactionWidth","sourceX","sourceY","targetX","targetY"];De(t,s);let{label:l=void 0}=t,{labelStyle:a=void 0}=t,{style:u=void 0}=t,{markerStart:f=void 0}=t,{markerEnd:c=void 0}=t,{interactionWidth:d=void 0}=t,{sourceX:h}=t,{sourceY:m}=t,{targetX:y}=t,{targetY:_}=t;return e.$$set=g=>{t=_e(_e({},t),nt(g)),n(13,De(t,s)),"label"in g&&n(0,l=g.label),"labelStyle"in g&&n(1,a=g.labelStyle),"style"in g&&n(2,u=g.style),"markerStart"in g&&n(3,f=g.markerStart),"markerEnd"in g&&n(4,c=g.markerEnd),"interactionWidth"in g&&n(5,d=g.interactionWidth),"sourceX"in g&&n(9,h=g.sourceX),"sourceY"in g&&n(10,m=g.sourceY),"targetX"in g&&n(11,y=g.targetX),"targetY"in g&&n(12,_=g.targetY)},e.$$.update=()=>{e.$$.dirty&7680&&n(8,[i,o,r]=Mr({sourceX:h,sourceY:m,targetX:y,targetY:_}),i,(n(7,o),n(9,h),n(10,m),n(11,y),n(12,_)),(n(6,r),n(9,h),n(10,m),n(11,y),n(12,_)))},[l,a,u,f,c,d,r,o,i,h,m,y,_]}class _d extends ge{constructor(t){super(),he(this,t,yd,md,me,{label:0,labelStyle:1,style:2,markerStart:3,markerEnd:4,interactionWidth:5,sourceX:9,sourceY:10,targetX:11,targetY:12})}}function bd(e){let t,n;return t=new di({props:{path:e[8],labelX:e[7],labelY:e[6],label:e[0],labelStyle:e[1],markerStart:e[3],markerEnd:e[4],interactionWidth:e[5],style:e[2]}}),{c(){re(t.$$.fragment)},m(i,o){ne(t,i,o),n=!0},p(i,[o]){const r={};o&256&&(r.path=i[8]),o&128&&(r.labelX=i[7]),o&64&&(r.labelY=i[6]),o&1&&(r.label=i[0]),o&2&&(r.labelStyle=i[1]),o&8&&(r.markerStart=i[3]),o&16&&(r.markerEnd=i[4]),o&32&&(r.interactionWidth=i[5]),o&4&&(r.style=i[2]),t.$set(r)},i(i){n||(V(t.$$.fragment,i),n=!0)},o(i){Y(t.$$.fragment,i),n=!1},d(i){ie(t,i)}}}function wd(e,t,n){let i,o,r;const s=["label","labelStyle","style","markerStart","markerEnd","interactionWidth","sourceX","sourceY","sourcePosition","targetX","targetY","targetPosition"];De(t,s);let{label:l=void 0}=t,{labelStyle:a=void 0}=t,{style:u=void 0}=t,{markerStart:f=void 0}=t,{markerEnd:c=void 0}=t,{interactionWidth:d=void 0}=t,{sourceX:h}=t,{sourceY:m}=t,{sourcePosition:y}=t,{targetX:_}=t,{targetY:g}=t,{targetPosition:C}=t;return e.$$set=k=>{t=_e(_e({},t),nt(k)),n(15,De(t,s)),"label"in k&&n(0,l=k.label),"labelStyle"in k&&n(1,a=k.labelStyle),"style"in k&&n(2,u=k.style),"markerStart"in k&&n(3,f=k.markerStart),"markerEnd"in k&&n(4,c=k.markerEnd),"interactionWidth"in k&&n(5,d=k.interactionWidth),"sourceX"in k&&n(9,h=k.sourceX),"sourceY"in k&&n(10,m=k.sourceY),"sourcePosition"in k&&n(11,y=k.sourcePosition),"targetX"in k&&n(12,_=k.targetX),"targetY"in k&&n(13,g=k.targetY),"targetPosition"in k&&n(14,C=k.targetPosition)},e.$$.update=()=>{e.$$.dirty&32256&&n(8,[i,o,r]=fi({sourceX:h,sourceY:m,targetX:_,targetY:g,sourcePosition:y,targetPosition:C,borderRadius:0}),i,(n(7,o),n(9,h),n(10,m),n(12,_),n(13,g),n(11,y),n(14,C)),(n(6,r),n(9,h),n(10,m),n(12,_),n(13,g),n(11,y),n(14,C)))},[l,a,u,f,c,d,r,o,i,h,m,y,_,g,C]}class kd extends ge{constructor(t){super(),he(this,t,wd,bd,me,{label:0,labelStyle:1,style:2,markerStart:3,markerEnd:4,interactionWidth:5,sourceX:9,sourceY:10,sourcePosition:11,targetX:12,targetY:13,targetPosition:14})}}function pd(e,t){const n=e.set,i=t.set,o=$(e),r=$(t);let l=o.length===0&&r.length>0?r:o;e.set(l);const a=u=>{const f=n(u);return l=f,i(l),f};e.set=t.set=a,e.update=t.update=u=>a(u(l))}function vd(e,t){const n=e.set,i=t.set;let o=$(t);e.set(o);const r=s=>{n(s),i(s),o=s};e.set=t.set=r,e.update=t.update=s=>r(s(o))}const Sd=(e,t,n)=>{if(!n)return;const i=$(e),o=t.set,r=n.set;let s=n?$(n):{x:0,y:0,zoom:1};t.set(s),t.set=l=>(o(l),r(l),s=l,l),n.set=l=>(i==null||i.syncViewport(l),o(l),r(l),s=l,l),t.update=l=>{t.set(l(s))},n.update=l=>{n.set(l(s))}},Cd=(e,t,n,i=[0,0],o=ni,r,s,l,a,u,f,c,d)=>{const{subscribe:h,set:m,update:y}=oe([]);let _=e,g={},C=!0;const k=M=>{const D=Tr(M,t,n,{elevateNodesOnSelect:C,nodeOrigin:i,nodeExtent:o,defaults:g,checkEquality:!1});return $(r)&&D&&$(a)&&(Jf({nodes:t,width:$(u),height:$(f),panZoom:$(a),minZoom:$(c),maxZoom:$(d)},$(s)).then(B=>{var A;(A=$(l))==null||A.resolve(B),l.set(null)}),r.set(!1),s.set(void 0)),_=M,m(_),_},p=M=>k(M(_)),P=M=>{g=M},H=M=>{C=M.elevateNodesOnSelect??C};return k(_),{subscribe:h,set:k,update:p,setDefaultOptions:P,setOptions:H}},Ed=(e,t,n,i)=>{const{subscribe:o,set:r,update:s}=oe([]);let l=e,a={};const u=d=>{const h=a?d.map(m=>({...a,...m})):d;Ir(t,n,h),l=h,r(l)},f=d=>u(d(l)),c=d=>{a=d};return u(l),{subscribe:o,set:u,update:f,setDefaultOptions:c}},Qr={input:qc,output:Uc,default:qr,group:Qc},jr={straight:_d,smoothstep:gd,default:Jr,step:kd},Md=({nodes:e=[],edges:t=[],width:n,height:i,fitView:o,nodeOrigin:r,nodeExtent:s})=>{const l=new Map,a=new Map,u=new Map,f=new Map,c=r??[0,0],d=s??ni;Tr(e,l,a,{nodeExtent:d,nodeOrigin:c,elevateNodesOnSelect:!1,checkEquality:!1}),Ir(u,f,t);let h={x:0,y:0,zoom:1};if(o&&n&&i){const H=Cn(l,{filter:M=>!!((M.width||M.initialWidth)&&(M.height||M.initialHeight))});h=wr(H,n,i,.5,2,.1)}const m=oe(!1),y=oe(void 0),_=oe(null),g=oe(null),C=oe(500),k=oe(500),p=oe(.5),P=oe(2);return{flowId:oe(null),nodes:Cd(e,l,a,c,d,m,y,_,g,C,k,p,P),nodeLookup:xe(l),parentLookup:xe(a),edgeLookup:xe(f),visibleNodes:xe([]),edges:Ed(t,u,f),visibleEdges:xe([]),connectionLookup:xe(u),width:C,height:k,minZoom:p,maxZoom:P,nodeOrigin:oe(c),nodeDragThreshold:oe(1),nodeExtent:oe(d),translateExtent:oe(ni),autoPanOnNodeDrag:oe(!0),autoPanOnConnect:oe(!0),fitViewQueued:m,fitViewOptions:y,fitViewResolver:_,panZoom:g,snapGrid:oe(null),dragging:oe(!1),selectionRect:oe(null),selectionKeyPressed:oe(!1),multiselectionKeyPressed:oe(!1),deleteKeyPressed:oe(!1),panActivationKeyPressed:oe(!1),zoomActivationKeyPressed:oe(!1),selectionRectMode:oe(null),selectionMode:oe(ii.Partial),nodeTypes:oe(Qr),edgeTypes:oe(jr),viewport:oe(h),connectionMode:oe(Tt.Strict),domNode:oe(null),connection:xe(Ri),connectionLineType:oe(Qt.Bezier),connectionRadius:oe(20),isValidConnection:oe(()=>!0),nodesDraggable:oe(!0),nodesConnectable:oe(!0),elementsSelectable:oe(!0),selectNodesOnDrag:oe(!0),markers:xe([]),defaultMarkerColor:oe("#b1b1b7"),lib:xe("svelte"),onlyRenderVisibleElements:oe(!1),onerror:oe(br),ondelete:oe(void 0),onedgecreate:oe(void 0),onconnect:oe(void 0),onconnectstart:oe(void 0),onconnectend:oe(void 0),onbeforedelete:oe(void 0),nodesInitialized:oe(!1),edgesInitialized:oe(!1),viewportInitialized:oe(!1),initialized:xe(!1)}};function zd(e){const t=qt([e.edges,e.nodes,e.nodeLookup,e.onlyRenderVisibleElements,e.viewport,e.width,e.height],([n,,i,o,r,s,l])=>o&&s&&l?n.filter(u=>{const f=i.get(u.source),c=i.get(u.target);return f&&c&&lc({sourceNode:f,targetNode:c,width:s,height:l,transform:[r.x,r.y,r.zoom]})}):n);return qt([t,e.nodes,e.nodeLookup,e.connectionMode,e.onerror],([n,,i,o,r])=>n.reduce((l,a)=>{const u=i.get(a.source),f=i.get(a.target);if(!u||!f)return l;const c=hc({id:a.id,sourceNode:u,targetNode:f,sourceHandle:a.sourceHandle||null,targetHandle:a.targetHandle||null,connectionMode:o,onError:r});return c&&l.push({...a,zIndex:rc({selected:a.selected,zIndex:a.zIndex,sourceNode:u,targetNode:f,elevateOnSelect:!1}),...c}),l},[]))}function Pd(e){return qt([e.nodeLookup,e.onlyRenderVisibleElements,e.width,e.height,e.viewport,e.nodes],([t,n,i,o,r])=>{const s=[r.x,r.y,r.zoom];return n?hr(t,{x:0,y:0,width:i,height:o},s,!0):Array.from(t.values())})}const eo=Symbol();function Nd({nodes:e,edges:t,width:n,height:i,fitView:o,nodeOrigin:r,nodeExtent:s}){const l=Md({nodes:e,edges:t,width:n,height:i,fitView:o,nodeOrigin:r,nodeExtent:s});function a(v){l.nodeTypes.set({...Qr,...v})}function u(v){l.edgeTypes.set({...jr,...v})}function f(v){const S=$(l.edges);l.edges.set(uc(v,S))}const c=(v,S=!1)=>{var T;const N=$(l.nodeLookup);for(const[I,W]of v){const G=(T=N.get(I))==null?void 0:T.internals.userNode;G&&(G.position=W.position,G.dragging=S)}l.nodes.update(I=>I)};function d(v){var W,G,Q;const S=$(l.nodeLookup),N=$(l.parentLookup),{changes:T,updatedInternals:I}=kc(v,S,$(l.parentLookup),$(l.domNode),$(l.nodeOrigin));if(I){yc(S,N,{nodeOrigin:r,nodeExtent:s});for(const U of T){const R=(W=S.get(U.id))==null?void 0:W.internals.userNode;if(R)switch(U.type){case"dimensions":{const te={...R.measured,...U.dimensions};U.setAttributes&&(R.width=((G=U.dimensions)==null?void 0:G.width)??R.width,R.height=((Q=U.dimensions)==null?void 0:Q.height)??R.height),R.measured=te;break}case"position":R.position=U.position??R.position;break}}l.nodes.update(U=>U),$(l.nodesInitialized)||l.nodesInitialized.set(!0)}}function h(v){const S=$(l.fitViewResolver)??ec();return l.fitViewQueued.set(!0),l.fitViewOptions.set(v),l.fitViewResolver.set(S),l.nodes.set($(l.nodes)),S.promise}function m(v,S){const N=$(l.panZoom);return N?N.scaleBy(v,S):Promise.resolve(!1)}function y(v){return m(1.2,v)}function _(v){return m(.8333333333333334,v)}function g(v){const S=$(l.panZoom);S&&(S.setScaleExtent([v,$(l.maxZoom)]),l.minZoom.set(v))}function C(v){const S=$(l.panZoom);S&&(S.setScaleExtent([$(l.minZoom),v]),l.maxZoom.set(v))}function k(v){const S=$(l.panZoom);S&&(S.setTranslateExtent(v),l.translateExtent.set(v))}function p(v){let S=!1;return v.forEach(N=>{N.selected&&(N.selected=!1,S=!0)}),S}function P(v){var S;(S=$(l.panZoom))==null||S.setClickDistance(v)}function H(v){p((v==null?void 0:v.nodes)||$(l.nodes))&&l.nodes.set($(l.nodes)),p((v==null?void 0:v.edges)||$(l.edges))&&l.edges.set($(l.edges))}l.deleteKeyPressed.subscribe(async v=>{var S;if(v){const N=$(l.nodes),T=$(l.edges),I=N.filter(U=>U.selected),W=T.filter(U=>U.selected),{nodes:G,edges:Q}=await jf({nodesToRemove:I,edgesToRemove:W,nodes:N,edges:T,onBeforeDelete:$(l.onbeforedelete)});(G.length||Q.length)&&(l.nodes.update(U=>U.filter(R=>!G.some(te=>te.id===R.id))),l.edges.update(U=>U.filter(R=>!Q.some(te=>te.id===R.id))),(S=$(l.ondelete))==null||S({nodes:G,edges:Q}))}});function M(v){const S=$(l.multiselectionKeyPressed);l.nodes.update(N=>N.map(T=>{const I=v.includes(T.id),W=S&&T.selected||I;return T.selected=W,T})),S||l.edges.update(N=>N.map(T=>(T.selected=!1,T)))}function D(v){const S=$(l.multiselectionKeyPressed);l.edges.update(N=>N.map(T=>{const I=v.includes(T.id),W=S&&T.selected||I;return T.selected=W,T})),S||l.nodes.update(N=>N.map(T=>(T.selected=!1,T)))}function O(v){var N;const S=(N=$(l.nodes))==null?void 0:N.find(T=>T.id===v);if(!S){console.warn("012",Dt.error012(v));return}l.selectionRect.set(null),l.selectionRectMode.set(null),S.selected?S.selected&&$(l.multiselectionKeyPressed)&&H({nodes:[S],edges:[]}):M([v])}function B(v){const S=$(l.viewport);return pc({delta:v,panZoom:$(l.panZoom),transform:[S.x,S.y,S.zoom],translateExtent:$(l.translateExtent),width:$(l.width),height:$(l.height)})}const A=oe(Ri),X=v=>{A.set({...v})};function L(){A.set(Ri)}function b(){l.selectionRect.set(null),l.selectionRectMode.set(null),l.snapGrid.set(null),l.isValidConnection.set(()=>!0),H(),L()}return{...l,visibleEdges:zd(l),visibleNodes:Pd(l),connection:qt([A,l.viewport],([v,S])=>v.inProgress?{...v,to:li(v.to,[S.x,S.y,S.zoom])}:{...v}),markers:qt([l.edges,l.defaultMarkerColor,l.flowId],([v,S,N])=>gc(v,{defaultColor:S,id:N})),initialized:(()=>{let v=!1;const S=$(l.nodes).length,N=$(l.edges).length;return qt([l.nodesInitialized,l.edgesInitialized,l.viewportInitialized],([T,I,W])=>v||(S===0?v=W:N===0?v=W&&T:v=W&&T&&I,v))})(),syncNodeStores:v=>pd(l.nodes,v),syncEdgeStores:v=>vd(l.edges,v),syncViewport:v=>Sd(l.panZoom,l.viewport,v),setNodeTypes:a,setEdgeTypes:u,addEdge:f,updateNodePositions:c,updateNodeInternals:d,zoomIn:y,zoomOut:_,fitView:v=>h(v),setMinZoom:g,setMaxZoom:C,setTranslateExtent:k,setPaneClickDistance:P,unselectNodesAndEdges:H,addSelectedNodes:M,addSelectedEdges:D,handleNodeSelection:O,panBy:B,updateConnection:X,cancelConnection:L,reset:b}}function Ie(){const e=Dn(eo);if(!e)throw new Error("In order to use useStore you need to wrap your component in a <SvelteFlowProvider />");return e.getStore()}function Od({nodes:e,edges:t,width:n,height:i,fitView:o,nodeOrigin:r,nodeExtent:s}){const l=Nd({nodes:e,edges:t,width:n,height:i,fitView:o,nodeOrigin:r,nodeExtent:s});return On(eo,{getStore:()=>l}),l}function Dd(e,t){const{panZoom:n,minZoom:i,maxZoom:o,initialViewport:r,viewport:s,dragging:l,translateExtent:a,paneClickDistance:u}=t,f=Xc({domNode:e,minZoom:i,maxZoom:o,translateExtent:a,viewport:r,paneClickDistance:u,onDraggingChange:l.set}),c=f.getViewport();return s.set(c),n.set(f),f.update(t),{update(d){f.update(d)}}}function Td(e){let t,n,i,o,r;const s=e[35].default,l=qe(s,e,e[34],null);return{c(){t=ae("div"),l&&l.c(),w(t,"class","svelte-flow__zoom svelte-4xkw84")},m(a,u){Z(a,t,u),l&&l.m(t,null),i=!0,o||(r=Be(n=Dd.call(null,t,{viewport:e[18],minZoom:e[12],maxZoom:e[13],initialViewport:e[11],dragging:e[23],panZoom:e[19],onPanZoomStart:e[0],onPanZoom:e[1],onPanZoomEnd:e[2],zoomOnScroll:e[5],zoomOnDoubleClick:e[6],zoomOnPinch:e[7],panOnScroll:e[9],panOnDrag:e[10],panOnScrollSpeed:.5,panOnScrollMode:e[3]||ut.Free,zoomActivationKeyPressed:e[14],preventScrolling:typeof e[4]=="boolean"?e[4]:!0,noPanClassName:"nopan",noWheelClassName:"nowheel",userSelectionActive:!!e[15],translateExtent:e[16],lib:e[17],paneClickDistance:e[8],onTransformChange:e[29]})),o=!0)},p(a,u){l&&l.p&&(!i||u[1]&8)&&Ge(l,s,a,a[34],i?Ze(s,a[34],u,null):Ue(a[34]),null),n&&Oe(n.update)&&u[0]&262143&&n.update.call(null,{viewport:a[18],minZoom:a[12],maxZoom:a[13],initialViewport:a[11],dragging:a[23],panZoom:a[19],onPanZoomStart:a[0],onPanZoom:a[1],onPanZoomEnd:a[2],zoomOnScroll:a[5],zoomOnDoubleClick:a[6],zoomOnPinch:a[7],panOnScroll:a[9],panOnDrag:a[10],panOnScrollSpeed:.5,panOnScrollMode:a[3]||ut.Free,zoomActivationKeyPressed:a[14],preventScrolling:typeof a[4]=="boolean"?a[4]:!0,noPanClassName:"nopan",noWheelClassName:"nowheel",userSelectionActive:!!a[15],translateExtent:a[16],lib:a[17],paneClickDistance:a[8],onTransformChange:a[29]})},i(a){i||(V(l,a),i=!0)},o(a){Y(l,a),i=!1},d(a){a&&K(t),l&&l.d(a),o=!1,r()}}}function Ad(e,t,n){let i,o,r,s,l,a,u,f,c,d,h,{$$slots:m={},$$scope:y}=t,{initialViewport:_=void 0}=t,{onMoveStart:g=void 0}=t,{onMove:C=void 0}=t,{onMoveEnd:k=void 0}=t,{panOnScrollMode:p}=t,{preventScrolling:P}=t,{zoomOnScroll:H}=t,{zoomOnDoubleClick:M}=t,{zoomOnPinch:D}=t,{panOnDrag:O}=t,{panOnScroll:B}=t,{paneClickDistance:A}=t;const{viewport:X,panZoom:L,selectionRect:b,minZoom:v,maxZoom:S,dragging:N,translateExtent:T,lib:I,panActivationKeyPressed:W,zoomActivationKeyPressed:G,viewportInitialized:Q}=Ie();J(e,b,R=>n(15,c=R)),J(e,v,R=>n(12,a=R)),J(e,S,R=>n(13,u=R)),J(e,T,R=>n(16,d=R)),J(e,I,R=>n(17,h=R)),J(e,W,R=>n(33,l=R)),J(e,G,R=>n(14,f=R)),J(e,Q,R=>n(36,s=R));const U=R=>X.set({x:R[0],y:R[1],zoom:R[2]});return Nn(()=>{Mn(Q,s=!0,s)}),e.$$set=R=>{"initialViewport"in R&&n(30,_=R.initialViewport),"onMoveStart"in R&&n(0,g=R.onMoveStart),"onMove"in R&&n(1,C=R.onMove),"onMoveEnd"in R&&n(2,k=R.onMoveEnd),"panOnScrollMode"in R&&n(3,p=R.panOnScrollMode),"preventScrolling"in R&&n(4,P=R.preventScrolling),"zoomOnScroll"in R&&n(5,H=R.zoomOnScroll),"zoomOnDoubleClick"in R&&n(6,M=R.zoomOnDoubleClick),"zoomOnPinch"in R&&n(7,D=R.zoomOnPinch),"panOnDrag"in R&&n(31,O=R.panOnDrag),"panOnScroll"in R&&n(32,B=R.panOnScroll),"paneClickDistance"in R&&n(8,A=R.paneClickDistance),"$$scope"in R&&n(34,y=R.$$scope)},e.$$.update=()=>{e.$$.dirty[0]&1073741824&&n(11,i=_||{x:0,y:0,zoom:1}),e.$$.dirty[1]&5&&n(10,o=l||O),e.$$.dirty[1]&6&&n(9,r=l||B)},[g,C,k,p,P,H,M,D,A,r,o,i,a,u,f,c,d,h,X,L,b,v,S,N,T,I,W,G,Q,U,_,O,B,l,y,m]}class Hd extends ge{constructor(t){super(),he(this,t,Ad,Td,me,{initialViewport:30,onMoveStart:0,onMove:1,onMoveEnd:2,panOnScrollMode:3,preventScrolling:4,zoomOnScroll:5,zoomOnDoubleClick:6,zoomOnPinch:7,panOnDrag:31,panOnScroll:32,paneClickDistance:8},null,[-1,-1])}}function Id(e){let t,n,i,o;const r=e[29].default,s=qe(r,e,e[28],null);return{c(){t=ae("div"),s&&s.c(),w(t,"class","svelte-flow__pane svelte-1esy7hx"),se(t,"draggable",e[0]===!0||Array.isArray(e[0])&&e[0].includes(0)),se(t,"dragging",e[4]),se(t,"selection",e[1])},m(l,a){Z(l,t,a),s&&s.m(t,null),e[30](t),n=!0,i||(o=[Se(t,"click",function(){Oe(e[3]?void 0:hi(e[16],e[2]))&&(e[3]?void 0:hi(e[16],e[2])).apply(this,arguments)}),Se(t,"pointerdown",function(){Oe(e[3]?e[17]:void 0)&&(e[3]?e[17]:void 0).apply(this,arguments)}),Se(t,"pointermove",function(){Oe(e[3]?e[18]:void 0)&&(e[3]?e[18]:void 0).apply(this,arguments)}),Se(t,"pointerup",function(){Oe(e[3]?e[19]:void 0)&&(e[3]?e[19]:void 0).apply(this,arguments)}),Se(t,"contextmenu",function(){Oe(hi(e[20],e[2]))&&hi(e[20],e[2]).apply(this,arguments)})],i=!0)},p(l,a){e=l,s&&s.p&&(!n||a[0]&268435456)&&Ge(s,r,e,e[28],n?Ze(r,e[28],a,null):Ue(e[28]),null),(!n||a[0]&1)&&se(t,"draggable",e[0]===!0||Array.isArray(e[0])&&e[0].includes(0)),(!n||a[0]&16)&&se(t,"dragging",e[4]),(!n||a[0]&2)&&se(t,"selection",e[1])},i(l){n||(V(s,l),n=!0)},o(l){Y(s,l),n=!1},d(l){l&&K(t),s&&s.d(l),e[30](null),i=!1,Ye(o)}}}function hi(e,t){return n=>{n.target===t&&(e==null||e(n))}}function xr(e){return t=>{const n=e.includes(t.id);return t.selected!==n&&(t.selected=n),t}}function Vd(e,t,n){let i,o,r,s,l,a,u,f,c,d,h,m,y,_,{$$slots:g={},$$scope:C}=t,{panOnDrag:k=void 0}=t,{selectionOnDrag:p=void 0}=t;const P=Yt(),{nodes:H,nodeLookup:M,edges:D,viewport:O,dragging:B,elementsSelectable:A,selectionRect:X,selectionRectMode:L,selectionKeyPressed:b,selectionMode:v,panActivationKeyPressed:S,unselectNodesAndEdges:N,connection:T}=Ie();J(e,M,x=>n(37,c=x)),J(e,D,x=>n(34,a=x)),J(e,O,x=>n(36,f=x)),J(e,B,x=>n(4,_=x)),J(e,A,x=>n(26,m=x)),J(e,X,x=>n(25,d=x)),J(e,L,x=>n(24,l=x)),J(e,b,x=>n(23,s=x)),J(e,v,x=>n(35,u=x)),J(e,S,x=>n(27,y=x)),J(e,T,x=>n(38,h=x));let I,W=null,G=[],Q=!1;function U(x){if(Q||h.inProgress){Q=!1;return}P("paneclick",{event:x}),N(),L.set(null)}function R(x){var we,ze;if(W=I.getBoundingClientRect(),!A||!o||x.button!==0||x.target!==I||!W)return;(ze=(we=x.target)==null?void 0:we.setPointerCapture)==null||ze.call(we,x.pointerId);const{x:ye,y:be}=yt(x,W);N(),X.set({width:0,height:0,startX:ye,startY:be,x:ye,y:be})}function te(x){if(!o||!W||!d)return;Q=!0;const ye=yt(x,W),be=d.startX??0,we=d.startY??0,ze={...d,x:ye.x<be?ye.x:be,y:ye.y<we?ye.y:we,width:Math.abs(ye.x-be),height:Math.abs(ye.y-we)},F=G.map(Me=>Me.id),Ne=Xi(G,a).map(Me=>Me.id);G=hr(c,ze,[f.x,f.y,f.zoom],u===ii.Partial,!0);const Xe=Xi(G,a).map(Me=>Me.id),Ke=G.map(Me=>Me.id);(F.length!==Ke.length||Ke.some(Me=>!F.includes(Me)))&&H.update(Me=>Me.map(xr(Ke))),(Ne.length!==Xe.length||Xe.some(Me=>!Ne.includes(Me)))&&D.update(Me=>Me.map(xr(Xe))),L.set("user"),X.set(ze)}function de(x){var ye,be;x.button===0&&((be=(ye=x.target)==null?void 0:ye.releasePointerCapture)==null||be.call(ye,x.pointerId),!o&&l==="user"&&x.target===I&&(U==null||U(x)),X.set(null),G.length>0&&Mn(L,l="nodes",l),s&&(Q=!1))}const j=x=>{if(Array.isArray(i)&&(i!=null&&i.includes(2))){x.preventDefault();return}P("panecontextmenu",{event:x})};function ke(x){cn[x?"unshift":"push"](()=>{I=x,n(2,I)})}return e.$$set=x=>{"panOnDrag"in x&&n(0,k=x.panOnDrag),"selectionOnDrag"in x&&n(21,p=x.selectionOnDrag),"$$scope"in x&&n(28,C=x.$$scope)},e.$$.update=()=>{e.$$.dirty[0]&134217729&&n(22,i=y||k),e.$$.dirty[0]&48234496&&n(1,o=s||d||p&&i!==!0),e.$$.dirty[0]&83886082&&n(3,r=m&&(o||l==="user"))},[k,o,I,r,_,M,D,O,B,A,X,L,b,v,S,T,U,R,te,de,j,p,i,s,l,d,m,y,C,g,ke]}class Rd extends ge{constructor(t){super(),he(this,t,Vd,Id,me,{panOnDrag:0,selectionOnDrag:21},null,[-1,-1])}}function Xd(e){let t,n;const i=e[3].default,o=qe(i,e,e[2],null);return{c(){t=ae("div"),o&&o.c(),w(t,"class","svelte-flow__viewport xyflow__viewport svelte-1floaup"),le(t,"transform","translate("+e[0].x+"px, "+e[0].y+"px) scale("+e[0].zoom+")")},m(r,s){Z(r,t,s),o&&o.m(t,null),n=!0},p(r,[s]){o&&o.p&&(!n||s&4)&&Ge(o,i,r,r[2],n?Ze(i,r[2],s,null):Ue(r[2]),null),(!n||s&1)&&le(t,"transform","translate("+r[0].x+"px, "+r[0].y+"px) scale("+r[0].zoom+")")},i(r){n||(V(o,r),n=!0)},o(r){Y(o,r),n=!1},d(r){r&&K(t),o&&o.d(r)}}}function Yd(e,t,n){let i,{$$slots:o={},$$scope:r}=t;const{viewport:s}=Ie();return J(e,s,l=>n(0,i=l)),e.$$set=l=>{"$$scope"in l&&n(2,r=l.$$scope)},[i,s,r,o]}class Ld extends ge{constructor(t){super(),he(this,t,Yd,Xd,me,{})}}function $r(e,t){const{store:n,onDrag:i,onDragStart:o,onDragStop:r,onNodeMouseDown:s}=t,l=Sc({onDrag:i,onDragStart:o,onDragStop:r,onNodeMouseDown:s,getStoreItems:()=>{const u=$(n.snapGrid),f=$(n.viewport);return{nodes:$(n.nodes),nodeLookup:$(n.nodeLookup),edges:$(n.edges),nodeExtent:$(n.nodeExtent),snapGrid:u||[0,0],snapToGrid:!!u,nodeOrigin:$(n.nodeOrigin),multiSelectionActive:$(n.multiselectionKeyPressed),domNode:$(n.domNode),transform:[f.x,f.y,f.zoom],autoPanOnNodeDrag:$(n.autoPanOnNodeDrag),nodesDraggable:$(n.nodesDraggable),selectNodesOnDrag:$(n.selectNodesOnDrag),nodeDragThreshold:$(n.nodeDragThreshold),unselectNodesAndEdges:n.unselectNodesAndEdges,updateNodePositions:n.updateNodePositions,panBy:n.panBy}}});function a(u,f){if(f.disabled){l.destroy();return}l.update({domNode:u,noDragClassName:f.noDragClass,handleSelector:f.handleSelector,nodeId:f.nodeId,isSelectable:f.isSelectable,nodeClickDistance:f.nodeClickDistance})}return a(e,t),{update(u){a(e,u)},destroy(){l.destroy()}}}function Wd({width:e,height:t,initialWidth:n,initialHeight:i,measuredWidth:o,measuredHeight:r}){if(o===void 0&&r===void 0){const s=e??n,l=t??i;return{width:s?`width:${s}px;`:"",height:l?`height:${l}px;`:""}}return{width:e?`width:${e}px;`:"",height:t?`height:${t}px;`:""}}function el(e){let t,n,i,o,r,s=`translate(${e[12]}px, ${e[13]}px)`,l,a,u;var f=e[27];function c(d,h){return{props:{data:d[2],id:d[1],selected:d[3]??!1,selectable:d[5]??d[28]??!0,deletable:d[7]??!0,sourcePosition:d[14],targetPosition:d[15],zIndex:d[16],dragging:d[9],draggable:d[4]??d[29]??!0,dragHandle:d[19],parentId:d[21],type:d[25],isConnectable:d[30],positionAbsoluteX:d[12],positionAbsoluteY:d[13],width:d[17],height:d[18]}}}return f&&(n=Pn(f,c(e))),{c(){t=ae("div"),n&&re(n.$$.fragment),w(t,"data-id",e[1]),w(t,"class",i=Ee(["svelte-flow__node",`svelte-flow__node-${e[25]}`,e[23]])),w(t,"style",o=(e[10]??"")+";"+e[26].width+e[26].height),se(t,"dragging",e[9]),se(t,"selected",e[3]),se(t,"draggable",e[4]),se(t,"connectable",e[6]),se(t,"selectable",e[5]),se(t,"nopan",e[4]),se(t,"parent",e[11]),le(t,"z-index",e[16]),le(t,"transform",s),le(t,"visibility",e[20]?"visible":"hidden")},m(d,h){Z(d,t,h),n&&ne(n,t,null),e[54](t),l=!0,a||(u=[Be(r=$r.call(null,t,{nodeId:e[1],isSelectable:e[5],disabled:!1,handleSelector:e[19],noDragClass:"nodrag",nodeClickDistance:e[22],onNodeMouseDown:e[33],onDrag:e[51],onDragStart:e[52],onDragStop:e[53],store:e[31]})),Se(t,"click",e[38]),Se(t,"mouseenter",e[55]),Se(t,"mouseleave",e[56]),Se(t,"mousemove",e[57]),Se(t,"contextmenu",e[58])],a=!0)},p(d,h){if(h[0]&134217728&&f!==(f=d[27])){if(n){Ae();const y=n;Y(y.$$.fragment,1,0,()=>{ie(y,1)}),He()}f?(n=Pn(f,c(d)),re(n.$$.fragment),V(n.$$.fragment,1),ne(n,t,null)):n=null}else if(f){const y={};h[0]&4&&(y.data=d[2]),h[0]&2&&(y.id=d[1]),h[0]&8&&(y.selected=d[3]??!1),h[0]&268435488&&(y.selectable=d[5]??d[28]??!0),h[0]&128&&(y.deletable=d[7]??!0),h[0]&16384&&(y.sourcePosition=d[14]),h[0]&32768&&(y.targetPosition=d[15]),h[0]&65536&&(y.zIndex=d[16]),h[0]&512&&(y.dragging=d[9]),h[0]&536870928&&(y.draggable=d[4]??d[29]??!0),h[0]&524288&&(y.dragHandle=d[19]),h[0]&2097152&&(y.parentId=d[21]),h[0]&33554432&&(y.type=d[25]),h[0]&1073741824&&(y.isConnectable=d[30]),h[0]&4096&&(y.positionAbsoluteX=d[12]),h[0]&8192&&(y.positionAbsoluteY=d[13]),h[0]&131072&&(y.width=d[17]),h[0]&262144&&(y.height=d[18]),n.$set(y)}(!l||h[0]&2)&&w(t,"data-id",d[1]),(!l||h[0]&41943040&&i!==(i=Ee(["svelte-flow__node",`svelte-flow__node-${d[25]}`,d[23]])))&&w(t,"class",i),(!l||h[0]&67109888&&o!==(o=(d[10]??"")+";"+d[26].width+d[26].height))&&w(t,"style",o),r&&Oe(r.update)&&h[0]&4718626&&r.update.call(null,{nodeId:d[1],isSelectable:d[5],disabled:!1,handleSelector:d[19],noDragClass:"nodrag",nodeClickDistance:d[22],onNodeMouseDown:d[33],onDrag:d[51],onDragStart:d[52],onDragStop:d[53],store:d[31]}),(!l||h[0]&41943552)&&se(t,"dragging",d[9]),(!l||h[0]&41943048)&&se(t,"selected",d[3]),(!l||h[0]&41943056)&&se(t,"draggable",d[4]),(!l||h[0]&41943104)&&se(t,"connectable",d[6]),(!l||h[0]&41943072)&&se(t,"selectable",d[5]),(!l||h[0]&41943056)&&se(t,"nopan",d[4]),(!l||h[0]&41945088)&&se(t,"parent",d[11]);const m=h[0]&67109888;(h[0]&67175424||m)&&le(t,"z-index",d[16]),(h[0]&67122176&&s!==(s=`translate(${d[12]}px, ${d[13]}px)`)||m)&&le(t,"transform",s),(h[0]&68158464||m)&&le(t,"visibility",d[20]?"visible":"hidden")},i(d){l||(n&&V(n.$$.fragment,d),l=!0)},o(d){n&&Y(n.$$.fragment,d),l=!1},d(d){d&&K(t),n&&ie(n),e[54](null),a=!1,Ye(u)}}}function Bd(e){let t,n,i=!e[8]&&el(e);return{c(){i&&i.c(),t=Le()},m(o,r){i&&i.m(o,r),Z(o,t,r),n=!0},p(o,r){o[8]?i&&(Ae(),Y(i,1,1,()=>{i=null}),He()):i?(i.p(o,r),r[0]&256&&V(i,1)):(i=el(o),i.c(),V(i,1),i.m(t.parentNode,t))},i(o){n||(V(i),n=!0)},o(o){Y(i),n=!1},d(o){o&&K(t),i&&i.d(o)}}}function Kd(e,t,n){let i,o,r,s,l,a,u,f,{node:c}=t,{id:d}=t,{data:h={}}=t,{selected:m=!1}=t,{draggable:y=void 0}=t,{selectable:_=void 0}=t,{connectable:g=!0}=t,{deletable:C=!0}=t,{hidden:k=!1}=t,{dragging:p=!1}=t,{resizeObserver:P=null}=t,{style:H=void 0}=t,{type:M="default"}=t,{isParent:D=!1}=t,{positionX:O}=t,{positionY:B}=t,{sourcePosition:A=void 0}=t,{targetPosition:X=void 0}=t,{zIndex:L}=t,{measuredWidth:b=void 0}=t,{measuredHeight:v=void 0}=t,{initialWidth:S=void 0}=t,{initialHeight:N=void 0}=t,{width:T=void 0}=t,{height:I=void 0}=t,{dragHandle:W=void 0}=t,{initialized:G=!1}=t,{parentId:Q=void 0}=t,{nodeClickDistance:U=void 0}=t,{class:R=""}=t;const te=Ie(),{nodeTypes:de,nodeDragThreshold:j,selectNodesOnDrag:ke,handleNodeSelection:x,updateNodeInternals:ye,elementsSelectable:be,nodesDraggable:we}=te;J(e,de,z=>n(50,l=z)),J(e,be,z=>n(28,a=z)),J(e,we,z=>n(29,u=z));let ze,F=null;const Ne=Yt(),Xe=oe(g);J(e,Xe,z=>n(30,f=z));let Ke,Me,et;On("svelteflow__node_id",d),On("svelteflow__node_connectable",Xe),ho(()=>{F&&(P==null||P.unobserve(F))});function We(z){_&&(!$(ke)||!y||$(j)>0)&&x(d),Ne("nodeclick",{node:c.internals.userNode,event:z})}const bt=(z,tt,Re,Te)=>{Ne("nodedrag",{event:z,targetNode:Re,nodes:Te})},ee=(z,tt,Re,Te)=>{Ne("nodedragstart",{event:z,targetNode:Re,nodes:Te})},vt=(z,tt,Re,Te)=>{Ne("nodedragstop",{event:z,targetNode:Re,nodes:Te})};function St(z){cn[z?"unshift":"push"](()=>{ze=z,n(24,ze)})}const Ct=z=>Ne("nodemouseenter",{node:c,event:z}),It=z=>Ne("nodemouseleave",{node:c,event:z}),lt=z=>Ne("nodemousemove",{node:c,event:z}),ct=z=>Ne("nodecontextmenu",{node:c,event:z});return e.$$set=z=>{"node"in z&&n(0,c=z.node),"id"in z&&n(1,d=z.id),"data"in z&&n(2,h=z.data),"selected"in z&&n(3,m=z.selected),"draggable"in z&&n(4,y=z.draggable),"selectable"in z&&n(5,_=z.selectable),"connectable"in z&&n(6,g=z.connectable),"deletable"in z&&n(7,C=z.deletable),"hidden"in z&&n(8,k=z.hidden),"dragging"in z&&n(9,p=z.dragging),"resizeObserver"in z&&n(39,P=z.resizeObserver),"style"in z&&n(10,H=z.style),"type"in z&&n(40,M=z.type),"isParent"in z&&n(11,D=z.isParent),"positionX"in z&&n(12,O=z.positionX),"positionY"in z&&n(13,B=z.positionY),"sourcePosition"in z&&n(14,A=z.sourcePosition),"targetPosition"in z&&n(15,X=z.targetPosition),"zIndex"in z&&n(16,L=z.zIndex),"measuredWidth"in z&&n(41,b=z.measuredWidth),"measuredHeight"in z&&n(42,v=z.measuredHeight),"initialWidth"in z&&n(43,S=z.initialWidth),"initialHeight"in z&&n(44,N=z.initialHeight),"width"in z&&n(17,T=z.width),"height"in z&&n(18,I=z.height),"dragHandle"in z&&n(19,W=z.dragHandle),"initialized"in z&&n(20,G=z.initialized),"parentId"in z&&n(21,Q=z.parentId),"nodeClickDistance"in z&&n(22,U=z.nodeClickDistance),"class"in z&&n(23,R=z.class)},e.$$.update=()=>{e.$$.dirty[1]&512&&n(25,i=M||"default"),e.$$.dirty[0]&33554432|e.$$.dirty[1]&524288&&n(49,o=!!l[i]),e.$$.dirty[0]&33554432|e.$$.dirty[1]&524288&&n(27,r=l[i]||qr),e.$$.dirty[1]&262656&&(o||console.warn("003",Dt.error003(M))),e.$$.dirty[0]&393216|e.$$.dirty[1]&15360&&n(26,s=Wd({width:T,height:I,initialWidth:S,initialHeight:N,measuredWidth:b,measuredHeight:v})),e.$$.dirty[0]&64&&Xe.set(!!g),e.$$.dirty[0]&50380802|e.$$.dirty[1]&229376&&((Ke&&i!==Ke||Me&&A!==Me||et&&X!==et)&&requestAnimationFrame(()=>ye(new Map([[d,{id:d,nodeElement:ze,force:!0}]]))),n(46,Ke=i),n(47,Me=A),n(48,et=X)),e.$$.dirty[0]&17825792|e.$$.dirty[1]&16640&&P&&(ze!==F||!G)&&(F&&P.unobserve(F),ze&&P.observe(ze),n(45,F=ze))},[c,d,h,m,y,_,g,C,k,p,H,D,O,B,A,X,L,T,I,W,G,Q,U,R,ze,i,s,r,a,u,f,te,de,x,be,we,Ne,Xe,We,P,M,b,v,S,N,F,Ke,Me,et,o,l,bt,ee,vt,St,Ct,It,lt,ct]}class Fd extends ge{constructor(t){super(),he(this,t,Kd,Bd,ao,{node:0,id:1,data:2,selected:3,draggable:4,selectable:5,connectable:6,deletable:7,hidden:8,dragging:9,resizeObserver:39,style:10,type:40,isParent:11,positionX:12,positionY:13,sourcePosition:14,targetPosition:15,zIndex:16,measuredWidth:41,measuredHeight:42,initialWidth:43,initialHeight:44,width:17,height:18,dragHandle:19,initialized:20,parentId:21,nodeClickDistance:22,class:23},null,[-1,-1])}}const{Map:qd}=ts;function tl(e,t,n){const i=e.slice();return i[21]=t[n],i}function nl(e,t){let n,i,o;return i=new Fd({props:{node:t[21],id:t[21].id,data:t[21].data,selected:!!t[21].selected,hidden:!!t[21].hidden,draggable:!!(t[21].draggable||t[2]&&typeof t[21].draggable>"u"),selectable:!!(t[21].selectable||t[3]&&typeof t[21].selectable>"u"),connectable:!!(t[21].connectable||t[4]&&typeof t[21].connectable>"u"),deletable:t[21].deletable??!0,positionX:t[21].internals.positionAbsolute.x,positionY:t[21].internals.positionAbsolute.y,isParent:t[5].has(t[21].id),style:t[21].style,class:t[21].class,type:t[21].type??"default",sourcePosition:t[21].sourcePosition,targetPosition:t[21].targetPosition,dragging:t[21].dragging,zIndex:t[21].internals.z??0,dragHandle:t[21].dragHandle,initialized:ai(t[21]),width:t[21].width,height:t[21].height,initialWidth:t[21].initialWidth,initialHeight:t[21].initialHeight,measuredWidth:t[21].measured.width,measuredHeight:t[21].measured.height,parentId:t[21].parentId,resizeObserver:t[11],nodeClickDistance:t[0]}}),i.$on("nodeclick",t[12]),i.$on("nodemouseenter",t[13]),i.$on("nodemousemove",t[14]),i.$on("nodemouseleave",t[15]),i.$on("nodedrag",t[16]),i.$on("nodedragstart",t[17]),i.$on("nodedragstop",t[18]),i.$on("nodecontextmenu",t[19]),{key:e,first:null,c(){n=Le(),re(i.$$.fragment),this.first=n},m(r,s){Z(r,n,s),ne(i,r,s),o=!0},p(r,s){t=r;const l={};s&2&&(l.node=t[21]),s&2&&(l.id=t[21].id),s&2&&(l.data=t[21].data),s&2&&(l.selected=!!t[21].selected),s&2&&(l.hidden=!!t[21].hidden),s&6&&(l.draggable=!!(t[21].draggable||t[2]&&typeof t[21].draggable>"u")),s&10&&(l.selectable=!!(t[21].selectable||t[3]&&typeof t[21].selectable>"u")),s&18&&(l.connectable=!!(t[21].connectable||t[4]&&typeof t[21].connectable>"u")),s&2&&(l.deletable=t[21].deletable??!0),s&2&&(l.positionX=t[21].internals.positionAbsolute.x),s&2&&(l.positionY=t[21].internals.positionAbsolute.y),s&34&&(l.isParent=t[5].has(t[21].id)),s&2&&(l.style=t[21].style),s&2&&(l.class=t[21].class),s&2&&(l.type=t[21].type??"default"),s&2&&(l.sourcePosition=t[21].sourcePosition),s&2&&(l.targetPosition=t[21].targetPosition),s&2&&(l.dragging=t[21].dragging),s&2&&(l.zIndex=t[21].internals.z??0),s&2&&(l.dragHandle=t[21].dragHandle),s&2&&(l.initialized=ai(t[21])),s&2&&(l.width=t[21].width),s&2&&(l.height=t[21].height),s&2&&(l.initialWidth=t[21].initialWidth),s&2&&(l.initialHeight=t[21].initialHeight),s&2&&(l.measuredWidth=t[21].measured.width),s&2&&(l.measuredHeight=t[21].measured.height),s&2&&(l.parentId=t[21].parentId),s&1&&(l.nodeClickDistance=t[0]),i.$set(l)},i(r){o||(V(i.$$.fragment,r),o=!0)},o(r){Y(i.$$.fragment,r),o=!1},d(r){r&&K(n),ie(i,r)}}}function Zd(e){let t,n=[],i=new qd,o,r=je(e[1]);const s=l=>l[21].id;for(let l=0;l<r.length;l+=1){let a=tl(e,r,l),u=s(a);i.set(u,n[l]=nl(u,a))}return{c(){t=ae("div");for(let l=0;l<n.length;l+=1)n[l].c();w(t,"class","svelte-flow__nodes svelte-tf4uy4")},m(l,a){Z(l,t,a);for(let u=0;u<n.length;u+=1)n[u]&&n[u].m(t,null);o=!0},p(l,[a]){a&2111&&(r=je(l[1]),Ae(),n=In(n,a,s,1,l,r,i,t,Hn,nl,null,tl),He())},i(l){if(!o){for(let a=0;a<r.length;a+=1)V(n[a]);o=!0}},o(l){for(let a=0;a<n.length;a+=1)Y(n[a]);o=!1},d(l){l&&K(t);for(let a=0;a<n.length;a+=1)n[a].d()}}}function Gd(e,t,n){let i,o,r,s,l,{nodeClickDistance:a=0}=t;const{visibleNodes:u,nodesDraggable:f,nodesConnectable:c,elementsSelectable:d,updateNodeInternals:h,parentLookup:m}=Ie();J(e,u,D=>n(1,i=D)),J(e,f,D=>n(2,o=D)),J(e,c,D=>n(4,s=D)),J(e,d,D=>n(3,r=D)),J(e,m,D=>n(5,l=D));const y=typeof ResizeObserver>"u"?null:new ResizeObserver(D=>{const O=new Map;D.forEach(B=>{const A=B.target.getAttribute("data-id");O.set(A,{id:A,nodeElement:B.target,force:!0})}),h(O)});ho(()=>{y==null||y.disconnect()});function _(D){ve.call(this,e,D)}function g(D){ve.call(this,e,D)}function C(D){ve.call(this,e,D)}function k(D){ve.call(this,e,D)}function p(D){ve.call(this,e,D)}function P(D){ve.call(this,e,D)}function H(D){ve.call(this,e,D)}function M(D){ve.call(this,e,D)}return e.$$set=D=>{"nodeClickDistance"in D&&n(0,a=D.nodeClickDistance)},[a,i,o,r,s,l,u,f,c,d,m,y,_,g,C,k,p,P,H,M]}class Ud extends ge{constructor(t){super(),he(this,t,Gd,Zd,me,{nodeClickDistance:0})}}function il(e){let t,n,i,o,r,s,l,a;var u=e[27];function f(c,d){return{props:{id:c[0],source:c[1],target:c[2],sourceX:c[14],sourceY:c[15],targetX:c[16],targetY:c[17],sourcePosition:c[18],targetPosition:c[19],animated:c[6],selected:c[7],label:c[10],labelStyle:c[11],data:c[3],style:c[4],interactionWidth:c[21],selectable:c[24],deletable:c[8]??!0,type:c[23],sourceHandleId:c[12],targetHandleId:c[13],markerStart:c[26],markerEnd:c[25]}}}return u&&(i=Pn(u,f(e))),{c(){t=Ce("svg"),n=Ce("g"),i&&re(i.$$.fragment),w(n,"class",o=Ee(["svelte-flow__edge",e[22]])),w(n,"data-id",e[0]),w(n,"aria-label",r=e[20]===null?void 0:e[20]?e[20]:`Edge from ${e[1]} to ${e[2]}`),w(n,"role","img"),se(n,"animated",e[6]),se(n,"selected",e[7]),se(n,"selectable",e[24]),le(t,"z-index",e[5])},m(c,d){Z(c,t,d),q(t,n),i&&ne(i,n,null),s=!0,l||(a=[Se(n,"click",e[32]),Se(n,"contextmenu",e[41]),Se(n,"mouseenter",e[42]),Se(n,"mouseleave",e[43])],l=!0)},p(c,d){if(d[0]&134217728&&u!==(u=c[27])){if(i){Ae();const h=i;Y(h.$$.fragment,1,0,()=>{ie(h,1)}),He()}u?(i=Pn(u,f(c)),re(i.$$.fragment),V(i.$$.fragment,1),ne(i,n,null)):i=null}else if(u){const h={};d[0]&1&&(h.id=c[0]),d[0]&2&&(h.source=c[1]),d[0]&4&&(h.target=c[2]),d[0]&16384&&(h.sourceX=c[14]),d[0]&32768&&(h.sourceY=c[15]),d[0]&65536&&(h.targetX=c[16]),d[0]&131072&&(h.targetY=c[17]),d[0]&262144&&(h.sourcePosition=c[18]),d[0]&524288&&(h.targetPosition=c[19]),d[0]&64&&(h.animated=c[6]),d[0]&128&&(h.selected=c[7]),d[0]&1024&&(h.label=c[10]),d[0]&2048&&(h.labelStyle=c[11]),d[0]&8&&(h.data=c[3]),d[0]&16&&(h.style=c[4]),d[0]&2097152&&(h.interactionWidth=c[21]),d[0]&16777216&&(h.selectable=c[24]),d[0]&256&&(h.deletable=c[8]??!0),d[0]&8388608&&(h.type=c[23]),d[0]&4096&&(h.sourceHandleId=c[12]),d[0]&8192&&(h.targetHandleId=c[13]),d[0]&67108864&&(h.markerStart=c[26]),d[0]&33554432&&(h.markerEnd=c[25]),i.$set(h)}(!s||d[0]&4194304&&o!==(o=Ee(["svelte-flow__edge",c[22]])))&&w(n,"class",o),(!s||d[0]&1)&&w(n,"data-id",c[0]),(!s||d[0]&1048582&&r!==(r=c[20]===null?void 0:c[20]?c[20]:`Edge from ${c[1]} to ${c[2]}`))&&w(n,"aria-label",r),(!s||d[0]&4194368)&&se(n,"animated",c[6]),(!s||d[0]&4194432)&&se(n,"selected",c[7]),(!s||d[0]&20971520)&&se(n,"selectable",c[24]),d[0]&32&&le(t,"z-index",c[5])},i(c){s||(i&&V(i.$$.fragment,c),s=!0)},o(c){i&&Y(i.$$.fragment,c),s=!1},d(c){c&&K(t),i&&ie(i),l=!1,Ye(a)}}}function Jd(e){let t,n,i=!e[9]&&il(e);return{c(){i&&i.c(),t=Le()},m(o,r){i&&i.m(o,r),Z(o,t,r),n=!0},p(o,r){o[9]?i&&(Ae(),Y(i,1,1,()=>{i=null}),He()):i?(i.p(o,r),r[0]&512&&V(i,1)):(i=il(o),i.c(),V(i,1),i.m(t.parentNode,t))},i(o){n||(V(i),n=!0)},o(o){Y(i),n=!1},d(o){o&&K(t),i&&i.d(o)}}}function Qd(e,t,n){let i,o,r,s,l,a,u,f,c,{id:d}=t,{type:h="default"}=t,{source:m=""}=t,{target:y=""}=t,{data:_={}}=t,{style:g=void 0}=t,{zIndex:C=void 0}=t,{animated:k=!1}=t,{selected:p=!1}=t,{selectable:P=void 0}=t,{deletable:H=void 0}=t,{hidden:M=!1}=t,{label:D=void 0}=t,{labelStyle:O=void 0}=t,{markerStart:B=void 0}=t,{markerEnd:A=void 0}=t,{sourceHandle:X=void 0}=t,{targetHandle:L=void 0}=t,{sourceX:b}=t,{sourceY:v}=t,{targetX:S}=t,{targetY:N}=t,{sourcePosition:T}=t,{targetPosition:I}=t,{ariaLabel:W=void 0}=t,{interactionWidth:G=void 0}=t,{class:Q=""}=t;On("svelteflow__edge_id",d);const{edgeLookup:U,edgeTypes:R,flowId:te,elementsSelectable:de}=Ie();J(e,U,F=>n(44,a=F)),J(e,R,F=>n(40,c=F)),J(e,te,F=>n(39,f=F)),J(e,de,F=>n(38,u=F));const j=Yt(),ke=Gr();function x(F){const Ne=a.get(d);Ne&&(ke(d),j("edgeclick",{event:F,edge:Ne}))}function ye(F,Ne){const Xe=a.get(d);Xe&&j(Ne,{event:F,edge:Xe})}const be=F=>{ye(F,"edgecontextmenu")},we=F=>{ye(F,"edgemouseenter")},ze=F=>{ye(F,"edgemouseleave")};return e.$$set=F=>{"id"in F&&n(0,d=F.id),"type"in F&&n(34,h=F.type),"source"in F&&n(1,m=F.source),"target"in F&&n(2,y=F.target),"data"in F&&n(3,_=F.data),"style"in F&&n(4,g=F.style),"zIndex"in F&&n(5,C=F.zIndex),"animated"in F&&n(6,k=F.animated),"selected"in F&&n(7,p=F.selected),"selectable"in F&&n(35,P=F.selectable),"deletable"in F&&n(8,H=F.deletable),"hidden"in F&&n(9,M=F.hidden),"label"in F&&n(10,D=F.label),"labelStyle"in F&&n(11,O=F.labelStyle),"markerStart"in F&&n(36,B=F.markerStart),"markerEnd"in F&&n(37,A=F.markerEnd),"sourceHandle"in F&&n(12,X=F.sourceHandle),"targetHandle"in F&&n(13,L=F.targetHandle),"sourceX"in F&&n(14,b=F.sourceX),"sourceY"in F&&n(15,v=F.sourceY),"targetX"in F&&n(16,S=F.targetX),"targetY"in F&&n(17,N=F.targetY),"sourcePosition"in F&&n(18,T=F.sourcePosition),"targetPosition"in F&&n(19,I=F.targetPosition),"ariaLabel"in F&&n(20,W=F.ariaLabel),"interactionWidth"in F&&n(21,G=F.interactionWidth),"class"in F&&n(22,Q=F.class)},e.$$.update=()=>{e.$$.dirty[1]&8&&n(23,i=h||"default"),e.$$.dirty[0]&8388608|e.$$.dirty[1]&512&&n(27,o=c[i]||Jr),e.$$.dirty[1]&288&&n(26,r=B?`url('#${Gi(B,f)}')`:void 0),e.$$.dirty[1]&320&&n(25,s=A?`url('#${Gi(A,f)}')`:void 0),e.$$.dirty[1]&144&&n(24,l=P??u)},[d,m,y,_,g,C,k,p,H,M,D,O,X,L,b,v,S,N,T,I,W,G,Q,i,l,s,r,o,U,R,te,de,x,ye,h,P,B,A,u,f,c,be,we,ze]}class jd extends ge{constructor(t){super(),he(this,t,Qd,Jd,ao,{id:0,type:34,source:1,target:2,data:3,style:4,zIndex:5,animated:6,selected:7,selectable:35,deletable:8,hidden:9,label:10,labelStyle:11,markerStart:36,markerEnd:37,sourceHandle:12,targetHandle:13,sourceX:14,sourceY:15,targetX:16,targetY:17,sourcePosition:18,targetPosition:19,ariaLabel:20,interactionWidth:21,class:22},null,[-1,-1])}}function xd(e,t,n){let{onMount:i=void 0}=t,{onDestroy:o=void 0}=t;return Nn(()=>(i==null||i(),o)),e.$$set=r=>{"onMount"in r&&n(0,i=r.onMount),"onDestroy"in r&&n(1,o=r.onDestroy)},[i,o]}class $d extends ge{constructor(t){super(),he(this,t,xd,null,me,{onMount:0,onDestroy:1})}}function ol(e,t,n){const i=e.slice();return i[2]=t[n],i}function rl(e,t){let n,i,o;const r=[t[2]];let s={};for(let l=0;l<r.length;l+=1)s=_e(s,r[l]);return i=new sh({props:s}),{key:e,first:null,c(){n=Le(),re(i.$$.fragment),this.first=n},m(l,a){Z(l,n,a),ne(i,l,a),o=!0},p(l,a){t=l;const u=a&1?dt(r,[Kt(t[2])]):{};i.$set(u)},i(l){o||(V(i.$$.fragment,l),o=!0)},o(l){Y(i.$$.fragment,l),o=!1},d(l){l&&K(n),ie(i,l)}}}function eh(e){let t,n=[],i=new Map,o,r=je(e[0]);const s=l=>l[2].id;for(let l=0;l<r.length;l+=1){let a=ol(e,r,l),u=s(a);i.set(u,n[l]=rl(u,a))}return{c(){t=Ce("defs");for(let l=0;l<n.length;l+=1)n[l].c()},m(l,a){Z(l,t,a);for(let u=0;u<n.length;u+=1)n[u]&&n[u].m(t,null);o=!0},p(l,[a]){a&1&&(r=je(l[0]),Ae(),n=In(n,a,s,1,l,r,i,t,Hn,rl,null,ol),He())},i(l){if(!o){for(let a=0;a<r.length;a+=1)V(n[a]);o=!0}},o(l){for(let a=0;a<n.length;a+=1)Y(n[a]);o=!1},d(l){l&&K(t);for(let a=0;a<n.length;a+=1)n[a].d()}}}function th(e,t,n){let i;const{markers:o}=Ie();return J(e,o,r=>n(0,i=r)),[i,o]}class nh extends ge{constructor(t){super(),he(this,t,th,eh,me,{})}}function ih(e){let t;return{c(){t=Ce("polyline"),w(t,"stroke",e[6]),w(t,"stroke-linecap","round"),w(t,"stroke-linejoin","round"),w(t,"stroke-width",e[7]),w(t,"fill",e[6]),w(t,"points","-5,-4 0,0 -5,4 -5,-4")},m(n,i){Z(n,t,i)},p(n,i){i&64&&w(t,"stroke",n[6]),i&128&&w(t,"stroke-width",n[7]),i&64&&w(t,"fill",n[6])},d(n){n&&K(t)}}}function oh(e){let t;return{c(){t=Ce("polyline"),w(t,"stroke",e[6]),w(t,"stroke-linecap","round"),w(t,"stroke-linejoin","round"),w(t,"stroke-width",e[7]),w(t,"fill","none"),w(t,"points","-5,-4 0,0 -5,4")},m(n,i){Z(n,t,i)},p(n,i){i&64&&w(t,"stroke",n[6]),i&128&&w(t,"stroke-width",n[7])},d(n){n&&K(t)}}}function rh(e){let t,n,i;function o(l,a){if(l[1]===oi.Arrow)return oh;if(l[1]===oi.ArrowClosed)return ih}let r=o(e),s=r&&r(e);return{c(){t=Ce("marker"),s&&s.c(),w(t,"class","svelte-flow__arrowhead"),w(t,"id",e[0]),w(t,"markerWidth",n=`${e[2]}`),w(t,"markerHeight",i=`${e[3]}`),w(t,"viewBox","-10 -10 20 20"),w(t,"markerUnits",e[4]),w(t,"orient",e[5]),w(t,"refX","0"),w(t,"refY","0")},m(l,a){Z(l,t,a),s&&s.m(t,null)},p(l,[a]){r===(r=o(l))&&s?s.p(l,a):(s&&s.d(1),s=r&&r(l),s&&(s.c(),s.m(t,null))),a&1&&w(t,"id",l[0]),a&4&&n!==(n=`${l[2]}`)&&w(t,"markerWidth",n),a&8&&i!==(i=`${l[3]}`)&&w(t,"markerHeight",i),a&16&&w(t,"markerUnits",l[4]),a&32&&w(t,"orient",l[5])},i:fe,o:fe,d(l){l&&K(t),s&&s.d()}}}function lh(e,t,n){let{id:i}=t,{type:o}=t,{width:r=12.5}=t,{height:s=12.5}=t,{markerUnits:l="strokeWidth"}=t,{orient:a="auto-start-reverse"}=t,{color:u=void 0}=t,{strokeWidth:f=void 0}=t;return e.$$set=c=>{"id"in c&&n(0,i=c.id),"type"in c&&n(1,o=c.type),"width"in c&&n(2,r=c.width),"height"in c&&n(3,s=c.height),"markerUnits"in c&&n(4,l=c.markerUnits),"orient"in c&&n(5,a=c.orient),"color"in c&&n(6,u=c.color),"strokeWidth"in c&&n(7,f=c.strokeWidth)},[i,o,r,s,l,a,u,f]}class sh extends ge{constructor(t){super(),he(this,t,lh,rh,me,{id:0,type:1,width:2,height:3,markerUnits:4,orient:5,color:6,strokeWidth:7})}}function ll(e,t,n){const i=e.slice();return i[14]=t[n],i}function sl(e,t){let n,i,o;return i=new jd({props:{id:t[14].id,source:t[14].source,target:t[14].target,data:t[14].data,style:t[14].style,animated:t[14].animated,selected:t[14].selected,selectable:t[14].selectable??t[1],deletable:t[14].deletable,hidden:t[14].hidden,label:t[14].label,labelStyle:t[14].labelStyle,markerStart:t[14].markerStart,markerEnd:t[14].markerEnd,sourceHandle:t[14].sourceHandle,targetHandle:t[14].targetHandle,sourceX:t[14].sourceX,sourceY:t[14].sourceY,targetX:t[14].targetX,targetY:t[14].targetY,sourcePosition:t[14].sourcePosition,targetPosition:t[14].targetPosition,ariaLabel:t[14].ariaLabel,interactionWidth:t[14].interactionWidth,class:t[14].class,type:t[14].type||"default",zIndex:t[14].zIndex}}),i.$on("edgeclick",t[7]),i.$on("edgecontextmenu",t[8]),i.$on("edgemouseenter",t[9]),i.$on("edgemouseleave",t[10]),{key:e,first:null,c(){n=Le(),re(i.$$.fragment),this.first=n},m(r,s){Z(r,n,s),ne(i,r,s),o=!0},p(r,s){t=r;const l={};s&1&&(l.id=t[14].id),s&1&&(l.source=t[14].source),s&1&&(l.target=t[14].target),s&1&&(l.data=t[14].data),s&1&&(l.style=t[14].style),s&1&&(l.animated=t[14].animated),s&1&&(l.selected=t[14].selected),s&3&&(l.selectable=t[14].selectable??t[1]),s&1&&(l.deletable=t[14].deletable),s&1&&(l.hidden=t[14].hidden),s&1&&(l.label=t[14].label),s&1&&(l.labelStyle=t[14].labelStyle),s&1&&(l.markerStart=t[14].markerStart),s&1&&(l.markerEnd=t[14].markerEnd),s&1&&(l.sourceHandle=t[14].sourceHandle),s&1&&(l.targetHandle=t[14].targetHandle),s&1&&(l.sourceX=t[14].sourceX),s&1&&(l.sourceY=t[14].sourceY),s&1&&(l.targetX=t[14].targetX),s&1&&(l.targetY=t[14].targetY),s&1&&(l.sourcePosition=t[14].sourcePosition),s&1&&(l.targetPosition=t[14].targetPosition),s&1&&(l.ariaLabel=t[14].ariaLabel),s&1&&(l.interactionWidth=t[14].interactionWidth),s&1&&(l.class=t[14].class),s&1&&(l.type=t[14].type||"default"),s&1&&(l.zIndex=t[14].zIndex),i.$set(l)},i(r){o||(V(i.$$.fragment,r),o=!0)},o(r){Y(i.$$.fragment,r),o=!1},d(r){r&&K(n),ie(i,r)}}}function al(e){let t,n;return t=new $d({props:{onMount:e[11],onDestroy:e[12]}}),{c(){re(t.$$.fragment)},m(i,o){ne(t,i,o),n=!0},p(i,o){const r={};o&4&&(r.onMount=i[11]),o&4&&(r.onDestroy=i[12]),t.$set(r)},i(i){n||(V(t.$$.fragment,i),n=!0)},o(i){Y(t.$$.fragment,i),n=!1},d(i){ie(t,i)}}}function ah(e){let t,n,i,o,r=[],s=new Map,l,a;i=new nh({});let u=je(e[0]);const f=d=>d[14].id;for(let d=0;d<u.length;d+=1){let h=ll(e,u,d),m=f(h);s.set(m,r[d]=sl(m,h))}let c=e[0].length>0&&al(e);return{c(){t=ae("div"),n=Ce("svg"),re(i.$$.fragment),o=ue();for(let d=0;d<r.length;d+=1)r[d].c();l=ue(),c&&c.c(),w(n,"class","svelte-flow__marker"),w(t,"class","svelte-flow__edges")},m(d,h){Z(d,t,h),q(t,n),ne(i,n,null),q(t,o);for(let m=0;m<r.length;m+=1)r[m]&&r[m].m(t,null);q(t,l),c&&c.m(t,null),a=!0},p(d,[h]){h&3&&(u=je(d[0]),Ae(),r=In(r,h,f,1,d,u,s,t,Hn,sl,l,ll),He()),d[0].length>0?c?(c.p(d,h),h&1&&V(c,1)):(c=al(d),c.c(),V(c,1),c.m(t,null)):c&&(Ae(),Y(c,1,1,()=>{c=null}),He())},i(d){if(!a){V(i.$$.fragment,d);for(let h=0;h<u.length;h+=1)V(r[h]);V(c),a=!0}},o(d){Y(i.$$.fragment,d);for(let h=0;h<r.length;h+=1)Y(r[h]);Y(c),a=!1},d(d){d&&K(t),ie(i);for(let h=0;h<r.length;h+=1)r[h].d();c&&c.d()}}}function uh(e,t,n){let i,o,r,{defaultEdgeOptions:s}=t;const{visibleEdges:l,edgesInitialized:a,edges:{setDefaultOptions:u},elementsSelectable:f}=Ie();J(e,l,g=>n(0,i=g)),J(e,a,g=>n(2,r=g)),J(e,f,g=>n(1,o=g)),Nn(()=>{s&&u(s)});function c(g){ve.call(this,e,g)}function d(g){ve.call(this,e,g)}function h(g){ve.call(this,e,g)}function m(g){ve.call(this,e,g)}const y=()=>{Mn(a,r=!0,r)},_=()=>{Mn(a,r=!1,r)};return e.$$set=g=>{"defaultEdgeOptions"in g&&n(6,s=g.defaultEdgeOptions)},[i,o,r,l,a,f,s,c,d,h,m,y,_]}class fh extends ge{constructor(t){super(),he(this,t,uh,ah,me,{defaultEdgeOptions:6})}}function ul(e){let t;return{c(){t=ae("div"),w(t,"class","svelte-flow__selection svelte-1iugwpu"),le(t,"width",typeof e[2]=="string"?e[2]:`${e[2]}px`),le(t,"height",typeof e[3]=="string"?e[3]:`${e[3]}px`),le(t,"transform",`translate(${e[0]}px, ${e[1]}px)`)},m(n,i){Z(n,t,i)},p(n,i){i&4&&le(t,"width",typeof n[2]=="string"?n[2]:`${n[2]}px`),i&8&&le(t,"height",typeof n[3]=="string"?n[3]:`${n[3]}px`),i&3&&le(t,"transform",`translate(${n[0]}px, ${n[1]}px)`)},d(n){n&&K(t)}}}function ch(e){let t,n=e[4]&&ul(e);return{c(){n&&n.c(),t=Le()},m(i,o){n&&n.m(i,o),Z(i,t,o)},p(i,[o]){i[4]?n?n.p(i,o):(n=ul(i),n.c(),n.m(t.parentNode,t)):n&&(n.d(1),n=null)},i:fe,o:fe,d(i){i&&K(t),n&&n.d(i)}}}function dh(e,t,n){let{x:i=0}=t,{y:o=0}=t,{width:r=0}=t,{height:s=0}=t,{isVisible:l=!0}=t;return e.$$set=a=>{"x"in a&&n(0,i=a.x),"y"in a&&n(1,o=a.y),"width"in a&&n(2,r=a.width),"height"in a&&n(3,s=a.height),"isVisible"in a&&n(4,l=a.isVisible)},[i,o,r,s,l]}class fl extends ge{constructor(t){super(),he(this,t,dh,ch,me,{x:0,y:1,width:2,height:3,isVisible:4})}}function hh(e){var i,o,r,s;let t,n;return t=new fl({props:{isVisible:!!(e[0]&&e[1]==="user"),width:(i=e[0])==null?void 0:i.width,height:(o=e[0])==null?void 0:o.height,x:(r=e[0])==null?void 0:r.x,y:(s=e[0])==null?void 0:s.y}}),{c(){re(t.$$.fragment)},m(l,a){ne(t,l,a),n=!0},p(l,[a]){var f,c,d,h;const u={};a&3&&(u.isVisible=!!(l[0]&&l[1]==="user")),a&1&&(u.width=(f=l[0])==null?void 0:f.width),a&1&&(u.height=(c=l[0])==null?void 0:c.height),a&1&&(u.x=(d=l[0])==null?void 0:d.x),a&1&&(u.y=(h=l[0])==null?void 0:h.y),t.$set(u)},i(l){n||(V(t.$$.fragment,l),n=!0)},o(l){Y(t.$$.fragment,l),n=!1},d(l){ie(t,l)}}}function gh(e,t,n){let i,o;const{selectionRect:r,selectionRectMode:s}=Ie();return J(e,r,l=>n(0,i=l)),J(e,s,l=>n(1,o=l)),[i,o,r,s]}class mh extends ge{constructor(t){super(),he(this,t,gh,hh,me,{})}}function cl(e){let t,n,i,o,r;return n=new fl({props:{width:"100%",height:"100%",x:0,y:0}}),{c(){t=ae("div"),re(n.$$.fragment),w(t,"class","selection-wrapper nopan svelte-5pxri"),le(t,"width",e[1].width+"px"),le(t,"height",e[1].height+"px"),le(t,"transform","translate("+e[1].x+"px, "+e[1].y+"px)"),w(t,"role","button"),w(t,"tabindex","-1")},m(s,l){Z(s,t,l),ne(n,t,null),i=!0,o||(r=[Be($r.call(null,t,{disabled:!1,store:e[2],onDrag:e[11],onDragStart:e[12],onDragStop:e[13]})),Se(t,"contextmenu",e[7]),Se(t,"click",e[8]),Se(t,"keyup",_h)],o=!0)},p(s,l){(!i||l&2)&&le(t,"width",s[1].width+"px"),(!i||l&2)&&le(t,"height",s[1].height+"px"),(!i||l&2)&&le(t,"transform","translate("+s[1].x+"px, "+s[1].y+"px)")},i(s){i||(V(n.$$.fragment,s),i=!0)},o(s){Y(n.$$.fragment,s),i=!1},d(s){s&&K(t),ie(n),o=!1,Ye(r)}}}function yh(e){let t=e[0]==="nodes"&&e[1]&&Ht(e[1].x)&&Ht(e[1].y),n,i,o=t&&cl(e);return{c(){o&&o.c(),n=Le()},m(r,s){o&&o.m(r,s),Z(r,n,s),i=!0},p(r,[s]){s&3&&(t=r[0]==="nodes"&&r[1]&&Ht(r[1].x)&&Ht(r[1].y)),t?o?(o.p(r,s),s&3&&V(o,1)):(o=cl(r),o.c(),V(o,1),o.m(n.parentNode,n)):o&&(Ae(),Y(o,1,1,()=>{o=null}),He())},i(r){i||(V(o),i=!0)},o(r){Y(o),i=!1},d(r){r&&K(n),o&&o.d(r)}}}const _h=()=>{};function bh(e,t,n){let i,o,r;const s=Ie(),{selectionRectMode:l,nodes:a,nodeLookup:u}=s;J(e,l,g=>n(0,r=g)),J(e,a,g=>n(9,i=g)),J(e,u,g=>n(10,o=g));const f=Yt();let c=null;function d(g){const C=i.filter(k=>k.selected);f("selectioncontextmenu",{nodes:C,event:g})}function h(g){const C=i.filter(k=>k.selected);f("selectionclick",{nodes:C,event:g})}const m=(g,C,k,p)=>{f("nodedrag",{event:g,targetNode:null,nodes:p})},y=(g,C,k,p)=>{f("nodedragstart",{event:g,targetNode:null,nodes:p})},_=(g,C,k,p)=>{f("nodedragstop",{event:g,targetNode:null,nodes:p})};return e.$$.update=()=>{e.$$.dirty&1537&&r==="nodes"&&n(1,c=Cn(o,{filter:g=>!!g.selected}))},[r,c,s,l,a,u,f,d,h,i,o,m,y,_]}class wh extends ge{constructor(t){super(),he(this,t,bh,yh,me,{})}}function ft(e,t){let{enabled:n=!0,trigger:i,type:o="keydown"}=t;function r(s){const l=Array.isArray(i)?i:[i],a={alt:s.altKey,ctrl:s.ctrlKey,shift:s.shiftKey,meta:s.metaKey};for(const u of l){const f={modifier:[],preventDefault:!1,enabled:!0,...u},{modifier:c,key:d,callback:h,preventDefault:m,enabled:y}=f;if(y){if(c.length&&!(Array.isArray(c)?c:[c]).map(C=>typeof C=="string"?[C]:C).some(C=>C.every(k=>a[k])))continue;if(s.key===d){m&&s.preventDefault();const _={node:e,trigger:f,originalEvent:s};e.dispatchEvent(new CustomEvent("shortcut",{detail:_})),h==null||h(_)}}}}return n&&e.addEventListener(o,r),{update:s=>{const{enabled:l=!0,type:a="keydown"}=s;n&&(!l||o!==a)?e.removeEventListener(o,r):!n&&l&&e.addEventListener(a,r),n=l,o=a,i=s.trigger},destroy:()=>{e.removeEventListener(o,r)}}}function kh(e){let t,n,i,o,r,s,l,a,u,f,c,d;return{c:fe,m(h,m){c||(d=[Be(t=ft.call(null,window,{trigger:Ve(e[0],e[11]),type:"keydown"})),Be(n=ft.call(null,window,{trigger:Ve(e[0],e[12]),type:"keyup"})),Be(i=ft.call(null,window,{trigger:Ve(e[1],e[13]),type:"keydown"})),Be(o=ft.call(null,window,{trigger:Ve(e[1],e[14]),type:"keyup"})),Be(r=ft.call(null,window,{trigger:Ve(e[2],e[15]),type:"keydown"})),Be(s=ft.call(null,window,{trigger:Ve(e[2],e[16]),type:"keyup"})),Be(l=ft.call(null,window,{trigger:Ve(e[3],e[17]),type:"keydown"})),Be(a=ft.call(null,window,{trigger:Ve(e[3],e[18]),type:"keyup"})),Be(u=ft.call(null,window,{trigger:Ve(e[4],e[19]),type:"keydown"})),Be(f=ft.call(null,window,{trigger:Ve(e[4],e[20]),type:"keyup"})),Se(window,"blur",e[10]),Se(window,"contextmenu",e[10])],c=!0)},p(h,[m]){t&&Oe(t.update)&&m&1&&t.update.call(null,{trigger:Ve(h[0],h[11]),type:"keydown"}),n&&Oe(n.update)&&m&1&&n.update.call(null,{trigger:Ve(h[0],h[12]),type:"keyup"}),i&&Oe(i.update)&&m&2&&i.update.call(null,{trigger:Ve(h[1],h[13]),type:"keydown"}),o&&Oe(o.update)&&m&2&&o.update.call(null,{trigger:Ve(h[1],h[14]),type:"keyup"}),r&&Oe(r.update)&&m&4&&r.update.call(null,{trigger:Ve(h[2],h[15]),type:"keydown"}),s&&Oe(s.update)&&m&4&&s.update.call(null,{trigger:Ve(h[2],h[16]),type:"keyup"}),l&&Oe(l.update)&&m&8&&l.update.call(null,{trigger:Ve(h[3],h[17]),type:"keydown"}),a&&Oe(a.update)&&m&8&&a.update.call(null,{trigger:Ve(h[3],h[18]),type:"keyup"}),u&&Oe(u.update)&&m&16&&u.update.call(null,{trigger:Ve(h[4],h[19]),type:"keydown"}),f&&Oe(f.update)&&m&16&&f.update.call(null,{trigger:Ve(h[4],h[20]),type:"keyup"})},i:fe,o:fe,d(h){c=!1,Ye(d)}}}function dl(e){return e!==null&&typeof e=="object"}function ph(e){return dl(e)?e.modifier||[]:[]}function vh(e){return e==null?"":dl(e)?e.key:e}function Ve(e,t){return(Array.isArray(e)?e:[e]).map(i=>{const o=vh(i);return{key:o,modifier:ph(i),enabled:o!==null,callback:t}})}function Sh(e,t,n){let{selectionKey:i="Shift"}=t,{multiSelectionKey:o=si()?"Meta":"Control"}=t,{deleteKey:r="Backspace"}=t,{panActivationKey:s=" "}=t,{zoomActivationKey:l=si()?"Meta":"Control"}=t;const{selectionKeyPressed:a,multiselectionKeyPressed:u,deleteKeyPressed:f,panActivationKeyPressed:c,zoomActivationKeyPressed:d,selectionRect:h}=Ie();function m(){h.set(null),a.set(!1),u.set(!1),f.set(!1),c.set(!1),d.set(!1)}const y=()=>a.set(!0),_=()=>a.set(!1),g=()=>u.set(!0),C=()=>u.set(!1),k=O=>{!(O.originalEvent.ctrlKey||O.originalEvent.metaKey||O.originalEvent.shiftKey)&&!ic(O.originalEvent)&&f.set(!0)},p=()=>f.set(!1),P=()=>c.set(!0),H=()=>c.set(!1),M=()=>d.set(!0),D=()=>d.set(!1);return e.$$set=O=>{"selectionKey"in O&&n(0,i=O.selectionKey),"multiSelectionKey"in O&&n(1,o=O.multiSelectionKey),"deleteKey"in O&&n(2,r=O.deleteKey),"panActivationKey"in O&&n(3,s=O.panActivationKey),"zoomActivationKey"in O&&n(4,l=O.zoomActivationKey)},[i,o,r,s,l,a,u,f,c,d,m,y,_,g,C,k,p,P,H,M,D]}class Ch extends ge{constructor(t){super(),he(this,t,Sh,kh,me,{selectionKey:0,multiSelectionKey:1,deleteKey:2,panActivationKey:3,zoomActivationKey:4})}}const Eh=e=>({}),hl=e=>({});function gl(e){let t,n,i,o;const r=e[13].connectionLine,s=qe(r,e,e[12],hl);let l=!e[2]&&ml(e);return{c(){t=Ce("svg"),n=Ce("g"),s&&s.c(),l&&l.c(),w(n,"class",i=Ee(["svelte-flow__connection",cr(e[3].isValid)])),w(t,"width",e[5]),w(t,"height",e[6]),w(t,"class","svelte-flow__connectionline"),w(t,"style",e[0])},m(a,u){Z(a,t,u),q(t,n),s&&s.m(n,null),l&&l.m(n,null),o=!0},p(a,u){s&&s.p&&(!o||u&4096)&&Ge(s,r,a,a[12],o?Ze(r,a[12],u,Eh):Ue(a[12]),hl),a[2]?l&&(l.d(1),l=null):l?l.p(a,u):(l=ml(a),l.c(),l.m(n,null)),(!o||u&8&&i!==(i=Ee(["svelte-flow__connection",cr(a[3].isValid)])))&&w(n,"class",i),(!o||u&32)&&w(t,"width",a[5]),(!o||u&64)&&w(t,"height",a[6]),(!o||u&1)&&w(t,"style",a[0])},i(a){o||(V(s,a),o=!0)},o(a){Y(s,a),o=!1},d(a){a&&K(t),s&&s.d(a),l&&l.d()}}}function ml(e){let t;return{c(){t=Ce("path"),w(t,"d",e[4]),w(t,"style",e[1]),w(t,"fill","none"),w(t,"class","svelte-flow__connection-path")},m(n,i){Z(n,t,i)},p(n,i){i&16&&w(t,"d",n[4]),i&2&&w(t,"style",n[1])},d(n){n&&K(t)}}}function Mh(e){let t,n,i=e[3].inProgress&&gl(e);return{c(){i&&i.c(),t=Le()},m(o,r){i&&i.m(o,r),Z(o,t,r),n=!0},p(o,[r]){o[3].inProgress?i?(i.p(o,r),r&8&&V(i,1)):(i=gl(o),i.c(),V(i,1),i.m(t.parentNode,t)):i&&(Ae(),Y(i,1,1,()=>{i=null}),He())},i(o){n||(V(i),n=!0)},o(o){Y(i),n=!1},d(o){o&&K(t),i&&i.d(o)}}}function zh(e,t,n){let i,o,r,s,{$$slots:l={},$$scope:a}=t,{containerStyle:u=""}=t,{style:f=""}=t,{isCustomComponent:c=!1}=t;const{width:d,height:h,connection:m,connectionLineType:y}=Ie();J(e,d,g=>n(5,r=g)),J(e,h,g=>n(6,s=g)),J(e,m,g=>n(3,o=g)),J(e,y,g=>n(11,i=g));let _=null;return e.$$set=g=>{"containerStyle"in g&&n(0,u=g.containerStyle),"style"in g&&n(1,f=g.style),"isCustomComponent"in g&&n(2,c=g.isCustomComponent),"$$scope"in g&&n(12,a=g.$$scope)},e.$$.update=()=>{if(e.$$.dirty&2060&&o.inProgress&&!c){const{from:g,to:C,fromPosition:k,toPosition:p}=o,P={sourceX:g.x,sourceY:g.y,sourcePosition:k,targetX:C.x,targetY:C.y,targetPosition:p};switch(i){case Qt.Bezier:n(4,[_]=Cr(P),_);break;case Qt.Step:n(4,[_]=fi({...P,borderRadius:0}),_);break;case Qt.SmoothStep:n(4,[_]=fi(P),_);break;default:n(4,[_]=Mr(P),_)}}},[u,f,c,o,_,r,s,d,h,m,y,i,a,l]}class Ph extends ge{constructor(t){super(),he(this,t,zh,Mh,me,{containerStyle:0,style:1,isCustomComponent:2})}}function Nh(e){let t,n,i;const o=e[8].default,r=qe(o,e,e[7],null);let s=[{class:n=Ee(["svelte-flow__panel",e[1],...e[2]])},{style:e[0]},e[5]],l={};for(let a=0;a<s.length;a+=1)l=_e(l,s[a]);return{c(){t=ae("div"),r&&r.c(),Rt(t,l),le(t,"pointer-events",e[3]?"none":"")},m(a,u){Z(a,t,u),r&&r.m(t,null),i=!0},p(a,[u]){r&&r.p&&(!i||u&128)&&Ge(r,o,a,a[7],i?Ze(o,a[7],u,null):Ue(a[7]),null),Rt(t,l=dt(s,[(!i||u&6&&n!==(n=Ee(["svelte-flow__panel",a[1],...a[2]])))&&{class:n},(!i||u&1)&&{style:a[0]},u&32&&a[5]])),le(t,"pointer-events",a[3]?"none":"")},i(a){i||(V(r,a),i=!0)},o(a){Y(r,a),i=!1},d(a){a&&K(t),r&&r.d(a)}}}function Oh(e,t,n){let i;const o=["position","style","class"];let r=De(t,o),s,{$$slots:l={},$$scope:a}=t,{position:u="top-right"}=t,{style:f=void 0}=t,{class:c=void 0}=t;const{selectionRectMode:d}=Ie();return J(e,d,h=>n(3,s=h)),e.$$set=h=>{t=_e(_e({},t),nt(h)),n(5,r=De(t,o)),"position"in h&&n(6,u=h.position),"style"in h&&n(0,f=h.style),"class"in h&&n(1,c=h.class),"$$scope"in h&&n(7,a=h.$$scope)},e.$$.update=()=>{e.$$.dirty&64&&n(2,i=`${u}`.split("-"))},[f,c,i,s,d,r,u,a,l]}class to extends ge{constructor(t){super(),he(this,t,Oh,Nh,me,{position:6,style:0,class:1})}}function yl(e){let t,n;return t=new to({props:{position:e[1],class:"svelte-flow__attribution","data-message":"Feel free to remove the attribution or check out how you could support us: https://svelteflow.dev/support-us",$$slots:{default:[Dh]},$$scope:{ctx:e}}}),{c(){re(t.$$.fragment)},m(i,o){ne(t,i,o),n=!0},p(i,o){const r={};o&2&&(r.position=i[1]),o&4&&(r.$$scope={dirty:o,ctx:i}),t.$set(r)},i(i){n||(V(t.$$.fragment,i),n=!0)},o(i){Y(t.$$.fragment,i),n=!1},d(i){ie(t,i)}}}function Dh(e){let t;return{c(){t=ae("a"),t.textContent="Svelte Flow",w(t,"href","https://svelteflow.dev"),w(t,"target","_blank"),w(t,"rel","noopener noreferrer"),w(t,"aria-label","Svelte Flow attribution")},m(n,i){Z(n,t,i)},p:fe,d(n){n&&K(t)}}}function Th(e){var o;let t,n,i=!((o=e[0])!=null&&o.hideAttribution)&&yl(e);return{c(){i&&i.c(),t=Le()},m(r,s){i&&i.m(r,s),Z(r,t,s),n=!0},p(r,[s]){var l;(l=r[0])!=null&&l.hideAttribution?i&&(Ae(),Y(i,1,1,()=>{i=null}),He()):i?(i.p(r,s),s&1&&V(i,1)):(i=yl(r),i.c(),V(i,1),i.m(t.parentNode,t))},i(r){n||(V(i),n=!0)},o(r){Y(i),n=!1},d(r){r&&K(t),i&&i.d(r)}}}function Ah(e,t,n){let{proOptions:i=void 0}=t,{position:o="bottom-right"}=t;return e.$$set=r=>{"proOptions"in r&&n(0,i=r.proOptions),"position"in r&&n(1,o=r.position)},[i,o]}class Hh extends ge{constructor(t){super(),he(this,t,Ah,Th,me,{proOptions:0,position:1})}}function _l(e,{nodeTypes:t,edgeTypes:n,minZoom:i,maxZoom:o,translateExtent:r,paneClickDistance:s}){t!==void 0&&e.setNodeTypes(t),n!==void 0&&e.setEdgeTypes(n),i!==void 0&&e.setMinZoom(i),o!==void 0&&e.setMaxZoom(o),r!==void 0&&e.setTranslateExtent(r),s!==void 0&&e.setPaneClickDistance(s)}const Ih=e=>Object.keys(e);function Vh(e,t){Ih(t).forEach(n=>{const i=t[n];i!==void 0&&e[n].set(i)})}function Rh(){return typeof window>"u"||!window.matchMedia?null:window.matchMedia("(prefers-color-scheme: dark)")}function Xh(e="light"){return xe("light",n=>{if(e!=="system"){n(e);return}const i=Rh(),o=()=>n(i!=null&&i.matches?"dark":"light");return n(i!=null&&i.matches?"dark":"light"),i==null||i.addEventListener("change",o),()=>{i==null||i.removeEventListener("change",o)}})}const Yh=e=>({}),bl=e=>({slot:"connectionLine"});function Lh(e){let t;const n=e[75].connectionLine,i=qe(n,e,e[99],bl);return{c(){i&&i.c()},m(o,r){i&&i.m(o,r),t=!0},p(o,r){i&&i.p&&(!t||r[3]&64)&&Ge(i,n,o,o[99],t?Ze(n,o[99],r,Yh):Ue(o[99]),bl)},i(o){t||(V(i,o),t=!0)},o(o){Y(i,o),t=!1},d(o){i&&i.d(o)}}}function Wh(e){let t,n,i,o,r,s,l,a,u,f,c,d;return t=new fh({props:{defaultEdgeOptions:e[21]}}),t.$on("edgeclick",e[78]),t.$on("edgecontextmenu",e[79]),t.$on("edgemouseenter",e[80]),t.$on("edgemouseleave",e[81]),i=new Ph({props:{containerStyle:e[7],style:e[6],isCustomComponent:e[34].connectionLine,$$slots:{connectionLine:[Lh]},$$scope:{ctx:e}}}),u=new Ud({props:{nodeClickDistance:e[23]}}),u.$on("nodeclick",e[82]),u.$on("nodemouseenter",e[83]),u.$on("nodemousemove",e[84]),u.$on("nodemouseleave",e[85]),u.$on("nodedragstart",e[86]),u.$on("nodedrag",e[87]),u.$on("nodedragstop",e[88]),u.$on("nodecontextmenu",e[89]),c=new wh({}),c.$on("selectionclick",e[90]),c.$on("selectioncontextmenu",e[91]),c.$on("nodedragstart",e[92]),c.$on("nodedrag",e[93]),c.$on("nodedragstop",e[94]),{c(){re(t.$$.fragment),n=ue(),re(i.$$.fragment),o=ue(),r=ae("div"),s=ue(),l=ae("div"),a=ue(),re(u.$$.fragment),f=ue(),re(c.$$.fragment),w(r,"class","svelte-flow__edgelabel-renderer"),w(l,"class","svelte-flow__viewport-portal")},m(h,m){ne(t,h,m),Z(h,n,m),ne(i,h,m),Z(h,o,m),Z(h,r,m),Z(h,s,m),Z(h,l,m),Z(h,a,m),ne(u,h,m),Z(h,f,m),ne(c,h,m),d=!0},p(h,m){const y={};m[0]&2097152&&(y.defaultEdgeOptions=h[21]),t.$set(y);const _={};m[0]&128&&(_.containerStyle=h[7]),m[0]&64&&(_.style=h[6]),m[1]&8&&(_.isCustomComponent=h[34].connectionLine),m[3]&64&&(_.$$scope={dirty:m,ctx:h}),i.$set(_);const g={};m[0]&8388608&&(g.nodeClickDistance=h[23]),u.$set(g)},i(h){d||(V(t.$$.fragment,h),V(i.$$.fragment,h),V(u.$$.fragment,h),V(c.$$.fragment,h),d=!0)},o(h){Y(t.$$.fragment,h),Y(i.$$.fragment,h),Y(u.$$.fragment,h),Y(c.$$.fragment,h),d=!1},d(h){h&&(K(n),K(o),K(r),K(s),K(l),K(a),K(f)),ie(t,h),ie(i,h),ie(u,h),ie(c,h)}}}function Bh(e){let t,n,i,o;return t=new Ld({props:{$$slots:{default:[Wh]},$$scope:{ctx:e}}}),i=new mh({}),{c(){re(t.$$.fragment),n=ue(),re(i.$$.fragment)},m(r,s){ne(t,r,s),Z(r,n,s),ne(i,r,s),o=!0},p(r,s){const l={};s[0]&10485952|s[1]&8|s[3]&64&&(l.$$scope={dirty:s,ctx:r}),t.$set(l)},i(r){o||(V(t.$$.fragment,r),V(i.$$.fragment,r),o=!0)},o(r){Y(t.$$.fragment,r),Y(i.$$.fragment,r),o=!1},d(r){r&&K(n),ie(t,r),ie(i,r)}}}function Kh(e){let t,n;return t=new Rd({props:{panOnDrag:e[17]===void 0?!0:e[17],selectionOnDrag:e[18],$$slots:{default:[Bh]},$$scope:{ctx:e}}}),t.$on("paneclick",e[95]),t.$on("panecontextmenu",e[96]),{c(){re(t.$$.fragment)},m(i,o){ne(t,i,o),n=!0},p(i,o){const r={};o[0]&131072&&(r.panOnDrag=i[17]===void 0?!0:i[17]),o[0]&262144&&(r.selectionOnDrag=i[18]),o[0]&10485952|o[1]&8|o[3]&64&&(r.$$scope={dirty:o,ctx:i}),t.$set(r)},i(i){n||(V(t.$$.fragment,i),n=!0)},o(i){Y(t.$$.fragment,i),n=!1},d(i){ie(t,i)}}}function Fh(e){let t,n,i,o,r,s,l,a,u,f,c,d;n=new Ch({props:{selectionKey:e[1],deleteKey:e[5],panActivationKey:e[2],multiSelectionKey:e[3],zoomActivationKey:e[4]}}),o=new Hd({props:{initialViewport:e[31],onMoveStart:e[8],onMove:e[9],onMoveEnd:e[10],panOnScrollMode:e[11]===void 0?ut.Free:e[11],preventScrolling:e[12]===void 0?!0:e[12],zoomOnScroll:e[13]===void 0?!0:e[13],zoomOnDoubleClick:e[14]===void 0?!0:e[14],zoomOnPinch:e[15]===void 0?!0:e[15],panOnScroll:e[16]===void 0?!1:e[16],panOnDrag:e[17]===void 0?!0:e[17],paneClickDistance:e[22]===void 0?0:e[22],$$slots:{default:[Kh]},$$scope:{ctx:e}}}),s=new Hh({props:{proOptions:e[20],position:e[19]}});const h=e[75].default,m=qe(h,e,e[99],null);let y=[{style:e[24]},{class:a=Ee(["svelte-flow",e[25],e[30]])},{"data-testid":"svelte-flow__wrapper"},e[33],{role:"application"}],_={};for(let g=0;g<y.length;g+=1)_=_e(_,y[g]);return{c(){t=ae("div"),re(n.$$.fragment),i=ue(),re(o.$$.fragment),r=ue(),re(s.$$.fragment),l=ue(),m&&m.c(),Rt(t,_),Tn(()=>e[98].call(t)),se(t,"svelte-18e9ir1",!0)},m(g,C){Z(g,t,C),ne(n,t,null),q(t,i),ne(o,t,null),q(t,r),ne(s,t,null),q(t,l),m&&m.m(t,null),e[97](t),u=rs(t,e[98].bind(t)),f=!0,c||(d=[Se(t,"dragover",e[76]),Se(t,"drop",e[77])],c=!0)},p(g,C){const k={};C[0]&2&&(k.selectionKey=g[1]),C[0]&32&&(k.deleteKey=g[5]),C[0]&4&&(k.panActivationKey=g[2]),C[0]&8&&(k.multiSelectionKey=g[3]),C[0]&16&&(k.zoomActivationKey=g[4]),n.$set(k);const p={};C[0]&256&&(p.onMoveStart=g[8]),C[0]&512&&(p.onMove=g[9]),C[0]&1024&&(p.onMoveEnd=g[10]),C[0]&2048&&(p.panOnScrollMode=g[11]===void 0?ut.Free:g[11]),C[0]&4096&&(p.preventScrolling=g[12]===void 0?!0:g[12]),C[0]&8192&&(p.zoomOnScroll=g[13]===void 0?!0:g[13]),C[0]&16384&&(p.zoomOnDoubleClick=g[14]===void 0?!0:g[14]),C[0]&32768&&(p.zoomOnPinch=g[15]===void 0?!0:g[15]),C[0]&65536&&(p.panOnScroll=g[16]===void 0?!1:g[16]),C[0]&131072&&(p.panOnDrag=g[17]===void 0?!0:g[17]),C[0]&4194304&&(p.paneClickDistance=g[22]===void 0?0:g[22]),C[0]&10879168|C[1]&8|C[3]&64&&(p.$$scope={dirty:C,ctx:g}),o.$set(p);const P={};C[0]&1048576&&(P.proOptions=g[20]),C[0]&524288&&(P.position=g[19]),s.$set(P),m&&m.p&&(!f||C[3]&64)&&Ge(m,h,g,g[99],f?Ze(h,g[99],C,null):Ue(g[99]),null),Rt(t,_=dt(y,[(!f||C[0]&16777216)&&{style:g[24]},(!f||C[0]&1107296256&&a!==(a=Ee(["svelte-flow",g[25],g[30]])))&&{class:a},{"data-testid":"svelte-flow__wrapper"},C[1]&4&&g[33],{role:"application"}])),se(t,"svelte-18e9ir1",!0)},i(g){f||(V(n.$$.fragment,g),V(o.$$.fragment,g),V(s.$$.fragment,g),V(m,g),f=!0)},o(g){Y(n.$$.fragment,g),Y(o.$$.fragment,g),Y(s.$$.fragment,g),Y(m,g),f=!1},d(g){g&&K(t),ie(n),ie(o),ie(s),m&&m.d(g),e[97](null),u(),c=!1,Ye(d)}}}function qh(e,t,n){let i;const o=["id","nodes","edges","fitView","fitViewOptions","minZoom","maxZoom","initialViewport","viewport","nodeTypes","edgeTypes","selectionKey","selectionMode","panActivationKey","multiSelectionKey","zoomActivationKey","nodesDraggable","nodesConnectable","nodeDragThreshold","elementsSelectable","snapGrid","deleteKey","connectionRadius","connectionLineType","connectionMode","connectionLineStyle","connectionLineContainerStyle","onMoveStart","onMove","onMoveEnd","isValidConnection","translateExtent","nodeExtent","onlyRenderVisibleElements","panOnScrollMode","preventScrolling","zoomOnScroll","zoomOnDoubleClick","zoomOnPinch","panOnScroll","panOnDrag","selectionOnDrag","autoPanOnConnect","autoPanOnNodeDrag","onerror","ondelete","onedgecreate","attributionPosition","proOptions","defaultEdgeOptions","width","height","colorMode","onconnect","onconnectstart","onconnectend","onbeforedelete","oninit","nodeOrigin","paneClickDistance","nodeClickDistance","defaultMarkerColor","style","class"];let r=De(t,o),s,l,a=fe,u=()=>(a(),a=an(D,E=>n(100,l=E)),D),f,c=fe,d=()=>(c(),c=an(i,E=>n(30,f=E)),i);e.$$.on_destroy.push(()=>a()),e.$$.on_destroy.push(()=>c());let{$$slots:h={},$$scope:m}=t;const y=es(h);let{id:_="1"}=t,{nodes:g}=t,{edges:C}=t,{fitView:k=void 0}=t,{fitViewOptions:p=void 0}=t,{minZoom:P=void 0}=t,{maxZoom:H=void 0}=t,{initialViewport:M=void 0}=t,{viewport:D=void 0}=t;u();let{nodeTypes:O=void 0}=t,{edgeTypes:B=void 0}=t,{selectionKey:A=void 0}=t,{selectionMode:X=void 0}=t,{panActivationKey:L=void 0}=t,{multiSelectionKey:b=void 0}=t,{zoomActivationKey:v=void 0}=t,{nodesDraggable:S=void 0}=t,{nodesConnectable:N=void 0}=t,{nodeDragThreshold:T=void 0}=t,{elementsSelectable:I=void 0}=t,{snapGrid:W=void 0}=t,{deleteKey:G=void 0}=t,{connectionRadius:Q=void 0}=t,{connectionLineType:U=void 0}=t,{connectionMode:R=Tt.Strict}=t,{connectionLineStyle:te=""}=t,{connectionLineContainerStyle:de=""}=t,{onMoveStart:j=void 0}=t,{onMove:ke=void 0}=t,{onMoveEnd:x=void 0}=t,{isValidConnection:ye=void 0}=t,{translateExtent:be=void 0}=t,{nodeExtent:we=void 0}=t,{onlyRenderVisibleElements:ze=void 0}=t,{panOnScrollMode:F=ut.Free}=t,{preventScrolling:Ne=!0}=t,{zoomOnScroll:Xe=!0}=t,{zoomOnDoubleClick:Ke=!0}=t,{zoomOnPinch:Me=!0}=t,{panOnScroll:et=!1}=t,{panOnDrag:We=!0}=t,{selectionOnDrag:bt=void 0}=t,{autoPanOnConnect:ee=!0}=t,{autoPanOnNodeDrag:vt=!0}=t,{onerror:St=void 0}=t,{ondelete:Ct=void 0}=t,{onedgecreate:It=void 0}=t,{attributionPosition:lt=void 0}=t,{proOptions:ct=void 0}=t,{defaultEdgeOptions:z=void 0}=t,{width:tt=void 0}=t,{height:Re=void 0}=t,{colorMode:Te="light"}=t,{onconnect:tn=void 0}=t,{onconnectstart:nn=void 0}=t,{onconnectend:on=void 0}=t,{onbeforedelete:rn=void 0}=t,{oninit:Et=void 0}=t,{nodeOrigin:Vt=void 0}=t,{paneClickDistance:mi=0}=t,{nodeClickDistance:Jl=0}=t,{defaultMarkerColor:oo="#b1b1b7"}=t,{style:Ql=void 0}=t,{class:jl=void 0}=t,yi,ln,sn;const r0=l||M,Fe=ss(eo)?Ie():Od({nodes:$(g),edges:$(C),width:tt,height:Re,fitView:k,nodeOrigin:Vt,nodeExtent:we});Nn(()=>(Fe.width.set(ln),Fe.height.set(sn),Fe.domNode.set(yi),Fe.syncNodeStores(g),Fe.syncEdgeStores(C),Fe.syncViewport(D),k!==void 0&&Fe.fitViewQueued.set(k),p&&Fe.fitViewOptions.set(p),_l(Fe,{nodeTypes:O,edgeTypes:B,minZoom:P,maxZoom:H,translateExtent:be,paneClickDistance:mi}),()=>{Fe.reset()}));const{initialized:xl}=Fe;J(e,xl,E=>n(74,s=E));let ro=!1;function l0(E){ve.call(this,e,E)}function s0(E){ve.call(this,e,E)}function a0(E){ve.call(this,e,E)}function u0(E){ve.call(this,e,E)}function f0(E){ve.call(this,e,E)}function c0(E){ve.call(this,e,E)}function d0(E){ve.call(this,e,E)}function h0(E){ve.call(this,e,E)}function g0(E){ve.call(this,e,E)}function m0(E){ve.call(this,e,E)}function y0(E){ve.call(this,e,E)}function _0(E){ve.call(this,e,E)}function b0(E){ve.call(this,e,E)}function w0(E){ve.call(this,e,E)}function k0(E){ve.call(this,e,E)}function p0(E){ve.call(this,e,E)}function v0(E){ve.call(this,e,E)}function S0(E){ve.call(this,e,E)}function C0(E){ve.call(this,e,E)}function E0(E){ve.call(this,e,E)}function M0(E){ve.call(this,e,E)}function z0(E){cn[E?"unshift":"push"](()=>{yi=E,n(28,yi)})}function P0(){ln=this.clientWidth,sn=this.clientHeight,n(26,ln),n(27,sn)}return e.$$set=E=>{t=_e(_e({},t),nt(E)),n(33,r=De(t,o)),"id"in E&&n(35,_=E.id),"nodes"in E&&n(36,g=E.nodes),"edges"in E&&n(37,C=E.edges),"fitView"in E&&n(38,k=E.fitView),"fitViewOptions"in E&&n(39,p=E.fitViewOptions),"minZoom"in E&&n(40,P=E.minZoom),"maxZoom"in E&&n(41,H=E.maxZoom),"initialViewport"in E&&n(42,M=E.initialViewport),"viewport"in E&&u(n(0,D=E.viewport)),"nodeTypes"in E&&n(43,O=E.nodeTypes),"edgeTypes"in E&&n(44,B=E.edgeTypes),"selectionKey"in E&&n(1,A=E.selectionKey),"selectionMode"in E&&n(45,X=E.selectionMode),"panActivationKey"in E&&n(2,L=E.panActivationKey),"multiSelectionKey"in E&&n(3,b=E.multiSelectionKey),"zoomActivationKey"in E&&n(4,v=E.zoomActivationKey),"nodesDraggable"in E&&n(46,S=E.nodesDraggable),"nodesConnectable"in E&&n(47,N=E.nodesConnectable),"nodeDragThreshold"in E&&n(48,T=E.nodeDragThreshold),"elementsSelectable"in E&&n(49,I=E.elementsSelectable),"snapGrid"in E&&n(50,W=E.snapGrid),"deleteKey"in E&&n(5,G=E.deleteKey),"connectionRadius"in E&&n(51,Q=E.connectionRadius),"connectionLineType"in E&&n(52,U=E.connectionLineType),"connectionMode"in E&&n(53,R=E.connectionMode),"connectionLineStyle"in E&&n(6,te=E.connectionLineStyle),"connectionLineContainerStyle"in E&&n(7,de=E.connectionLineContainerStyle),"onMoveStart"in E&&n(8,j=E.onMoveStart),"onMove"in E&&n(9,ke=E.onMove),"onMoveEnd"in E&&n(10,x=E.onMoveEnd),"isValidConnection"in E&&n(54,ye=E.isValidConnection),"translateExtent"in E&&n(55,be=E.translateExtent),"nodeExtent"in E&&n(56,we=E.nodeExtent),"onlyRenderVisibleElements"in E&&n(57,ze=E.onlyRenderVisibleElements),"panOnScrollMode"in E&&n(11,F=E.panOnScrollMode),"preventScrolling"in E&&n(12,Ne=E.preventScrolling),"zoomOnScroll"in E&&n(13,Xe=E.zoomOnScroll),"zoomOnDoubleClick"in E&&n(14,Ke=E.zoomOnDoubleClick),"zoomOnPinch"in E&&n(15,Me=E.zoomOnPinch),"panOnScroll"in E&&n(16,et=E.panOnScroll),"panOnDrag"in E&&n(17,We=E.panOnDrag),"selectionOnDrag"in E&&n(18,bt=E.selectionOnDrag),"autoPanOnConnect"in E&&n(58,ee=E.autoPanOnConnect),"autoPanOnNodeDrag"in E&&n(59,vt=E.autoPanOnNodeDrag),"onerror"in E&&n(60,St=E.onerror),"ondelete"in E&&n(61,Ct=E.ondelete),"onedgecreate"in E&&n(62,It=E.onedgecreate),"attributionPosition"in E&&n(19,lt=E.attributionPosition),"proOptions"in E&&n(20,ct=E.proOptions),"defaultEdgeOptions"in E&&n(21,z=E.defaultEdgeOptions),"width"in E&&n(63,tt=E.width),"height"in E&&n(64,Re=E.height),"colorMode"in E&&n(65,Te=E.colorMode),"onconnect"in E&&n(66,tn=E.onconnect),"onconnectstart"in E&&n(67,nn=E.onconnectstart),"onconnectend"in E&&n(68,on=E.onconnectend),"onbeforedelete"in E&&n(69,rn=E.onbeforedelete),"oninit"in E&&n(70,Et=E.oninit),"nodeOrigin"in E&&n(71,Vt=E.nodeOrigin),"paneClickDistance"in E&&n(22,mi=E.paneClickDistance),"nodeClickDistance"in E&&n(23,Jl=E.nodeClickDistance),"defaultMarkerColor"in E&&n(72,oo=E.defaultMarkerColor),"style"in E&&n(24,Ql=E.style),"class"in E&&n(25,jl=E.class),"$$scope"in E&&n(99,m=E.$$scope)},e.$$.update=()=>{e.$$.dirty[0]&201326592&&ln!==void 0&&sn!==void 0&&(Fe.width.set(ln),Fe.height.set(sn)),e.$$.dirty[2]&6400&&!ro&&s&&(Et==null||Et(),n(73,ro=!0)),e.$$.dirty[1]&2097135632|e.$$.dirty[2]&1777&&Vh(Fe,{flowId:_,connectionLineType:U,connectionRadius:Q,selectionMode:X,snapGrid:W,defaultMarkerColor:oo,nodesDraggable:S,nodesConnectable:N,elementsSelectable:I,onlyRenderVisibleElements:ze,isValidConnection:ye,autoPanOnConnect:ee,autoPanOnNodeDrag:vt,onerror:St,ondelete:Ct,onedgecreate:It,connectionMode:R,nodeDragThreshold:T,onconnect:tn,onconnectstart:nn,onconnectend:on,onbeforedelete:rn,nodeOrigin:Vt}),e.$$.dirty[0]&4194304|e.$$.dirty[1]&16791040&&_l(Fe,{nodeTypes:O,edgeTypes:B,minZoom:P,maxZoom:H,translateExtent:be,paneClickDistance:mi}),e.$$.dirty[2]&8&&d(n(29,i=Xh(Te)))},[D,A,L,b,v,G,te,de,j,ke,x,F,Ne,Xe,Ke,Me,et,We,bt,lt,ct,z,mi,Jl,Ql,jl,ln,sn,yi,i,f,r0,xl,r,y,_,g,C,k,p,P,H,M,O,B,X,S,N,T,I,W,Q,U,R,ye,be,we,ze,ee,vt,St,Ct,It,tt,Re,Te,tn,nn,on,rn,Et,Vt,oo,ro,s,h,l0,s0,a0,u0,f0,c0,d0,h0,g0,m0,y0,_0,b0,w0,k0,p0,v0,S0,C0,E0,M0,z0,P0,m]}class Zh extends ge{constructor(t){super(),he(this,t,qh,Fh,me,{id:35,nodes:36,edges:37,fitView:38,fitViewOptions:39,minZoom:40,maxZoom:41,initialViewport:42,viewport:0,nodeTypes:43,edgeTypes:44,selectionKey:1,selectionMode:45,panActivationKey:2,multiSelectionKey:3,zoomActivationKey:4,nodesDraggable:46,nodesConnectable:47,nodeDragThreshold:48,elementsSelectable:49,snapGrid:50,deleteKey:5,connectionRadius:51,connectionLineType:52,connectionMode:53,connectionLineStyle:6,connectionLineContainerStyle:7,onMoveStart:8,onMove:9,onMoveEnd:10,isValidConnection:54,translateExtent:55,nodeExtent:56,onlyRenderVisibleElements:57,panOnScrollMode:11,preventScrolling:12,zoomOnScroll:13,zoomOnDoubleClick:14,zoomOnPinch:15,panOnScroll:16,panOnDrag:17,selectionOnDrag:18,autoPanOnConnect:58,autoPanOnNodeDrag:59,onerror:60,ondelete:61,onedgecreate:62,attributionPosition:19,proOptions:20,defaultEdgeOptions:21,width:63,height:64,colorMode:65,onconnect:66,onconnectstart:67,onconnectend:68,onbeforedelete:69,oninit:70,nodeOrigin:71,paneClickDistance:22,nodeClickDistance:23,defaultMarkerColor:72,style:24,class:25},null,[-1,-1,-1,-1])}}const Gh=e=>({}),wl=e=>({class:"button-svg"});function Uh(e){let t,n,i,o,r;const s=e[8].default,l=qe(s,e,e[7],wl);let a=[{type:"button"},{class:n=Ee(["svelte-flow__controls-button",e[0]])},e[6]],u={};for(let f=0;f<a.length;f+=1)u=_e(u,a[f]);return{c(){t=ae("button"),l&&l.c(),Rt(t,u),le(t,"--xy-controls-button-background-color-props",e[1]),le(t,"--xy-controls-button-background-color-hover-props",e[2]),le(t,"--xy-controls-button-color-props",e[3]),le(t,"--xy-controls-button-color-hover-props",e[4]),le(t,"--xy-controls-button-border-color-props",e[5])},m(f,c){Z(f,t,c),l&&l.m(t,null),t.autofocus&&t.focus(),i=!0,o||(r=Se(t,"click",e[9]),o=!0)},p(f,[c]){l&&l.p&&(!i||c&128)&&Ge(l,s,f,f[7],i?Ze(s,f[7],c,Gh):Ue(f[7]),wl),Rt(t,u=dt(a,[{type:"button"},(!i||c&1&&n!==(n=Ee(["svelte-flow__controls-button",f[0]])))&&{class:n},c&64&&f[6]])),le(t,"--xy-controls-button-background-color-props",f[1]),le(t,"--xy-controls-button-background-color-hover-props",f[2]),le(t,"--xy-controls-button-color-props",f[3]),le(t,"--xy-controls-button-color-hover-props",f[4]),le(t,"--xy-controls-button-border-color-props",f[5])},i(f){i||(V(l,f),i=!0)},o(f){Y(l,f),i=!1},d(f){f&&K(t),l&&l.d(f),o=!1,r()}}}function Jh(e,t,n){const i=["class","bgColor","bgColorHover","color","colorHover","borderColor"];let o=De(t,i),{$$slots:r={},$$scope:s}=t,{class:l=void 0}=t,{bgColor:a=void 0}=t,{bgColorHover:u=void 0}=t,{color:f=void 0}=t,{colorHover:c=void 0}=t,{borderColor:d=void 0}=t;function h(m){ve.call(this,e,m)}return e.$$set=m=>{t=_e(_e({},t),nt(m)),n(6,o=De(t,i)),"class"in m&&n(0,l=m.class),"bgColor"in m&&n(1,a=m.bgColor),"bgColorHover"in m&&n(2,u=m.bgColorHover),"color"in m&&n(3,f=m.color),"colorHover"in m&&n(4,c=m.colorHover),"borderColor"in m&&n(5,d=m.borderColor),"$$scope"in m&&n(7,s=m.$$scope)},[l,a,u,f,c,d,o,s,r,h]}class gi extends ge{constructor(t){super(),he(this,t,Jh,Uh,me,{class:0,bgColor:1,bgColorHover:2,color:3,colorHover:4,borderColor:5})}}function Qh(e){let t,n;return{c(){t=Ce("svg"),n=Ce("path"),w(n,"d","M32 18.133H18.133V32h-4.266V18.133H0v-4.266h13.867V0h4.266v13.867H32z"),w(t,"xmlns","http://www.w3.org/2000/svg"),w(t,"viewBox","0 0 32 32")},m(i,o){Z(i,t,o),q(t,n)},p:fe,i:fe,o:fe,d(i){i&&K(t)}}}class jh extends ge{constructor(t){super(),he(this,t,null,Qh,me,{})}}function xh(e){let t,n;return{c(){t=Ce("svg"),n=Ce("path"),w(n,"d","M0 0h32v4.2H0z"),w(t,"xmlns","http://www.w3.org/2000/svg"),w(t,"viewBox","0 0 32 5")},m(i,o){Z(i,t,o),q(t,n)},p:fe,i:fe,o:fe,d(i){i&&K(t)}}}class $h extends ge{constructor(t){super(),he(this,t,null,xh,me,{})}}function eg(e){let t,n;return{c(){t=Ce("svg"),n=Ce("path"),w(n,"d","M3.692 4.63c0-.53.4-.938.939-.938h5.215V0H4.708C2.13 0 0 2.054 0 4.63v5.216h3.692V4.631zM27.354 0h-5.2v3.692h5.17c.53 0 .984.4.984.939v5.215H32V4.631A4.624 4.624 0 0027.354 0zm.954 24.83c0 .532-.4.94-.939.94h-5.215v3.768h5.215c2.577 0 4.631-2.13 4.631-4.707v-5.139h-3.692v5.139zm-23.677.94c-.531 0-.939-.4-.939-.94v-5.138H0v5.139c0 2.577 2.13 4.707 4.708 4.707h5.138V25.77H4.631z"),w(t,"xmlns","http://www.w3.org/2000/svg"),w(t,"viewBox","0 0 32 30")},m(i,o){Z(i,t,o),q(t,n)},p:fe,i:fe,o:fe,d(i){i&&K(t)}}}class tg extends ge{constructor(t){super(),he(this,t,null,eg,me,{})}}function ng(e){let t,n;return{c(){t=Ce("svg"),n=Ce("path"),w(n,"d","M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0 8 0 4.571 3.429 4.571 7.619v3.048H3.048A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047zm4.724-13.866H7.467V7.619c0-2.59 2.133-4.724 4.723-4.724 2.591 0 4.724 2.133 4.724 4.724v3.048z"),w(t,"xmlns","http://www.w3.org/2000/svg"),w(t,"viewBox","0 0 25 32")},m(i,o){Z(i,t,o),q(t,n)},p:fe,i:fe,o:fe,d(i){i&&K(t)}}}class ig extends ge{constructor(t){super(),he(this,t,null,ng,me,{})}}function og(e){let t,n;return{c(){t=Ce("svg"),n=Ce("path"),w(n,"d","M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0c-4.114 1.828-1.37 2.133.305 2.438 1.676.305 4.42 2.59 4.42 5.181v3.048H3.047A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047z"),w(t,"xmlns","http://www.w3.org/2000/svg"),w(t,"viewBox","0 0 25 32")},m(i,o){Z(i,t,o),q(t,n)},p:fe,i:fe,o:fe,d(i){i&&K(t)}}}class rg extends ge{constructor(t){super(),he(this,t,null,og,me,{})}}const lg=e=>({}),kl=e=>({}),sg=e=>({}),pl=e=>({});function vl(e){let t,n,i,o;const r=[{class:"svelte-flow__controls-zoomin"},{title:"zoom in"},{"aria-label":"zoom in"},{disabled:e[9]},e[17]];let s={$$slots:{default:[ag]},$$scope:{ctx:e}};for(let u=0;u<r.length;u+=1)s=_e(s,r[u]);t=new gi({props:s}),t.$on("click",e[18]);const l=[{class:"svelte-flow__controls-zoomout"},{title:"zoom out"},{"aria-label":"zoom out"},{disabled:e[10]},e[17]];let a={$$slots:{default:[ug]},$$scope:{ctx:e}};for(let u=0;u<l.length;u+=1)a=_e(a,l[u]);return i=new gi({props:a}),i.$on("click",e[19]),{c(){re(t.$$.fragment),n=ue(),re(i.$$.fragment)},m(u,f){ne(t,u,f),Z(u,n,f),ne(i,u,f),o=!0},p(u,f){const c=f[0]&131584?dt(r,[r[0],r[1],r[2],f[0]&512&&{disabled:u[9]},f[0]&131072&&Kt(u[17])]):{};f[1]&32&&(c.$$scope={dirty:f,ctx:u}),t.$set(c);const d=f[0]&132096?dt(l,[l[0],l[1],l[2],f[0]&1024&&{disabled:u[10]},f[0]&131072&&Kt(u[17])]):{};f[1]&32&&(d.$$scope={dirty:f,ctx:u}),i.$set(d)},i(u){o||(V(t.$$.fragment,u),V(i.$$.fragment,u),o=!0)},o(u){Y(t.$$.fragment,u),Y(i.$$.fragment,u),o=!1},d(u){u&&K(n),ie(t,u),ie(i,u)}}}function ag(e){let t,n;return t=new jh({}),{c(){re(t.$$.fragment)},m(i,o){ne(t,i,o),n=!0},i(i){n||(V(t.$$.fragment,i),n=!0)},o(i){Y(t.$$.fragment,i),n=!1},d(i){ie(t,i)}}}function ug(e){let t,n;return t=new $h({}),{c(){re(t.$$.fragment)},m(i,o){ne(t,i,o),n=!0},i(i){n||(V(t.$$.fragment,i),n=!0)},o(i){Y(t.$$.fragment,i),n=!1},d(i){ie(t,i)}}}function Sl(e){let t,n;const i=[{class:"svelte-flow__controls-fitview"},{title:"fit view"},{"aria-label":"fit view"},e[17]];let o={$$slots:{default:[fg]},$$scope:{ctx:e}};for(let r=0;r<i.length;r+=1)o=_e(o,i[r]);return t=new gi({props:o}),t.$on("click",e[20]),{c(){re(t.$$.fragment)},m(r,s){ne(t,r,s),n=!0},p(r,s){const l=s[0]&131072?dt(i,[i[0],i[1],i[2],Kt(r[17])]):{};s[1]&32&&(l.$$scope={dirty:s,ctx:r}),t.$set(l)},i(r){n||(V(t.$$.fragment,r),n=!0)},o(r){Y(t.$$.fragment,r),n=!1},d(r){ie(t,r)}}}function fg(e){let t,n;return t=new tg({}),{c(){re(t.$$.fragment)},m(i,o){ne(t,i,o),n=!0},i(i){n||(V(t.$$.fragment,i),n=!0)},o(i){Y(t.$$.fragment,i),n=!1},d(i){ie(t,i)}}}function Cl(e){let t,n;const i=[{class:"svelte-flow__controls-interactive"},{title:"toggle interactivity"},{"aria-label":"toggle interactivity"},e[17]];let o={$$slots:{default:[hg]},$$scope:{ctx:e}};for(let r=0;r<i.length;r+=1)o=_e(o,i[r]);return t=new gi({props:o}),t.$on("click",e[21]),{c(){re(t.$$.fragment)},m(r,s){ne(t,r,s),n=!0},p(r,s){const l=s[0]&131072?dt(i,[i[0],i[1],i[2],Kt(r[17])]):{};s[0]&256|s[1]&32&&(l.$$scope={dirty:s,ctx:r}),t.$set(l)},i(r){n||(V(t.$$.fragment,r),n=!0)},o(r){Y(t.$$.fragment,r),n=!1},d(r){ie(t,r)}}}function cg(e){let t,n;return t=new ig({}),{c(){re(t.$$.fragment)},m(i,o){ne(t,i,o),n=!0},i(i){n||(V(t.$$.fragment,i),n=!0)},o(i){Y(t.$$.fragment,i),n=!1},d(i){ie(t,i)}}}function dg(e){let t,n;return t=new rg({}),{c(){re(t.$$.fragment)},m(i,o){ne(t,i,o),n=!0},i(i){n||(V(t.$$.fragment,i),n=!0)},o(i){Y(t.$$.fragment,i),n=!1},d(i){ie(t,i)}}}function hg(e){let t,n,i,o;const r=[dg,cg],s=[];function l(a,u){return a[8]?0:1}return t=l(e),n=s[t]=r[t](e),{c(){n.c(),i=Le()},m(a,u){s[t].m(a,u),Z(a,i,u),o=!0},p(a,u){let f=t;t=l(a),t!==f&&(Ae(),Y(s[f],1,1,()=>{s[f]=null}),He(),n=s[t],n||(n=s[t]=r[t](a),n.c()),V(n,1),n.m(i.parentNode,i))},i(a){o||(V(n),o=!0)},o(a){Y(n),o=!1},d(a){a&&K(i),s[t].d(a)}}}function gg(e){let t,n,i,o,r,s;const l=e[35].before,a=qe(l,e,e[36],pl);let u=e[1]&&vl(e),f=e[2]&&Sl(e),c=e[3]&&Cl(e);const d=e[35].default,h=qe(d,e,e[36],null),m=e[35].after,y=qe(m,e,e[36],kl);return{c(){a&&a.c(),t=ue(),u&&u.c(),n=ue(),f&&f.c(),i=ue(),c&&c.c(),o=ue(),h&&h.c(),r=ue(),y&&y.c()},m(_,g){a&&a.m(_,g),Z(_,t,g),u&&u.m(_,g),Z(_,n,g),f&&f.m(_,g),Z(_,i,g),c&&c.m(_,g),Z(_,o,g),h&&h.m(_,g),Z(_,r,g),y&&y.m(_,g),s=!0},p(_,g){a&&a.p&&(!s||g[1]&32)&&Ge(a,l,_,_[36],s?Ze(l,_[36],g,sg):Ue(_[36]),pl),_[1]?u?(u.p(_,g),g[0]&2&&V(u,1)):(u=vl(_),u.c(),V(u,1),u.m(n.parentNode,n)):u&&(Ae(),Y(u,1,1,()=>{u=null}),He()),_[2]?f?(f.p(_,g),g[0]&4&&V(f,1)):(f=Sl(_),f.c(),V(f,1),f.m(i.parentNode,i)):f&&(Ae(),Y(f,1,1,()=>{f=null}),He()),_[3]?c?(c.p(_,g),g[0]&8&&V(c,1)):(c=Cl(_),c.c(),V(c,1),c.m(o.parentNode,o)):c&&(Ae(),Y(c,1,1,()=>{c=null}),He()),h&&h.p&&(!s||g[1]&32)&&Ge(h,d,_,_[36],s?Ze(d,_[36],g,null):Ue(_[36]),null),y&&y.p&&(!s||g[1]&32)&&Ge(y,m,_,_[36],s?Ze(m,_[36],g,lg):Ue(_[36]),kl)},i(_){s||(V(a,_),V(u),V(f),V(c),V(h,_),V(y,_),s=!0)},o(_){Y(a,_),Y(u),Y(f),Y(c),Y(h,_),Y(y,_),s=!1},d(_){_&&(K(t),K(n),K(i),K(o),K(r)),a&&a.d(_),u&&u.d(_),f&&f.d(_),c&&c.d(_),h&&h.d(_),y&&y.d(_)}}}function mg(e){let t,n;return t=new to({props:{class:Ee(["svelte-flow__controls",e[7],e[6]]),position:e[0],"data-testid":"svelte-flow__controls","aria-label":e[4]??"Svelte Flow controls",style:e[5],$$slots:{default:[gg]},$$scope:{ctx:e}}}),{c(){re(t.$$.fragment)},m(i,o){ne(t,i,o),n=!0},p(i,o){const r={};o[0]&192&&(r.class=Ee(["svelte-flow__controls",i[7],i[6]])),o[0]&1&&(r.position=i[0]),o[0]&16&&(r["aria-label"]=i[4]??"Svelte Flow controls"),o[0]&32&&(r.style=i[5]),o[0]&1806|o[1]&32&&(r.$$scope={dirty:o,ctx:i}),t.$set(r)},i(i){n||(V(t.$$.fragment,i),n=!0)},o(i){Y(t.$$.fragment,i),n=!1},d(i){ie(t,i)}}}function yg(e,t,n){let i,o,r,s,l,a,u,f,c,d,{$$slots:h={},$$scope:m}=t,{position:y="bottom-left"}=t,{showZoom:_=!0}=t,{showFitView:g=!0}=t,{showLock:C=!0}=t,{buttonBgColor:k=void 0}=t,{buttonBgColorHover:p=void 0}=t,{buttonColor:P=void 0}=t,{buttonColorHover:H=void 0}=t,{buttonBorderColor:M=void 0}=t,{ariaLabel:D=void 0}=t,{style:O=void 0}=t,{orientation:B="vertical"}=t,{fitViewOptions:A=void 0}=t,{class:X=""}=t;const{zoomIn:L,zoomOut:b,fitView:v,viewport:S,minZoom:N,maxZoom:T,nodesDraggable:I,nodesConnectable:W,elementsSelectable:G}=Ie();J(e,S,j=>n(30,a=j)),J(e,N,j=>n(31,u=j)),J(e,T,j=>n(29,l=j)),J(e,I,j=>n(34,d=j)),J(e,W,j=>n(33,c=j)),J(e,G,j=>n(32,f=j));const Q={bgColor:k,bgColorHover:p,color:P,colorHover:H,borderColor:M},U=()=>{L()},R=()=>{b()},te=()=>{v(A)},de=()=>{n(8,i=!i),I.set(i),W.set(i),G.set(i)};return e.$$set=j=>{"position"in j&&n(0,y=j.position),"showZoom"in j&&n(1,_=j.showZoom),"showFitView"in j&&n(2,g=j.showFitView),"showLock"in j&&n(3,C=j.showLock),"buttonBgColor"in j&&n(22,k=j.buttonBgColor),"buttonBgColorHover"in j&&n(23,p=j.buttonBgColorHover),"buttonColor"in j&&n(24,P=j.buttonColor),"buttonColorHover"in j&&n(25,H=j.buttonColorHover),"buttonBorderColor"in j&&n(26,M=j.buttonBorderColor),"ariaLabel"in j&&n(4,D=j.ariaLabel),"style"in j&&n(5,O=j.style),"orientation"in j&&n(27,B=j.orientation),"fitViewOptions"in j&&n(28,A=j.fitViewOptions),"class"in j&&n(6,X=j.class),"$$scope"in j&&n(36,m=j.$$scope)},e.$$.update=()=>{e.$$.dirty[1]&14&&n(8,i=d||c||f),e.$$.dirty[0]&1073741824|e.$$.dirty[1]&1&&n(10,o=a.zoom<=u),e.$$.dirty[0]&1610612736&&n(9,r=a.zoom>=l),e.$$.dirty[0]&134217728&&n(7,s=B==="horizontal"?"horizontal":"vertical")},[y,_,g,C,D,O,X,s,i,r,o,S,N,T,I,W,G,Q,U,R,te,de,k,p,P,H,M,B,A,l,a,u,f,c,d,h,m]}class _g extends ge{constructor(t){super(),he(this,t,yg,mg,me,{position:0,showZoom:1,showFitView:2,showLock:3,buttonBgColor:22,buttonBgColorHover:23,buttonColor:24,buttonColorHover:25,buttonBorderColor:26,ariaLabel:4,style:5,orientation:27,fitViewOptions:28,class:6},null,[-1,-1])}}var _t;(function(e){e.Lines="lines",e.Dots="dots",e.Cross="cross"})(_t||(_t={}));function bg(e){let t,n;return{c(){t=Ce("circle"),w(t,"cx",e[0]),w(t,"cy",e[0]),w(t,"r",e[0]),w(t,"class",n=Ee(["svelte-flow__background-pattern","dots",e[1]]))},m(i,o){Z(i,t,o)},p(i,[o]){o&1&&w(t,"cx",i[0]),o&1&&w(t,"cy",i[0]),o&1&&w(t,"r",i[0]),o&2&&n!==(n=Ee(["svelte-flow__background-pattern","dots",i[1]]))&&w(t,"class",n)},i:fe,o:fe,d(i){i&&K(t)}}}function wg(e,t,n){let{radius:i=5}=t,{class:o=""}=t;return e.$$set=r=>{"radius"in r&&n(0,i=r.radius),"class"in r&&n(1,o=r.class)},[i,o]}class kg extends ge{constructor(t){super(),he(this,t,wg,bg,me,{radius:0,class:1})}}function pg(e){let t,n,i;return{c(){t=Ce("path"),w(t,"stroke-width",e[0]),w(t,"d",n=`M${e[1][0]/2} 0 V${e[1][1]} M0 ${e[1][1]/2} H${e[1][0]}`),w(t,"class",i=Ee(["svelte-flow__background-pattern",e[2],e[3]]))},m(o,r){Z(o,t,r)},p(o,[r]){r&1&&w(t,"stroke-width",o[0]),r&2&&n!==(n=`M${o[1][0]/2} 0 V${o[1][1]} M0 ${o[1][1]/2} H${o[1][0]}`)&&w(t,"d",n),r&12&&i!==(i=Ee(["svelte-flow__background-pattern",o[2],o[3]]))&&w(t,"class",i)},i:fe,o:fe,d(o){o&&K(t)}}}function vg(e,t,n){let{lineWidth:i=1}=t,{dimensions:o}=t,{variant:r=void 0}=t,{class:s=""}=t;return e.$$set=l=>{"lineWidth"in l&&n(0,i=l.lineWidth),"dimensions"in l&&n(1,o=l.dimensions),"variant"in l&&n(2,r=l.variant),"class"in l&&n(3,s=l.class)},[i,o,r,s]}class Sg extends ge{constructor(t){super(),he(this,t,vg,pg,me,{lineWidth:0,dimensions:1,variant:2,class:3})}}function Cg(e){let t,n;return t=new Sg({props:{dimensions:e[6],variant:e[0],lineWidth:e[1],class:e[4]}}),{c(){re(t.$$.fragment)},m(i,o){ne(t,i,o),n=!0},p(i,o){const r={};o&64&&(r.dimensions=i[6]),o&1&&(r.variant=i[0]),o&2&&(r.lineWidth=i[1]),o&16&&(r.class=i[4]),t.$set(r)},i(i){n||(V(t.$$.fragment,i),n=!0)},o(i){Y(t.$$.fragment,i),n=!1},d(i){ie(t,i)}}}function Eg(e){let t,n;return t=new kg({props:{radius:e[7]/2,class:e[4]}}),{c(){re(t.$$.fragment)},m(i,o){ne(t,i,o),n=!0},p(i,o){const r={};o&128&&(r.radius=i[7]/2),o&16&&(r.class=i[4]),t.$set(r)},i(i){n||(V(t.$$.fragment,i),n=!0)},o(i){Y(t.$$.fragment,i),n=!1},d(i){ie(t,i)}}}function Mg(e){let t,n,i,o,r,s,l,a,u,f,c,d,h;const m=[Eg,Cg],y=[];function _(g,C){return g[14]?0:1}return i=_(e),o=y[i]=m[i](e),{c(){t=Ce("svg"),n=Ce("pattern"),o.c(),f=Ce("rect"),w(n,"id",e[11]),w(n,"x",r=e[9].x%e[8][0]),w(n,"y",s=e[9].y%e[8][1]),w(n,"width",l=e[8][0]),w(n,"height",a=e[8][1]),w(n,"patternUnits","userSpaceOnUse"),w(n,"patternTransform",u=`translate(-${e[10][0]},-${e[10][1]})`),w(f,"x","0"),w(f,"y","0"),w(f,"width","100%"),w(f,"height","100%"),w(f,"fill",c=`url(#${e[11]})`),w(t,"class",d=fo(Ee(["svelte-flow__background",e[5]]))+" svelte-1r7pe8d"),w(t,"data-testid","svelte-flow__background"),le(t,"--xy-background-color-props",e[2]),le(t,"--xy-background-pattern-color-props",e[3])},m(g,C){Z(g,t,C),q(t,n),y[i].m(n,null),q(t,f),h=!0},p(g,[C]){o.p(g,C),(!h||C&2048)&&w(n,"id",g[11]),(!h||C&768&&r!==(r=g[9].x%g[8][0]))&&w(n,"x",r),(!h||C&768&&s!==(s=g[9].y%g[8][1]))&&w(n,"y",s),(!h||C&256&&l!==(l=g[8][0]))&&w(n,"width",l),(!h||C&256&&a!==(a=g[8][1]))&&w(n,"height",a),(!h||C&1024&&u!==(u=`translate(-${g[10][0]},-${g[10][1]})`))&&w(n,"patternTransform",u),(!h||C&2048&&c!==(c=`url(#${g[11]})`))&&w(f,"fill",c),(!h||C&32&&d!==(d=fo(Ee(["svelte-flow__background",g[5]]))+" svelte-1r7pe8d"))&&w(t,"class",d),C&4&&le(t,"--xy-background-color-props",g[2]),C&8&&le(t,"--xy-background-pattern-color-props",g[3])},i(g){h||(V(o),h=!0)},o(g){Y(o),h=!1},d(g){g&&K(t),y[i].d()}}}const zg={[_t.Dots]:1,[_t.Lines]:1,[_t.Cross]:6};function Pg(e,t,n){let i,o,r,s,l,a,u,{id:f=void 0}=t,{variant:c=_t.Dots}=t,{gap:d=20}=t,{size:h=1}=t,{lineWidth:m=1}=t,{bgColor:y=void 0}=t,{patternColor:_=void 0}=t,{patternClass:g=void 0}=t,{class:C=""}=t;const{viewport:k,flowId:p}=Ie();J(e,k,O=>n(9,a=O)),J(e,p,O=>n(18,u=O));const P=h||zg[c],H=c===_t.Dots,M=c===_t.Cross,D=Array.isArray(d)?d:[d,d];return e.$$set=O=>{"id"in O&&n(15,f=O.id),"variant"in O&&n(0,c=O.variant),"gap"in O&&n(16,d=O.gap),"size"in O&&n(17,h=O.size),"lineWidth"in O&&n(1,m=O.lineWidth),"bgColor"in O&&n(2,y=O.bgColor),"patternColor"in O&&n(3,_=O.patternColor),"patternClass"in O&&n(4,g=O.patternClass),"class"in O&&n(5,C=O.class)},e.$$.update=()=>{e.$$.dirty&294912&&n(11,i=`background-pattern-${u}-${f||""}`),e.$$.dirty&512&&n(8,o=[D[0]*a.zoom||1,D[1]*a.zoom||1]),e.$$.dirty&512&&n(7,r=P*a.zoom),e.$$.dirty&384&&n(6,s=M?[r,r]:o),e.$$.dirty&192&&n(10,l=H?[r/2,r/2]:[s[0]/2,s[1]/2])},[c,m,y,_,g,C,s,r,o,a,l,i,k,p,H,f,d,h,u]}class Ng extends ge{constructor(t){super(),he(this,t,Pg,Mg,me,{id:15,variant:0,gap:16,size:17,lineWidth:1,bgColor:2,patternColor:3,patternClass:4,class:5})}}function Og(e){let t,n,i;return{c(){t=Ce("rect"),w(t,"class",n=Ee(["svelte-flow__minimap-node",e[10]])),w(t,"x",e[0]),w(t,"y",e[1]),w(t,"rx",e[4]),w(t,"ry",e[4]),w(t,"width",e[2]),w(t,"height",e[3]),w(t,"style",i=`${e[5]?`fill: ${e[5]};`:""}${e[7]?`stroke: ${e[7]};`:""}${e[8]?`stroke-width: ${e[8]};`:""}`),w(t,"shape-rendering",e[6]),se(t,"selected",e[9])},m(o,r){Z(o,t,r)},p(o,[r]){r&1024&&n!==(n=Ee(["svelte-flow__minimap-node",o[10]]))&&w(t,"class",n),r&1&&w(t,"x",o[0]),r&2&&w(t,"y",o[1]),r&16&&w(t,"rx",o[4]),r&16&&w(t,"ry",o[4]),r&4&&w(t,"width",o[2]),r&8&&w(t,"height",o[3]),r&416&&i!==(i=`${o[5]?`fill: ${o[5]};`:""}${o[7]?`stroke: ${o[7]};`:""}${o[8]?`stroke-width: ${o[8]};`:""}`)&&w(t,"style",i),r&64&&w(t,"shape-rendering",o[6]),r&1536&&se(t,"selected",o[9])},i:fe,o:fe,d(o){o&&K(t)}}}function Dg(e,t,n){let{x:i}=t,{y:o}=t,{width:r=0}=t,{height:s=0}=t,{borderRadius:l=5}=t,{color:a=void 0}=t,{shapeRendering:u}=t,{strokeColor:f=void 0}=t,{strokeWidth:c=2}=t,{selected:d=!1}=t,{class:h=""}=t;return e.$$set=m=>{"x"in m&&n(0,i=m.x),"y"in m&&n(1,o=m.y),"width"in m&&n(2,r=m.width),"height"in m&&n(3,s=m.height),"borderRadius"in m&&n(4,l=m.borderRadius),"color"in m&&n(5,a=m.color),"shapeRendering"in m&&n(6,u=m.shapeRendering),"strokeColor"in m&&n(7,f=m.strokeColor),"strokeWidth"in m&&n(8,c=m.strokeWidth),"selected"in m&&n(9,d=m.selected),"class"in m&&n(10,h=m.class)},[i,o,r,s,l,a,u,f,c,d,h]}class Tg extends ge{constructor(t){super(),he(this,t,Dg,Og,me,{x:0,y:1,width:2,height:3,borderRadius:4,color:5,shapeRendering:6,strokeColor:7,strokeWidth:8,selected:9,class:10})}}function Ag(e,t){const n=Oc({domNode:e,panZoom:t.panZoom,getTransform:()=>{const o=$(t.viewport);return[o.x,o.y,o.zoom]},getViewScale:t.getViewScale});function i(o){n.update({translateExtent:o.translateExtent,width:o.width,height:o.height,inversePan:o.inversePan,zoomStep:o.zoomStep,pannable:o.pannable,zoomable:o.zoomable})}return{update:i,destroy(){n.destroy()}}}function El(e,t,n){const i=e.slice();i[55]=t[n];const o=i[20].get(i[55].id);return i[56]=o,i}function no(e){const t=e.slice(),n=kt(t[56]);return t[59]=n,t}function Ml(e){let t,n,i=[],o=new Map,r,s,l,a,u,f,c,d=e[1]&&zl(e),h=je(e[19]);const m=y=>y[55].id;for(let y=0;y<h.length;y+=1){let _=El(e,h,y),g=m(_);o.set(g,i[y]=Nl(g,_))}return{c(){t=Ce("svg"),d&&d.c(),n=Le();for(let y=0;y<i.length;y+=1)i[y].c();r=Ce("path"),w(r,"class","svelte-flow__minimap-mask"),w(r,"d",s="M"+(e[26]-e[15])+","+(e[25]-e[15])+"h"+(e[24]+e[15]*2)+"v"+(e[23]+e[15]*2)+"h"+(-e[24]-e[15]*2)+`z
      M`+e[18].x+","+e[18].y+"h"+e[18].width+"v"+e[18].height+"h"+-e[18].width+"z"),w(r,"fill-rule","evenodd"),w(r,"pointer-events","none"),w(t,"width",e[17]),w(t,"height",e[16]),w(t,"viewBox",l=e[26]+" "+e[25]+" "+e[24]+" "+e[23]),w(t,"class","svelte-flow__minimap-svg"),w(t,"role","img"),w(t,"aria-labelledby",e[41]),le(t,"--xy-minimap-mask-background-color-props",e[5]),le(t,"--xy-minimap-mask-stroke-color-props",e[6]),le(t,"--xy-minimap-mask-stroke-width-props",e[7]?e[7]*e[14]:void 0)},m(y,_){Z(y,t,_),d&&d.m(t,null),q(t,n);for(let g=0;g<i.length;g+=1)i[g]&&i[g].m(t,null);q(t,r),u=!0,f||(c=Be(a=Ag.call(null,t,{panZoom:e[27],viewport:e[31],getViewScale:e[42],translateExtent:e[28],width:e[22],height:e[21],inversePan:e[10],zoomStep:e[11],pannable:e[8],zoomable:e[9]})),f=!0)},p(y,_){y[1]?d?d.p(y,_):(d=zl(y),d.c(),d.m(t,n)):d&&(d.d(1),d=null),_[0]&1572876|_[1]&960&&(h=je(y[19]),Ae(),i=In(i,_,m,1,y,h,o,t,Hn,Nl,r,El),He()),(!u||_[0]&126124032&&s!==(s="M"+(y[26]-y[15])+","+(y[25]-y[15])+"h"+(y[24]+y[15]*2)+"v"+(y[23]+y[15]*2)+"h"+(-y[24]-y[15]*2)+`z
      M`+y[18].x+","+y[18].y+"h"+y[18].width+"v"+y[18].height+"h"+-y[18].width+"z"))&&w(r,"d",s),(!u||_[0]&131072)&&w(t,"width",y[17]),(!u||_[0]&65536)&&w(t,"height",y[16]),(!u||_[0]&125829120&&l!==(l=y[26]+" "+y[25]+" "+y[24]+" "+y[23]))&&w(t,"viewBox",l),a&&Oe(a.update)&&_[0]&408948480&&a.update.call(null,{panZoom:y[27],viewport:y[31],getViewScale:y[42],translateExtent:y[28],width:y[22],height:y[21],inversePan:y[10],zoomStep:y[11],pannable:y[8],zoomable:y[9]}),_[0]&32&&le(t,"--xy-minimap-mask-background-color-props",y[5]),_[0]&64&&le(t,"--xy-minimap-mask-stroke-color-props",y[6]),_[0]&16512&&le(t,"--xy-minimap-mask-stroke-width-props",y[7]?y[7]*y[14]:void 0)},i(y){if(!u){for(let _=0;_<h.length;_+=1)V(i[_]);u=!0}},o(y){for(let _=0;_<i.length;_+=1)Y(i[_]);u=!1},d(y){y&&K(t),d&&d.d();for(let _=0;_<i.length;_+=1)i[_].d();f=!1,c()}}}function zl(e){let t,n;return{c(){t=Ce("title"),n=pe(e[1]),w(t,"id",e[41])},m(i,o){Z(i,t,o),q(t,n)},p(i,o){o[0]&2&&Pe(n,i[1])},d(i){i&&K(t)}}}function Pl(e){var r;let t,n;const i=[{x:e[56].internals.positionAbsolute.x},{y:e[56].internals.positionAbsolute.y},e[59],{selected:e[56].selected},{color:(r=e[37])==null?void 0:r.call(e,e[56])},{borderRadius:e[2]},{strokeColor:e[38](e[56])},{strokeWidth:e[3]},{shapeRendering:e[40]},{class:e[39](e[56])}];let o={};for(let s=0;s<i.length;s+=1)o=_e(o,i[s]);return t=new Tg({props:o}),{c(){re(t.$$.fragment)},m(s,l){ne(t,s,l),n=!0},p(s,l){var u;const a=l[0]&1572876|l[1]&960?dt(i,[l[0]&1572864&&{x:s[56].internals.positionAbsolute.x},l[0]&1572864&&{y:s[56].internals.positionAbsolute.y},l[0]&1572864&&Kt(s[59]),l[0]&1572864&&{selected:s[56].selected},l[0]&1572864|l[1]&64&&{color:(u=s[37])==null?void 0:u.call(s,s[56])},l[0]&4&&{borderRadius:s[2]},l[0]&1572864|l[1]&128&&{strokeColor:s[38](s[56])},l[0]&8&&{strokeWidth:s[3]},l[1]&512&&{shapeRendering:s[40]},l[0]&1572864|l[1]&256&&{class:s[39](s[56])}]):{};t.$set(a)},i(s){n||(V(t.$$.fragment,s),n=!0)},o(s){Y(t.$$.fragment,s),n=!1},d(s){ie(t,s)}}}function Nl(e,t){let n,i=t[56]&&ai(t[56]),o,r,s=i&&Pl(no(t));return{key:e,first:null,c(){n=Le(),s&&s.c(),o=Le(),this.first=n},m(l,a){Z(l,n,a),s&&s.m(l,a),Z(l,o,a),r=!0},p(l,a){t=l,a[0]&1572864&&(i=t[56]&&ai(t[56])),i?s?(s.p(no(t),a),a[0]&1572864&&V(s,1)):(s=Pl(no(t)),s.c(),V(s,1),s.m(o.parentNode,o)):s&&(Ae(),Y(s,1,1,()=>{s=null}),He())},i(l){r||(V(s),r=!0)},o(l){Y(s),r=!1},d(l){l&&(K(n),K(o)),s&&s.d(l)}}}function Hg(e){let t,n,i=e[27]&&Ml(e);return{c(){i&&i.c(),t=Le()},m(o,r){i&&i.m(o,r),Z(o,t,r),n=!0},p(o,r){o[27]?i?(i.p(o,r),r[0]&134217728&&V(i,1)):(i=Ml(o),i.c(),V(i,1),i.m(t.parentNode,t)):i&&(Ae(),Y(i,1,1,()=>{i=null}),He())},i(o){n||(V(i),n=!0)},o(o){Y(i),n=!1},d(o){o&&K(t),i&&i.d(o)}}}function Ig(e){let t,n;return t=new to({props:{position:e[0],style:e[12]+(e[4]?`;--xy-minimap-background-color-props:${e[4]}`:""),class:Ee(["svelte-flow__minimap",e[13]]),"data-testid":"svelte-flow__minimap",$$slots:{default:[Hg]},$$scope:{ctx:e}}}),{c(){re(t.$$.fragment)},m(i,o){ne(t,i,o),n=!0},p(i,o){const r={};o[0]&1&&(r.position=i[0]),o[0]&4112&&(r.style=i[12]+(i[4]?`;--xy-minimap-background-color-props:${i[4]}`:"")),o[0]&8192&&(r.class=Ee(["svelte-flow__minimap",i[13]])),o[0]&536858606|o[1]&536870912&&(r.$$scope={dirty:o,ctx:i}),t.$set(r)},i(i){n||(V(t.$$.fragment,i),n=!0)},o(i){Y(t.$$.fragment,i),n=!1},d(i){ie(t,i)}}}const io=e=>e instanceof Function?e:()=>e,Vg=200,Rg=150;function Xg(e,t,n){let i,o,r,s,l,a,u,f,c,d,h,m,y,_,g,C,k,p,P,H,M,{position:D="bottom-right"}=t,{ariaLabel:O="Mini map"}=t,{nodeStrokeColor:B="transparent"}=t,{nodeColor:A=void 0}=t,{nodeClass:X=""}=t,{nodeBorderRadius:L=5}=t,{nodeStrokeWidth:b=2}=t,{bgColor:v=void 0}=t,{maskColor:S=void 0}=t,{maskStrokeColor:N=void 0}=t,{maskStrokeWidth:T=void 0}=t,{width:I=void 0}=t,{height:W=void 0}=t,{pannable:G=!0}=t,{zoomable:Q=!0}=t,{inversePan:U=void 0}=t,{zoomStep:R=void 0}=t,{style:te=""}=t,{class:de=""}=t;const{nodes:j,nodeLookup:ke,viewport:x,width:ye,height:be,flowId:we,panZoom:ze,translateExtent:F}=Ie();J(e,j,ee=>n(19,_=ee)),J(e,ke,ee=>n(20,g=ee)),J(e,x,ee=>n(53,C=ee)),J(e,ye,ee=>n(22,p=ee)),J(e,be,ee=>n(21,k=ee)),J(e,we,ee=>n(54,P=ee)),J(e,ze,ee=>n(27,H=ee)),J(e,F,ee=>n(28,M=ee));const Ne=A===void 0?void 0:io(A),Xe=io(B),Ke=io(X),Me=typeof window>"u"||window.chrome?"crispEdges":"geometricPrecision",et=`svelte-flow__minimap-desc-${P}`;let We=i;const bt=()=>a;return e.$$set=ee=>{"position"in ee&&n(0,D=ee.position),"ariaLabel"in ee&&n(1,O=ee.ariaLabel),"nodeStrokeColor"in ee&&n(43,B=ee.nodeStrokeColor),"nodeColor"in ee&&n(44,A=ee.nodeColor),"nodeClass"in ee&&n(45,X=ee.nodeClass),"nodeBorderRadius"in ee&&n(2,L=ee.nodeBorderRadius),"nodeStrokeWidth"in ee&&n(3,b=ee.nodeStrokeWidth),"bgColor"in ee&&n(4,v=ee.bgColor),"maskColor"in ee&&n(5,S=ee.maskColor),"maskStrokeColor"in ee&&n(6,N=ee.maskStrokeColor),"maskStrokeWidth"in ee&&n(7,T=ee.maskStrokeWidth),"width"in ee&&n(46,I=ee.width),"height"in ee&&n(47,W=ee.height),"pannable"in ee&&n(8,G=ee.pannable),"zoomable"in ee&&n(9,Q=ee.zoomable),"inversePan"in ee&&n(10,U=ee.inversePan),"zoomStep"in ee&&n(11,R=ee.zoomStep),"style"in ee&&n(12,te=ee.style),"class"in ee&&n(13,de=ee.class)},e.$$.update=()=>{e.$$.dirty[0]&6291456|e.$$.dirty[1]&4194304&&n(18,i={x:-C.x/C.zoom,y:-C.y/C.zoom,width:p/C.zoom,height:k/C.zoom}),e.$$.dirty[0]&1835008&&n(48,We=g.size>0?_r(Cn(g,{filter:ee=>!ee.hidden}),i):i),e.$$.dirty[1]&32768&&n(17,o=I??Vg),e.$$.dirty[1]&65536&&n(16,r=W??Rg),e.$$.dirty[0]&131072|e.$$.dirty[1]&131072&&n(52,s=We.width/o),e.$$.dirty[0]&65536|e.$$.dirty[1]&131072&&n(51,l=We.height/r),e.$$.dirty[1]&3145728&&n(14,a=Math.max(s,l)),e.$$.dirty[0]&147456&&n(50,u=a*o),e.$$.dirty[0]&81920&&n(49,f=a*r),e.$$.dirty[0]&16384&&n(15,c=5*a),e.$$.dirty[0]&32768|e.$$.dirty[1]&655360&&n(26,d=We.x-(u-We.width)/2-c),e.$$.dirty[0]&32768|e.$$.dirty[1]&393216&&n(25,h=We.y-(f-We.height)/2-c),e.$$.dirty[0]&32768|e.$$.dirty[1]&524288&&n(24,m=u+c*2),e.$$.dirty[0]&32768|e.$$.dirty[1]&262144&&n(23,y=f+c*2)},[D,O,L,b,v,S,N,T,G,Q,U,R,te,de,a,c,r,o,i,_,g,k,p,y,m,h,d,H,M,j,ke,x,ye,be,we,ze,F,Ne,Xe,Ke,Me,et,bt,B,A,X,I,W,We,f,u,l,s,C]}class Yg extends ge{constructor(t){super(),he(this,t,Xg,Ig,me,{position:0,ariaLabel:1,nodeStrokeColor:43,nodeColor:44,nodeClass:45,nodeBorderRadius:2,nodeStrokeWidth:3,bgColor:4,maskColor:5,maskStrokeColor:6,maskStrokeWidth:7,width:46,height:47,pannable:8,zoomable:9,inversePan:10,zoomStep:11,style:12,class:13},null,[-1,-1])}}function Ol(e){let t,n=e[0].organization+"",i;return{c(){t=ae("div"),i=pe(n),w(t,"class","node-org svelte-tkgxpd")},m(o,r){Z(o,t,r),q(t,i)},p(o,r){r&1&&n!==(n=o[0].organization+"")&&Pe(i,n)},d(o){o&&K(t)}}}function Dl(e){let t,n=e[0].expanded?"":"",i,o,r=e[0].childCount+"",s,l,a=e[0].childCount!==1?"s":"",u;return{c(){t=ae("div"),i=pe(n),o=ue(),s=pe(r),l=pe(" vendor"),u=pe(a),w(t,"class","node-children svelte-tkgxpd")},m(f,c){Z(f,t,c),q(t,i),q(t,o),q(t,s),q(t,l),q(t,u)},p(f,c){c&1&&n!==(n=f[0].expanded?"":"")&&Pe(i,n),c&1&&r!==(r=f[0].childCount+"")&&Pe(s,r),c&1&&a!==(a=f[0].childCount!==1?"s":"")&&Pe(u,a)},d(f){f&&K(t)}}}function Lg(e){let t,n,i,o,r,s=e[0].domain+"",l,a,u,f,c,d,h=e[0].organization&&e[0].organization!==e[0].domain&&Ol(e),m=e[0].hasChildren&&Dl(e);return c=new pt({props:{type:"source",position:ce.Right}}),{c(){t=ae("div"),n=ae("div"),n.textContent="",i=ue(),o=ae("div"),r=ae("div"),l=pe(s),a=ue(),h&&h.c(),u=ue(),m&&m.c(),f=ue(),re(c.$$.fragment),w(n,"class","node-icon svelte-tkgxpd"),w(r,"class","node-domain svelte-tkgxpd"),w(o,"class","node-content svelte-tkgxpd"),w(t,"class","root-node svelte-tkgxpd"),se(t,"expanded",e[0].expanded)},m(y,_){Z(y,t,_),q(t,n),q(t,i),q(t,o),q(o,r),q(r,l),q(o,a),h&&h.m(o,null),q(o,u),m&&m.m(o,null),q(t,f),ne(c,t,null),d=!0},p(y,[_]){(!d||_&1)&&s!==(s=y[0].domain+"")&&Pe(l,s),y[0].organization&&y[0].organization!==y[0].domain?h?h.p(y,_):(h=Ol(y),h.c(),h.m(o,u)):h&&(h.d(1),h=null),y[0].hasChildren?m?m.p(y,_):(m=Dl(y),m.c(),m.m(o,null)):m&&(m.d(1),m=null),(!d||_&1)&&se(t,"expanded",y[0].expanded)},i(y){d||(V(c.$$.fragment,y),d=!0)},o(y){Y(c.$$.fragment,y),d=!1},d(y){y&&K(t),h&&h.d(),m&&m.d(),ie(c)}}}function Wg(e,t,n){let{data:i}=t;return e.$$set=o=>{"data"in o&&n(0,i=o.data)},[i]}class Bg extends ge{constructor(t){super(),he(this,t,Wg,Lg,me,{data:0})}}function Tl(e){let t,n=e[0].organization+"",i;return{c(){t=ae("div"),i=pe(n),w(t,"class","node-org svelte-1a7oc2b")},m(o,r){Z(o,t,r),q(t,i)},p(o,r){r&1&&n!==(n=o[0].organization+"")&&Pe(i,n)},d(o){o&&K(t)}}}function Al(e){let t,n,i=e[0].discoveryCount+"",o,r;return{c(){t=ae("div"),n=pe(""),o=pe(i),r=pe(" sources"),w(t,"class","discovery-badge svelte-1a7oc2b")},m(s,l){Z(s,t,l),q(t,n),q(t,o),q(t,r)},p(s,l){l&1&&i!==(i=s[0].discoveryCount+"")&&Pe(o,i)},d(s){s&&K(t)}}}function Hl(e){let t,n=e[0].expanded?"":"",i,o,r=e[0].childCount+"",s,l,a=e[0].childCount!==1?"s":"",u;return{c(){t=ae("div"),i=pe(n),o=ue(),s=pe(r),l=pe(" vendor"),u=pe(a),w(t,"class","node-children svelte-1a7oc2b")},m(f,c){Z(f,t,c),q(t,i),q(t,o),q(t,s),q(t,l),q(t,u)},p(f,c){c&1&&n!==(n=f[0].expanded?"":"")&&Pe(i,n),c&1&&r!==(r=f[0].childCount+"")&&Pe(s,r),c&1&&a!==(a=f[0].childCount!==1?"s":"")&&Pe(u,a)},d(f){f&&K(t)}}}function Il(e){let t,n;return t=new pt({props:{type:"source",position:ce.Right}}),{c(){re(t.$$.fragment)},m(i,o){ne(t,i,o),n=!0},i(i){n||(V(t.$$.fragment,i),n=!0)},o(i){Y(t.$$.fragment,i),n=!1},d(i){ie(t,i)}}}function Kg(e){let t,n,i,o,r,s,l,a=e[0].domain+"",u,f,c,d,h,m,y,_;n=new pt({props:{type:"target",position:ce.Left}});let g=e[0].organization&&e[0].organization!==e[0].domain&&Tl(e),C=e[0].discoveryCount>1&&Al(e),k=e[0].hasChildren&&Hl(e),p=e[0].hasChildren&&Il();return{c(){t=ae("div"),re(n.$$.fragment),i=ue(),o=ae("button"),o.textContent="",r=ue(),s=ae("div"),l=ae("div"),u=pe(a),f=ue(),g&&g.c(),c=ue(),C&&C.c(),d=ue(),k&&k.c(),h=ue(),p&&p.c(),w(o,"class","info-btn svelte-1a7oc2b"),w(o,"title","View discovery details"),w(l,"class","node-domain svelte-1a7oc2b"),w(s,"class","node-content svelte-1a7oc2b"),w(t,"class","vendor-node svelte-1a7oc2b"),le(t,"background",e[1].bg),le(t,"--shadow-color",e[1].shadow),se(t,"expanded",e[0].expanded),se(t,"has-children",e[0].hasChildren)},m(P,H){Z(P,t,H),ne(n,t,null),q(t,i),q(t,o),q(t,r),q(t,s),q(s,l),q(l,u),q(s,f),g&&g.m(s,null),q(s,c),C&&C.m(s,null),q(s,d),k&&k.m(s,null),q(t,h),p&&p.m(t,null),m=!0,y||(_=Se(o,"click",e[2]),y=!0)},p(P,[H]){(!m||H&1)&&a!==(a=P[0].domain+"")&&Pe(u,a),P[0].organization&&P[0].organization!==P[0].domain?g?g.p(P,H):(g=Tl(P),g.c(),g.m(s,c)):g&&(g.d(1),g=null),P[0].discoveryCount>1?C?C.p(P,H):(C=Al(P),C.c(),C.m(s,d)):C&&(C.d(1),C=null),P[0].hasChildren?k?k.p(P,H):(k=Hl(P),k.c(),k.m(s,null)):k&&(k.d(1),k=null),P[0].hasChildren?p?H&1&&V(p,1):(p=Il(),p.c(),V(p,1),p.m(t,null)):p&&(Ae(),Y(p,1,1,()=>{p=null}),He()),(!m||H&2)&&le(t,"background",P[1].bg),(!m||H&2)&&le(t,"--shadow-color",P[1].shadow),(!m||H&1)&&se(t,"expanded",P[0].expanded),(!m||H&1)&&se(t,"has-children",P[0].hasChildren)},i(P){m||(V(n.$$.fragment,P),V(p),m=!0)},o(P){Y(n.$$.fragment,P),Y(p),m=!1},d(P){P&&K(t),ie(n),g&&g.d(),C&&C.d(),k&&k.d(),p&&p.d(),y=!1,_()}}}function Fg(e,t,n){let i,{data:o}=t;const r=Yt(),s={1:{bg:"linear-gradient(135deg, #3b82f6 0%, #2563eb 100%)",border:"#2563eb",shadow:"rgba(59, 130, 246, 0.3)"},2:{bg:"linear-gradient(135deg, #10b981 0%, #059669 100%)",border:"#059669",shadow:"rgba(16, 185, 129, 0.3)"},3:{bg:"linear-gradient(135deg, #f59e0b 0%, #d97706 100%)",border:"#d97706",shadow:"rgba(245, 158, 11, 0.3)"},4:{bg:"linear-gradient(135deg, #ef4444 0%, #dc2626 100%)",border:"#dc2626",shadow:"rgba(239, 68, 68, 0.3)"}};function l(a){a.stopPropagation(),r("showinfo",{domain:o.domain,sources:o.sources})}return e.$$set=a=>{"data"in a&&n(0,o=a.data)},e.$$.update=()=>{e.$$.dirty&1&&n(1,i=s[o.layer]||s[4])},[o,i,l]}class qg extends ge{constructor(t){super(),he(this,t,Fg,Kg,me,{data:0})}}function Zg(e){let t,n,i,o,r,s,l,a=e[0].label+"",u,f,c,d;return n=new pt({props:{type:"target",position:ce.Left}}),{c(){t=ae("div"),re(n.$$.fragment),i=ue(),o=ae("div"),r=ae("div"),r.textContent="+",s=ue(),l=ae("div"),u=pe(a),f=ue(),c=ae("div"),c.textContent="Click to load",w(r,"class","node-icon svelte-aq22t1"),w(l,"class","node-label svelte-aq22t1"),w(c,"class","node-hint svelte-aq22t1"),w(o,"class","node-content svelte-aq22t1"),w(t,"class","load-more-node svelte-aq22t1")},m(h,m){Z(h,t,m),ne(n,t,null),q(t,i),q(t,o),q(o,r),q(o,s),q(o,l),q(l,u),q(o,f),q(o,c),d=!0},p(h,[m]){(!d||m&1)&&a!==(a=h[0].label+"")&&Pe(u,a)},i(h){d||(V(n.$$.fragment,h),d=!0)},o(h){Y(n.$$.fragment,h),d=!1},d(h){h&&K(t),ie(n)}}}function Gg(e,t,n){let{data:i}=t;return e.$$set=o=>{"data"in o&&n(0,i=o.data)},[i]}class Ug extends ge{constructor(t){super(),he(this,t,Gg,Zg,me,{data:0})}}function Jg(e){const t=new Map;for(const n of e){const i=n.nth_party_domain;t.has(i)||t.set(i,{domain:i,organization:n.nth_party_organization||i,layer:n.nth_party_layer,discoveryCount:0,sources:[],children:[]});const o=t.get(i);o.layer=Math.min(o.layer,n.nth_party_layer),o.sources.push({recordType:n.nth_party_record_type,parentDomain:n.nth_party_customer_domain,rawRecord:n.nth_party_record}),o.discoveryCount++,n.nth_party_organization&&n.nth_party_organization!==i&&(o.organization=n.nth_party_organization)}return t}function Vl(e){const t=new Map;for(const n of e){const i=n.nth_party_customer_domain;t.has(i)||t.set(i,new Set),t.get(i).add(n.nth_party_domain)}return t}const Rl=300,Xl=90;function Qg(e,t,n){const i=new Map,o=new Map;o.set(0,[n]);for(const[r,s]of e)r!==n&&(o.has(s.layer)||o.set(s.layer,[]),o.get(s.layer).push(r));for(const[r,s]of o){const a=-((s.length-1)*Xl)/2;s.forEach((u,f)=>{i.set(u,{x:r*Rl,y:a+f*Xl})})}return i}function jg(e,t){const n=[],i=[],o=new Set,r=Jg(e),s=Vl(e);for(const[u,f]of s)r.has(u)&&(r.get(u).children=Array.from(f));const l=Qg(r,s,t),a=s.get(t)||new Set;n.push({id:t,type:"root",data:{label:t,organization:t,domain:t,layer:0,childCount:a.size,hasChildren:a.size>0,expanded:!0,discoveryCount:1,sources:[]},position:l.get(t)||{x:0,y:0},hidden:!1});for(const[u,f]of r){if(u===t)continue;const c=s.get(u)||new Set,d=l.get(u)||{x:f.layer*Rl,y:0};n.push({id:u,type:"vendor",data:{label:u,organization:f.organization,domain:u,layer:f.layer,childCount:c.size,hasChildren:c.size>0,expanded:!1,discoveryCount:f.discoveryCount,sources:f.sources},position:d,hidden:f.layer>1})}for(const u of e){const f=`${u.nth_party_customer_domain}->${u.nth_party_domain}`;if(o.has(f))continue;o.add(f);const c=r.get(u.nth_party_domain),d=(c==null?void 0:c.layer)||u.nth_party_layer;i.push({id:`e-${f}`,source:u.nth_party_customer_domain,target:u.nth_party_domain,type:"smoothstep",hidden:d>1,data:{recordType:u.nth_party_record_type,layer:d}})}return{nodes:n,edges:i,vendors:r}}function xg(e){return{DnsTxtSpf:"SPF",DnsTxtVerification:"DNS Verification",DnsTxtDmarc:"DMARC",DnsTxtDkim:"DKIM",DnsSubdomain:"Subdomain",DnsCname:"CNAME",HttpSubprocessor:"Subprocessor",DiscoverySaas:"SaaS Tenant","DNS::TXT::SPF":"SPF","DNS::TXT::VERIFICATION":"DNS Verification","DNS::TXT::DMARC":"DMARC","DNS::SUBDOMAIN":"Subdomain","DNS::CNAME":"CNAME","HTTP::SUBPROCESSOR":"Subprocessor","DISCOVERY::SAAS_TENANT":"SaaS Tenant"}[e]||e.split("::").pop()||e}function Yl(e,t,n){const i=e.slice();return i[8]=t[n][0],i[9]=t[n][1],i}function Ll(e,t,n){const i=e.slice();return i[12]=t[n],i}function Wl(e){let t,n,i,o,r,s,l,a,u,f,c,d,h,m=e[2].length+"",y,_,g,C,k,p=e[1]&&e[1]!==e[0]&&Bl(e),P=je(Object.entries(e[5])),H=[];for(let M=0;M<P.length;M+=1)H[M]=ql(Yl(e,P,M));return{c(){t=ae("div"),n=ue(),i=ae("div"),o=ae("div"),r=ae("div"),s=pe(e[0]),l=ue(),p&&p.c(),a=ue(),u=ae("button"),u.textContent="",f=ue(),c=ae("div"),d=ae("div"),h=pe("Discovery Sources ("),y=pe(m),_=pe("):"),g=ue();for(let M=0;M<H.length;M+=1)H[M].c();w(t,"class","tooltip-backdrop svelte-1573ty2"),w(r,"class","tooltip-domain svelte-1573ty2"),w(u,"class","close-btn svelte-1573ty2"),w(o,"class","tooltip-header svelte-1573ty2"),w(d,"class","section-title svelte-1573ty2"),w(c,"class","tooltip-content svelte-1573ty2"),w(i,"class","tooltip svelte-1573ty2"),le(i,"left",e[3].x+"px"),le(i,"top",e[3].y+"px")},m(M,D){Z(M,t,D),Z(M,n,D),Z(M,i,D),q(i,o),q(o,r),q(r,s),q(o,l),p&&p.m(o,null),q(o,a),q(o,u),q(i,f),q(i,c),q(c,d),q(d,h),q(d,y),q(d,_),q(c,g);for(let O=0;O<H.length;O+=1)H[O]&&H[O].m(c,null);C||(k=[Se(t,"click",e[6]),Se(u,"click",e[6])],C=!0)},p(M,D){if(D&1&&Pe(s,M[0]),M[1]&&M[1]!==M[0]?p?p.p(M,D):(p=Bl(M),p.c(),p.m(o,a)):p&&(p.d(1),p=null),D&4&&m!==(m=M[2].length+"")&&Pe(y,m),D&32){P=je(Object.entries(M[5]));let O;for(O=0;O<P.length;O+=1){const B=Yl(M,P,O);H[O]?H[O].p(B,D):(H[O]=ql(B),H[O].c(),H[O].m(c,null))}for(;O<H.length;O+=1)H[O].d(1);H.length=P.length}D&8&&le(i,"left",M[3].x+"px"),D&8&&le(i,"top",M[3].y+"px")},d(M){M&&(K(t),K(n),K(i)),p&&p.d(),co(H,M),C=!1,Ye(k)}}}function Bl(e){let t,n;return{c(){t=ae("div"),n=pe(e[1]),w(t,"class","tooltip-org svelte-1573ty2")},m(i,o){Z(i,t,o),q(t,n)},p(i,o){o&2&&Pe(n,i[1])},d(i){i&&K(t)}}}function Kl(e){let t,n=e[12].rawRecord+"",i;return{c(){t=ae("div"),i=pe(n),w(t,"class","source-record svelte-1573ty2")},m(o,r){Z(o,t,r),q(t,i)},p(o,r){r&32&&n!==(n=o[12].rawRecord+"")&&Pe(i,n)},d(o){o&&K(t)}}}function Fl(e){let t,n,i,o=e[12].parentDomain+"",r,s,l=e[12].rawRecord&&Kl(e);return{c(){t=ae("div"),n=ae("span"),i=pe("from "),r=pe(o),s=ue(),l&&l.c(),w(n,"class","source-parent svelte-1573ty2"),w(t,"class","source-item svelte-1573ty2")},m(a,u){Z(a,t,u),q(t,n),q(n,i),q(n,r),q(t,s),l&&l.m(t,null)},p(a,u){u&32&&o!==(o=a[12].parentDomain+"")&&Pe(r,o),a[12].rawRecord?l?l.p(a,u):(l=Kl(a),l.c(),l.m(t,null)):l&&(l.d(1),l=null)},d(a){a&&K(t),l&&l.d()}}}function ql(e){let t,n,i=e[8]+"",o,r,s=e[9].length+"",l,a,u,f,c=je(e[9]),d=[];for(let h=0;h<c.length;h+=1)d[h]=Fl(Ll(e,c,h));return{c(){t=ae("div"),n=ae("div"),o=pe(i),r=pe(" ("),l=pe(s),a=pe(")"),u=ue();for(let h=0;h<d.length;h+=1)d[h].c();f=ue(),w(n,"class","source-type svelte-1573ty2"),w(t,"class","source-group svelte-1573ty2")},m(h,m){Z(h,t,m),q(t,n),q(n,o),q(n,r),q(n,l),q(n,a),q(t,u);for(let y=0;y<d.length;y+=1)d[y]&&d[y].m(t,null);q(t,f)},p(h,m){if(m&32&&i!==(i=h[8]+"")&&Pe(o,i),m&32&&s!==(s=h[9].length+"")&&Pe(l,s),m&32){c=je(h[9]);let y;for(y=0;y<c.length;y+=1){const _=Ll(h,c,y);d[y]?d[y].p(_,m):(d[y]=Fl(_),d[y].c(),d[y].m(t,f))}for(;y<d.length;y+=1)d[y].d(1);d.length=c.length}},d(h){h&&K(t),co(d,h)}}}function $g(e){let t,n=e[4]&&Wl(e);return{c(){n&&n.c(),t=Le()},m(i,o){n&&n.m(i,o),Z(i,t,o)},p(i,[o]){i[4]?n?n.p(i,o):(n=Wl(i),n.c(),n.m(t.parentNode,t)):n&&(n.d(1),n=null)},i:fe,o:fe,d(i){i&&K(t),n&&n.d(i)}}}function e0(e,t,n){let i,{domain:o}=t,{organization:r=""}=t,{sources:s=[]}=t,{position:l={x:0,y:0}}=t,{visible:a=!1}=t;const u=Yt();function f(){u("close")}return e.$$set=c=>{"domain"in c&&n(0,o=c.domain),"organization"in c&&n(1,r=c.organization),"sources"in c&&n(2,s=c.sources),"position"in c&&n(3,l=c.position),"visible"in c&&n(4,a=c.visible)},e.$$.update=()=>{e.$$.dirty&4&&n(5,i=s.reduce((c,d)=>{const h=xg(d.recordType);return c[h]||(c[h]=[]),c[h].push(d),c},{}))},[o,r,s,l,a,i,f]}class t0 extends ge{constructor(t){super(),he(this,t,e0,$g,me,{domain:0,organization:1,sources:2,position:3,visible:4})}}function n0(e){let t,n,i,o,r,s;return t=new _g({}),i=new Ng({props:{variant:_t.Dots}}),r=new Yg({}),{c(){re(t.$$.fragment),n=ue(),re(i.$$.fragment),o=ue(),re(r.$$.fragment)},m(l,a){ne(t,l,a),Z(l,n,a),ne(i,l,a),Z(l,o,a),ne(r,l,a),s=!0},p:fe,i(l){s||(V(t.$$.fragment,l),V(i.$$.fragment,l),V(r.$$.fragment,l),s=!0)},o(l){Y(t.$$.fragment,l),Y(i.$$.fragment,l),Y(r.$$.fragment,l),s=!1},d(l){l&&(K(n),K(o)),ie(t,l),ie(i,l),ie(r,l)}}}function i0(e){let t,n,i,o,r,s,l,a,u,f,c,d;return l=new Zh({props:{nodes:e[7],edges:e[8],nodeTypes:e[9],fitView:!0,$$slots:{default:[n0]},$$scope:{ctx:e}}}),l.$on("nodeclick",e[10]),u=new t0({props:{domain:e[3],organization:e[4],sources:e[5],position:e[6],visible:e[2]}}),u.$on("close",e[11]),{c(){t=ae("div"),n=ae("div"),i=ae("button"),i.textContent="Reset View",o=ue(),r=ae("button"),r.textContent="Expand All",s=ue(),re(l.$$.fragment),a=ue(),re(u.$$.fragment),w(i,"class","btn btn-primary svelte-19rw5s4"),w(r,"class","btn btn-secondary svelte-19rw5s4"),w(n,"class","graph-controls svelte-19rw5s4"),w(t,"class","vendor-graph-container svelte-19rw5s4")},m(h,m){Z(h,t,m),q(t,n),q(n,i),q(n,o),q(n,r),q(t,s),ne(l,t,null),q(t,a),ne(u,t,null),f=!0,c||(d=[Se(i,"click",e[0]),Se(r,"click",e[1])],c=!0)},p(h,[m]){const y={};m&67108864&&(y.$$scope={dirty:m,ctx:h}),l.$set(y);const _={};m&8&&(_.domain=h[3]),m&16&&(_.organization=h[4]),m&32&&(_.sources=h[5]),m&64&&(_.position=h[6]),m&4&&(_.visible=h[2]),u.$set(_)},i(h){f||(V(l.$$.fragment,h),V(u.$$.fragment,h),f=!0)},o(h){Y(l.$$.fragment,h),Y(u.$$.fragment,h),f=!1},d(h){h&&K(t),ie(l),ie(u),c=!1,Ye(d)}}}const Zl=10;function o0(e,t,n){let i,{relationships:o=[]}=t,{rootDomain:r=""}=t;const{nodes:s,edges:l}=jg(o,r),a=oe(s);J(e,a,A=>n(14,i=A));const u=oe(l),f=new Set([r]),c=new Map,d=Vl(o);let h=!1,m="",y="",_=[],g={x:0,y:0};const C={root:Bg,vendor:qg,loadMore:Ug};function k(A){var b;const X=(b=A.detail.node)==null?void 0:b.id;if(!X)return;const L=i.find(v=>v.id===X);if(L){if(L.type==="loadMore"&&L.data.parentId){H(L.data.parentId);return}L.data.hasChildren&&(f.has(X)?P(X):p(X))}}function p(A){const X=d.get(A);if(!X||X.size===0)return;const L=Array.from(X);c.has(A)||c.set(A,{shown:0,total:L.length});const b=c.get(A),v=b.shown,S=Math.min(v+Zl,L.length),N=L.slice(v,S),T=i.find(Q=>Q.id===A),I=(T==null?void 0:T.position)||{x:0,y:0},W=(T==null?void 0:T.data.layer)||0;a.update(Q=>Q.map(U=>{if(N.includes(U.id)){N.filter(j=>j!==U.id).length;const R=N.indexOf(U.id),te=(N.length-1)*90,de=I.y-te/2;return{...U,hidden:!1,position:{x:I.x+300,y:de+R*90}}}return U.id===A?{...U,data:{...U.data,expanded:!0}}:U})),u.update(Q=>Q.map(U=>U.source===A&&N.includes(U.target)?{...U,hidden:!1}:U)),b.shown=S,f.add(A);const G=L.length-b.shown;M(A,G,W+1,I)}function P(A){const X=d.get(A);if(!X)return;const L=Array.from(X);for(const b of L)f.has(b)&&P(b);a.update(b=>b.map(v=>L.includes(v.id)?{...v,hidden:!0}:v.id===A?{...v,data:{...v.data,expanded:!1}}:v.type==="loadMore"&&v.data.parentId===A?{...v,hidden:!0}:v)),u.update(b=>b.map(v=>v.source===A?{...v,hidden:!0}:v)),f.delete(A),c.delete(A)}function H(A){p(A)}function M(A,X,L,b){const v=`loadMore-${A}`;if(a.update(G=>G.filter(Q=>Q.id!==v)),u.update(G=>G.filter(Q=>Q.target!==v)),X<=0)return;const S=c.get(A),N=(S==null?void 0:S.shown)||Zl,T=N*90,I=b.y-T/2+N*90,W={id:v,type:"loadMore",data:{label:`+ ${X} more`,organization:"",domain:"",layer:L,childCount:X,hasChildren:!1,expanded:!1,discoveryCount:0,sources:[],parentId:A},position:{x:b.x+300,y:I},hidden:!1};a.update(G=>[...G,W]),u.update(G=>[...G,{id:`e-loadMore-${A}`,source:A,target:v,type:"smoothstep",hidden:!1}])}function D(){n(2,h=!1)}function O(){for(const A of f)A!==r&&P(A)}function B(){const A=i.filter(X=>X.data.hasChildren&&!f.has(X.id)&&!X.hidden);for(const X of A)p(X.id)}return e.$$set=A=>{"relationships"in A&&n(12,o=A.relationships),"rootDomain"in A&&n(13,r=A.rootDomain)},[O,B,h,m,y,_,g,a,u,C,k,D,o,r]}class Gl extends ge{constructor(t){super(),he(this,t,o0,i0,me,{relationships:12,rootDomain:13,resetView:0,expandAll:1})}get resetView(){return this.$$.ctx[0]}get expandAll(){return this.$$.ctx[1]}}function Ul(){const e=document.getElementById("vendor-graph");if(!e){console.error("vendor-graph container not found");return}if(!window.graphData){console.error("window.graphData not found");return}window.vendorGraph=new Gl({target:e,props:{rootDomain:window.graphData.summary.root_domain,relationships:window.graphData.relationships}})}return document.readyState==="loading"?document.addEventListener("DOMContentLoaded",Ul):Ul(),Gl}();
