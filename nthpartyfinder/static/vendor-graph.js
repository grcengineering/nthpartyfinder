var VendorGraph=function(){"use strict";var g0=Object.defineProperty;var m0=(ae,me,Mt)=>me in ae?g0(ae,me,{enumerable:!0,configurable:!0,writable:!0,value:Mt}):ae[me]=Mt;var lo=(ae,me,Mt)=>m0(ae,typeof me!="symbol"?me+"":me,Mt);function ae(){}function me(e,t){for(const n in t)e[n]=t[n];return e}function Mt(e){return e()}function so(){return Object.create(null)}function Re(e){e.forEach(Mt)}function Pe(e){return typeof e=="function"}function he(e,t){return e!=e?t==t:e!==t||e&&typeof e=="object"||typeof e=="function"}function ao(e,t){return e!=e?t==t:e!==t}function Wl(e){return Object.keys(e).length===0}function sn(e,...t){if(e==null){for(const i of t)i(void 0);return ae}const n=e.subscribe(...t);return n.unsubscribe?()=>n.unsubscribe():n}function x(e){let t;return sn(e,n=>t=n)(),t}function q(e,t,n){e.$$.on_destroy.push(sn(t,n))}function Fe(e,t,n,i){if(e){const o=uo(e,t,n,i);return e[0](o)}}function uo(e,t,n,i){return e[1]&&i?me(n.ctx.slice(),e[1](i(t))):n.ctx}function qe(e,t,n,i){if(e[2]&&i){const o=e[2](i(n));if(t.dirty===void 0)return o;if(typeof o=="object"){const r=[],s=Math.max(t.dirty.length,o.length);for(let l=0;l<s;l+=1)r[l]=t.dirty[l]|o[l];return r}return t.dirty|o}return t.dirty}function Ze(e,t,n,i,o,r){if(o){const s=uo(t,n,i,r);e.p(s,o)}}function Ge(e){if(e.ctx.length>32){const t=[],n=e.ctx.length/32;for(let i=0;i<n;i++)t[i]=-1;return t}return-1}function tt(e){const t={};for(const n in e)n[0]!=="$"&&(t[n]=e[n]);return t}function Ne(e,t){const n={};t=new Set(t);for(const i in e)!t.has(i)&&i[0]!=="$"&&(n[i]=e[i]);return n}function Bl(e){const t={};for(const n in e)t[n]=!0;return t}function fo(e){return e??""}function En(e,t,n){return e.set(n),t}function Le(e){return e&&Pe(e.destroy)?e.destroy:ae}const Kl=typeof window<"u"?window:typeof globalThis<"u"?globalThis:global;function ee(e,t){e.appendChild(t)}function Z(e,t,n){e.insertBefore(t,n||null)}function F(e){e.parentNode&&e.parentNode.removeChild(e)}function we(e){return document.createElement(e)}function ve(e){return document.createElementNS("http://www.w3.org/2000/svg",e)}function Xe(e){return document.createTextNode(e)}function ye(){return Xe(" ")}function We(){return Xe("")}function Se(e,t,n,i){return e.addEventListener(t,n,i),()=>e.removeEventListener(t,n,i)}function w(e,t,n){n==null?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}const Fl=["width","height"];function Xt(e,t){const n=Object.getOwnPropertyDescriptors(e.__proto__);for(const i in t)t[i]==null?e.removeAttribute(i):i==="style"?e.style.cssText=t[i]:i==="__value"?e.value=e[i]=t[i]:n[i]&&n[i].set&&Fl.indexOf(i)===-1?e[i]=t[i]:w(e,i,t[i])}function ql(e){return Array.from(e.childNodes)}function Ue(e,t){t=""+t,e.data!==t&&(e.data=t)}function se(e,t,n,i){n==null?e.style.removeProperty(t):e.style.setProperty(t,n,"")}let Mn;function Zl(){if(Mn===void 0){Mn=!1;try{typeof window<"u"&&window.parent&&window.parent.document}catch{Mn=!0}}return Mn}function Gl(e,t){getComputedStyle(e).position==="static"&&(e.style.position="relative");const i=we("iframe");i.setAttribute("style","display: block; position: absolute; top: 0; left: 0; width: 100%; height: 100%; overflow: hidden; border: 0; opacity: 0; pointer-events: none; z-index: -1;"),i.setAttribute("aria-hidden","true"),i.tabIndex=-1;const o=Zl();let r;return o?(i.src="data:text/html,<script>onresize=function(){parent.postMessage(0,'*')}<\/script>",r=Se(window,"message",s=>{s.source===i.contentWindow&&t()})):(i.src="about:blank",i.onload=()=>{r=Se(i.contentWindow,"resize",t),t()}),ee(e,i),()=>{(o||r&&i.contentWindow)&&r(),F(i)}}function re(e,t,n){e.classList.toggle(t,!!n)}function Ul(e,t,{bubbles:n=!1,cancelable:i=!1}={}){return new CustomEvent(e,{detail:t,bubbles:n,cancelable:i})}function zn(e,t){return new e(t)}let an;function un(e){an=e}function Rt(){if(!an)throw new Error("Function called outside component initialization");return an}function Pn(e){Rt().$$.on_mount.push(e)}function co(e){Rt().$$.on_destroy.push(e)}function Nn(){const e=Rt();return(t,n,{cancelable:i=!1}={})=>{const o=e.$$.callbacks[t];if(o){const r=Ul(t,n,{cancelable:i});return o.slice().forEach(s=>{s.call(e,r)}),!r.defaultPrevented}return!0}}function On(e,t){return Rt().$$.context.set(e,t),t}function Tn(e){return Rt().$$.context.get(e)}function Jl(e){return Rt().$$.context.has(e)}function pe(e,t){const n=e.$$.callbacks[t.type];n&&n.slice().forEach(i=>i.call(this,t))}const Yt=[],fn=[];let Lt=[];const ho=[],Ql=Promise.resolve();let _i=!1;function jl(){_i||(_i=!0,Ql.then(go))}function An(e){Lt.push(e)}const bi=new Set;let Wt=0;function go(){if(Wt!==0)return;const e=an;do{try{for(;Wt<Yt.length;){const t=Yt[Wt];Wt++,un(t),xl(t.$$)}}catch(t){throw Yt.length=0,Wt=0,t}for(un(null),Yt.length=0,Wt=0;fn.length;)fn.pop()();for(let t=0;t<Lt.length;t+=1){const n=Lt[t];bi.has(n)||(bi.add(n),n())}Lt.length=0}while(Yt.length);for(;ho.length;)ho.pop()();_i=!1,bi.clear(),un(e)}function xl(e){if(e.fragment!==null){e.update(),Re(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(An)}}function $l(e){const t=[],n=[];Lt.forEach(i=>e.indexOf(i)===-1?t.push(i):n.push(i)),n.forEach(i=>i()),Lt=t}const Dn=new Set;let zt;function Te(){zt={r:0,c:[],p:zt}}function Ae(){zt.r||Re(zt.c),zt=zt.p}function H(e,t){e&&e.i&&(Dn.delete(e),e.i(t))}function R(e,t,n,i){if(e&&e.o){if(Dn.has(e))return;Dn.add(e),zt.c.push(()=>{Dn.delete(e),i&&(n&&e.d(1),i())}),e.o(t)}else i&&i()}function bt(e){return(e==null?void 0:e.length)!==void 0?e:Array.from(e)}function Hn(e,t){R(e,1,1,()=>{t.delete(e.key)})}function In(e,t,n,i,o,r,s,l,a,u,f,d){let c=e.length,h=r.length,m=c;const y={};for(;m--;)y[e[m].key]=m;const _=[],g=new Map,S=new Map,k=[];for(m=h;m--;){const O=d(o,r,m),M=n(O);let P=s.get(M);P?k.push(()=>P.p(O,t)):(P=u(M,O),P.c()),g.set(M,_[m]=P),M in y&&S.set(M,Math.abs(m-y[M]))}const C=new Set,V=new Set;function K(O){H(O,1),O.m(l,f),s.set(O.key,O),f=O.first,h--}for(;c&&h;){const O=_[h-1],M=e[c-1],P=O.key,D=M.key;O===M?(f=O.first,c--,h--):g.has(D)?!s.has(P)||C.has(P)?K(O):V.has(D)?c--:S.get(P)>S.get(D)?(V.add(P),K(O)):(C.add(D),c--):(a(M,s),c--)}for(;c--;){const O=e[c];g.has(O.key)||a(O,s)}for(;h;)K(_[h-1]);return Re(k),_}function ct(e,t){const n={},i={},o={$$scope:1};let r=e.length;for(;r--;){const s=e[r],l=t[r];if(l){for(const a in s)a in l||(i[a]=1);for(const a in l)o[a]||(n[a]=l[a],o[a]=1);e[r]=l}else for(const a in s)o[a]=1}for(const s in i)s in n||(n[s]=void 0);return n}function Bt(e){return typeof e=="object"&&e!==null?e:{}}function le(e){e&&e.c()}function ne(e,t,n){const{fragment:i,after_update:o}=e.$$;i&&i.m(t,n),An(()=>{const r=e.$$.on_mount.map(Mt).filter(Pe);e.$$.on_destroy?e.$$.on_destroy.push(...r):Re(r),e.$$.on_mount=[]}),o.forEach(An)}function ie(e,t){const n=e.$$;n.fragment!==null&&($l(n.after_update),Re(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function es(e,t){e.$$.dirty[0]===-1&&(Yt.push(e),jl(),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function fe(e,t,n,i,o,r,s=null,l=[-1]){const a=an;un(e);const u=e.$$={fragment:null,ctx:[],props:r,update:ae,not_equal:o,bound:so(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(t.context||(a?a.$$.context:[])),callbacks:so(),dirty:l,skip_bound:!1,root:t.target||a.$$.root};s&&s(u.root);let f=!1;if(u.ctx=n?n(e,t.props||{},(d,c,...h)=>{const m=h.length?h[0]:c;return u.ctx&&o(u.ctx[d],u.ctx[d]=m)&&(!u.skip_bound&&u.bound[d]&&u.bound[d](m),f&&es(e,d)),c}):[],u.update(),f=!0,Re(u.before_update),u.fragment=i?i(u.ctx):!1,t.target){if(t.hydrate){const d=ql(t.target);u.fragment&&u.fragment.l(d),d.forEach(F)}else u.fragment&&u.fragment.c();t.intro&&H(e.$$.fragment),ne(e,t.target,t.anchor),go()}un(a)}class ce{constructor(){lo(this,"$$");lo(this,"$$set")}$destroy(){ie(this,1),this.$destroy=ae}$on(t,n){if(!Pe(n))return ae;const i=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return i.push(n),()=>{const o=i.indexOf(n);o!==-1&&i.splice(o,1)}}$set(t){this.$$set&&!Wl(t)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}const ts="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(ts);const Kt=[];function je(e,t){return{subscribe:te(e,t).subscribe}}function te(e,t=ae){let n;const i=new Set;function o(l){if(he(e,l)&&(e=l,n)){const a=!Kt.length;for(const u of i)u[1](),Kt.push(u,e);if(a){for(let u=0;u<Kt.length;u+=2)Kt[u][0](Kt[u+1]);Kt.length=0}}}function r(l){o(l(e))}function s(l,a=ae){const u=[l,a];return i.add(u),i.size===1&&(n=t(o,r)||ae),l(e),()=>{i.delete(u),i.size===0&&n&&(n(),n=null)}}return{set:o,update:r,subscribe:s}}function Ft(e,t,n){const i=!Array.isArray(e),o=i?[e]:e;if(!o.every(Boolean))throw new Error("derived() expects stores as input, got a falsy value");const r=t.length<2;return je(n,(s,l)=>{let a=!1;const u=[];let f=0,d=ae;const c=()=>{if(f)return;d();const m=t(i?u[0]:u,s,l);r?s(m):d=Pe(m)?m:ae},h=o.map((m,y)=>sn(m,_=>{u[y]=_,f&=~(1<<y),a&&c()},()=>{f|=1<<y}));return a=!0,c(),function(){Re(h),d(),a=!1}})}function Ce(e){if(typeof e=="string"||typeof e=="number")return""+e;let t="";if(Array.isArray(e))for(let n=0,i;n<e.length;n++)(i=Ce(e[n]))!==""&&(t+=(t&&" ")+i);else for(let n in e)e[n]&&(t+=(t&&" ")+n);return t}var ns={value:()=>{}};function Vn(){for(var e=0,t=arguments.length,n={},i;e<t;++e){if(!(i=arguments[e]+"")||i in n||/[\s.]/.test(i))throw new Error("illegal type: "+i);n[i]=[]}return new Xn(n)}function Xn(e){this._=e}function is(e,t){return e.trim().split(/^|\s+/).map(function(n){var i="",o=n.indexOf(".");if(o>=0&&(i=n.slice(o+1),n=n.slice(0,o)),n&&!t.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:i}})}Xn.prototype=Vn.prototype={constructor:Xn,on:function(e,t){var n=this._,i=is(e+"",n),o,r=-1,s=i.length;if(arguments.length<2){for(;++r<s;)if((o=(e=i[r]).type)&&(o=os(n[o],e.name)))return o;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++r<s;)if(o=(e=i[r]).type)n[o]=mo(n[o],e.name,t);else if(t==null)for(o in n)n[o]=mo(n[o],e.name,null);return this},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new Xn(e)},call:function(e,t){if((o=arguments.length-2)>0)for(var n=new Array(o),i=0,o,r;i<o;++i)n[i]=arguments[i+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(r=this._[e],i=0,o=r.length;i<o;++i)r[i].value.apply(t,n)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var i=this._[e],o=0,r=i.length;o<r;++o)i[o].value.apply(t,n)}};function os(e,t){for(var n=0,i=e.length,o;n<i;++n)if((o=e[n]).name===t)return o.value}function mo(e,t,n){for(var i=0,o=e.length;i<o;++i)if(e[i].name===t){e[i]=ns,e=e.slice(0,i).concat(e.slice(i+1));break}return n!=null&&e.push({name:t,value:n}),e}var wi="http://www.w3.org/1999/xhtml";const yo={svg:"http://www.w3.org/2000/svg",xhtml:wi,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Rn(e){var t=e+="",n=t.indexOf(":");return n>=0&&(t=e.slice(0,n))!=="xmlns"&&(e=e.slice(n+1)),yo.hasOwnProperty(t)?{space:yo[t],local:e}:e}function rs(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===wi&&t.documentElement.namespaceURI===wi?t.createElement(e):t.createElementNS(n,e)}}function ls(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function _o(e){var t=Rn(e);return(t.local?ls:rs)(t)}function ss(){}function ki(e){return e==null?ss:function(){return this.querySelector(e)}}function as(e){typeof e!="function"&&(e=ki(e));for(var t=this._groups,n=t.length,i=new Array(n),o=0;o<n;++o)for(var r=t[o],s=r.length,l=i[o]=new Array(s),a,u,f=0;f<s;++f)(a=r[f])&&(u=e.call(a,a.__data__,f,r))&&("__data__"in a&&(u.__data__=a.__data__),l[f]=u);return new Qe(i,this._parents)}function us(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function fs(){return[]}function bo(e){return e==null?fs:function(){return this.querySelectorAll(e)}}function cs(e){return function(){return us(e.apply(this,arguments))}}function ds(e){typeof e=="function"?e=cs(e):e=bo(e);for(var t=this._groups,n=t.length,i=[],o=[],r=0;r<n;++r)for(var s=t[r],l=s.length,a,u=0;u<l;++u)(a=s[u])&&(i.push(e.call(a,a.__data__,u,s)),o.push(a));return new Qe(i,o)}function wo(e){return function(){return this.matches(e)}}function ko(e){return function(t){return t.matches(e)}}var hs=Array.prototype.find;function gs(e){return function(){return hs.call(this.children,e)}}function ms(){return this.firstElementChild}function ys(e){return this.select(e==null?ms:gs(typeof e=="function"?e:ko(e)))}var _s=Array.prototype.filter;function bs(){return Array.from(this.children)}function ws(e){return function(){return _s.call(this.children,e)}}function ks(e){return this.selectAll(e==null?bs:ws(typeof e=="function"?e:ko(e)))}function ps(e){typeof e!="function"&&(e=wo(e));for(var t=this._groups,n=t.length,i=new Array(n),o=0;o<n;++o)for(var r=t[o],s=r.length,l=i[o]=[],a,u=0;u<s;++u)(a=r[u])&&e.call(a,a.__data__,u,r)&&l.push(a);return new Qe(i,this._parents)}function po(e){return new Array(e.length)}function vs(){return new Qe(this._enter||this._groups.map(po),this._parents)}function Yn(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}Yn.prototype={constructor:Yn,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function Ss(e){return function(){return e}}function Cs(e,t,n,i,o,r){for(var s=0,l,a=t.length,u=r.length;s<u;++s)(l=t[s])?(l.__data__=r[s],i[s]=l):n[s]=new Yn(e,r[s]);for(;s<a;++s)(l=t[s])&&(o[s]=l)}function Es(e,t,n,i,o,r,s){var l,a,u=new Map,f=t.length,d=r.length,c=new Array(f),h;for(l=0;l<f;++l)(a=t[l])&&(c[l]=h=s.call(a,a.__data__,l,t)+"",u.has(h)?o[l]=a:u.set(h,a));for(l=0;l<d;++l)h=s.call(e,r[l],l,r)+"",(a=u.get(h))?(i[l]=a,a.__data__=r[l],u.delete(h)):n[l]=new Yn(e,r[l]);for(l=0;l<f;++l)(a=t[l])&&u.get(c[l])===a&&(o[l]=a)}function Ms(e){return e.__data__}function zs(e,t){if(!arguments.length)return Array.from(this,Ms);var n=t?Es:Cs,i=this._parents,o=this._groups;typeof e!="function"&&(e=Ss(e));for(var r=o.length,s=new Array(r),l=new Array(r),a=new Array(r),u=0;u<r;++u){var f=i[u],d=o[u],c=d.length,h=Ps(e.call(f,f&&f.__data__,u,i)),m=h.length,y=l[u]=new Array(m),_=s[u]=new Array(m),g=a[u]=new Array(c);n(f,d,y,_,g,h,t);for(var S=0,k=0,C,V;S<m;++S)if(C=y[S]){for(S>=k&&(k=S+1);!(V=_[k])&&++k<m;);C._next=V||null}}return s=new Qe(s,i),s._enter=l,s._exit=a,s}function Ps(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function Ns(){return new Qe(this._exit||this._groups.map(po),this._parents)}function Os(e,t,n){var i=this.enter(),o=this,r=this.exit();return typeof e=="function"?(i=e(i),i&&(i=i.selection())):i=i.append(e+""),t!=null&&(o=t(o),o&&(o=o.selection())),n==null?r.remove():n(r),i&&o?i.merge(o).order():o}function Ts(e){for(var t=e.selection?e.selection():e,n=this._groups,i=t._groups,o=n.length,r=i.length,s=Math.min(o,r),l=new Array(o),a=0;a<s;++a)for(var u=n[a],f=i[a],d=u.length,c=l[a]=new Array(d),h,m=0;m<d;++m)(h=u[m]||f[m])&&(c[m]=h);for(;a<o;++a)l[a]=n[a];return new Qe(l,this._parents)}function As(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var i=e[t],o=i.length-1,r=i[o],s;--o>=0;)(s=i[o])&&(r&&s.compareDocumentPosition(r)^4&&r.parentNode.insertBefore(s,r),r=s);return this}function Ds(e){e||(e=Hs);function t(d,c){return d&&c?e(d.__data__,c.__data__):!d-!c}for(var n=this._groups,i=n.length,o=new Array(i),r=0;r<i;++r){for(var s=n[r],l=s.length,a=o[r]=new Array(l),u,f=0;f<l;++f)(u=s[f])&&(a[f]=u);a.sort(t)}return new Qe(o,this._parents).order()}function Hs(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function Is(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function Vs(){return Array.from(this)}function Xs(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var i=e[t],o=0,r=i.length;o<r;++o){var s=i[o];if(s)return s}return null}function Rs(){let e=0;for(const t of this)++e;return e}function Ys(){return!this.node()}function Ls(e){for(var t=this._groups,n=0,i=t.length;n<i;++n)for(var o=t[n],r=0,s=o.length,l;r<s;++r)(l=o[r])&&e.call(l,l.__data__,r,o);return this}function Ws(e){return function(){this.removeAttribute(e)}}function Bs(e){return function(){this.removeAttributeNS(e.space,e.local)}}function Ks(e,t){return function(){this.setAttribute(e,t)}}function Fs(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function qs(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttribute(e):this.setAttribute(e,n)}}function Zs(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function Gs(e,t){var n=Rn(e);if(arguments.length<2){var i=this.node();return n.local?i.getAttributeNS(n.space,n.local):i.getAttribute(n)}return this.each((t==null?n.local?Bs:Ws:typeof t=="function"?n.local?Zs:qs:n.local?Fs:Ks)(n,t))}function vo(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function Us(e){return function(){this.style.removeProperty(e)}}function Js(e,t,n){return function(){this.style.setProperty(e,t,n)}}function Qs(e,t,n){return function(){var i=t.apply(this,arguments);i==null?this.style.removeProperty(e):this.style.setProperty(e,i,n)}}function js(e,t,n){return arguments.length>1?this.each((t==null?Us:typeof t=="function"?Qs:Js)(e,t,n??"")):qt(this.node(),e)}function qt(e,t){return e.style.getPropertyValue(t)||vo(e).getComputedStyle(e,null).getPropertyValue(t)}function xs(e){return function(){delete this[e]}}function $s(e,t){return function(){this[e]=t}}function ea(e,t){return function(){var n=t.apply(this,arguments);n==null?delete this[e]:this[e]=n}}function ta(e,t){return arguments.length>1?this.each((t==null?xs:typeof t=="function"?ea:$s)(e,t)):this.node()[e]}function So(e){return e.trim().split(/^|\s+/)}function pi(e){return e.classList||new Co(e)}function Co(e){this._node=e,this._names=So(e.getAttribute("class")||"")}Co.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function Eo(e,t){for(var n=pi(e),i=-1,o=t.length;++i<o;)n.add(t[i])}function Mo(e,t){for(var n=pi(e),i=-1,o=t.length;++i<o;)n.remove(t[i])}function na(e){return function(){Eo(this,e)}}function ia(e){return function(){Mo(this,e)}}function oa(e,t){return function(){(t.apply(this,arguments)?Eo:Mo)(this,e)}}function ra(e,t){var n=So(e+"");if(arguments.length<2){for(var i=pi(this.node()),o=-1,r=n.length;++o<r;)if(!i.contains(n[o]))return!1;return!0}return this.each((typeof t=="function"?oa:t?na:ia)(n,t))}function la(){this.textContent=""}function sa(e){return function(){this.textContent=e}}function aa(e){return function(){var t=e.apply(this,arguments);this.textContent=t??""}}function ua(e){return arguments.length?this.each(e==null?la:(typeof e=="function"?aa:sa)(e)):this.node().textContent}function fa(){this.innerHTML=""}function ca(e){return function(){this.innerHTML=e}}function da(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t??""}}function ha(e){return arguments.length?this.each(e==null?fa:(typeof e=="function"?da:ca)(e)):this.node().innerHTML}function ga(){this.nextSibling&&this.parentNode.appendChild(this)}function ma(){return this.each(ga)}function ya(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function _a(){return this.each(ya)}function ba(e){var t=typeof e=="function"?e:_o(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function wa(){return null}function ka(e,t){var n=typeof e=="function"?e:_o(e),i=t==null?wa:typeof t=="function"?t:ki(t);return this.select(function(){return this.insertBefore(n.apply(this,arguments),i.apply(this,arguments)||null)})}function pa(){var e=this.parentNode;e&&e.removeChild(this)}function va(){return this.each(pa)}function Sa(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function Ca(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function Ea(e){return this.select(e?Ca:Sa)}function Ma(e){return arguments.length?this.property("__data__",e):this.node().__data__}function za(e){return function(t){e.call(this,t,this.__data__)}}function Pa(e){return e.trim().split(/^|\s+/).map(function(t){var n="",i=t.indexOf(".");return i>=0&&(n=t.slice(i+1),t=t.slice(0,i)),{type:t,name:n}})}function Na(e){return function(){var t=this.__on;if(t){for(var n=0,i=-1,o=t.length,r;n<o;++n)r=t[n],(!e.type||r.type===e.type)&&r.name===e.name?this.removeEventListener(r.type,r.listener,r.options):t[++i]=r;++i?t.length=i:delete this.__on}}}function Oa(e,t,n){return function(){var i=this.__on,o,r=za(t);if(i){for(var s=0,l=i.length;s<l;++s)if((o=i[s]).type===e.type&&o.name===e.name){this.removeEventListener(o.type,o.listener,o.options),this.addEventListener(o.type,o.listener=r,o.options=n),o.value=t;return}}this.addEventListener(e.type,r,n),o={type:e.type,name:e.name,value:t,listener:r,options:n},i?i.push(o):this.__on=[o]}}function Ta(e,t,n){var i=Pa(e+""),o,r=i.length,s;if(arguments.length<2){var l=this.node().__on;if(l){for(var a=0,u=l.length,f;a<u;++a)for(o=0,f=l[a];o<r;++o)if((s=i[o]).type===f.type&&s.name===f.name)return f.value}return}for(l=t?Oa:Na,o=0;o<r;++o)this.each(l(i[o],t,n));return this}function zo(e,t,n){var i=vo(e),o=i.CustomEvent;typeof o=="function"?o=new o(t,n):(o=i.document.createEvent("Event"),n?(o.initEvent(t,n.bubbles,n.cancelable),o.detail=n.detail):o.initEvent(t,!1,!1)),e.dispatchEvent(o)}function Aa(e,t){return function(){return zo(this,e,t)}}function Da(e,t){return function(){return zo(this,e,t.apply(this,arguments))}}function Ha(e,t){return this.each((typeof t=="function"?Da:Aa)(e,t))}function*Ia(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var i=e[t],o=0,r=i.length,s;o<r;++o)(s=i[o])&&(yield s)}var Po=[null];function Qe(e,t){this._groups=e,this._parents=t}function cn(){return new Qe([[document.documentElement]],Po)}function Va(){return this}Qe.prototype=cn.prototype={constructor:Qe,select:as,selectAll:ds,selectChild:ys,selectChildren:ks,filter:ps,data:zs,enter:vs,exit:Ns,join:Os,merge:Ts,selection:Va,order:As,sort:Ds,call:Is,nodes:Vs,node:Xs,size:Rs,empty:Ys,each:Ls,attr:Gs,style:js,property:ta,classed:ra,text:ua,html:ha,raise:ma,lower:_a,append:ba,insert:ka,remove:va,clone:Ea,datum:Ma,on:Ta,dispatch:Ha,[Symbol.iterator]:Ia};function xe(e){return typeof e=="string"?new Qe([[document.querySelector(e)]],[document.documentElement]):new Qe([[e]],Po)}function Xa(e){let t;for(;t=e.sourceEvent;)e=t;return e}function nt(e,t){if(e=Xa(e),t===void 0&&(t=e.currentTarget),t){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var i=n.createSVGPoint();return i.x=e.clientX,i.y=e.clientY,i=i.matrixTransform(t.getScreenCTM().inverse()),[i.x,i.y]}if(t.getBoundingClientRect){var o=t.getBoundingClientRect();return[e.clientX-o.left-t.clientLeft,e.clientY-o.top-t.clientTop]}}return[e.pageX,e.pageY]}const Ra={passive:!1},dn={capture:!0,passive:!1};function vi(e){e.stopImmediatePropagation()}function Zt(e){e.preventDefault(),e.stopImmediatePropagation()}function No(e){var t=e.document.documentElement,n=xe(e).on("dragstart.drag",Zt,dn);"onselectstart"in t?n.on("selectstart.drag",Zt,dn):(t.__noselect=t.style.MozUserSelect,t.style.MozUserSelect="none")}function Oo(e,t){var n=e.document.documentElement,i=xe(e).on("dragstart.drag",null);t&&(i.on("click.drag",Zt,dn),setTimeout(function(){i.on("click.drag",null)},0)),"onselectstart"in n?i.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}const Ln=e=>()=>e;function Si(e,{sourceEvent:t,subject:n,target:i,identifier:o,active:r,x:s,y:l,dx:a,dy:u,dispatch:f}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},subject:{value:n,enumerable:!0,configurable:!0},target:{value:i,enumerable:!0,configurable:!0},identifier:{value:o,enumerable:!0,configurable:!0},active:{value:r,enumerable:!0,configurable:!0},x:{value:s,enumerable:!0,configurable:!0},y:{value:l,enumerable:!0,configurable:!0},dx:{value:a,enumerable:!0,configurable:!0},dy:{value:u,enumerable:!0,configurable:!0},_:{value:f}})}Si.prototype.on=function(){var e=this._.on.apply(this._,arguments);return e===this._?this:e};function Ya(e){return!e.ctrlKey&&!e.button}function La(){return this.parentNode}function Wa(e,t){return t??{x:e.x,y:e.y}}function Ba(){return navigator.maxTouchPoints||"ontouchstart"in this}function Ka(){var e=Ya,t=La,n=Wa,i=Ba,o={},r=Vn("start","drag","end"),s=0,l,a,u,f,d=0;function c(C){C.on("mousedown.drag",h).filter(i).on("touchstart.drag",_).on("touchmove.drag",g,Ra).on("touchend.drag touchcancel.drag",S).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function h(C,V){if(!(f||!e.call(this,C,V))){var K=k(this,t.call(this,C,V),C,V,"mouse");K&&(xe(C.view).on("mousemove.drag",m,dn).on("mouseup.drag",y,dn),No(C.view),vi(C),u=!1,l=C.clientX,a=C.clientY,K("start",C))}}function m(C){if(Zt(C),!u){var V=C.clientX-l,K=C.clientY-a;u=V*V+K*K>d}o.mouse("drag",C)}function y(C){xe(C.view).on("mousemove.drag mouseup.drag",null),Oo(C.view,u),Zt(C),o.mouse("end",C)}function _(C,V){if(e.call(this,C,V)){var K=C.changedTouches,O=t.call(this,C,V),M=K.length,P,D;for(P=0;P<M;++P)(D=k(this,O,C,V,K[P].identifier,K[P]))&&(vi(C),D("start",C,K[P]))}}function g(C){var V=C.changedTouches,K=V.length,O,M;for(O=0;O<K;++O)(M=o[V[O].identifier])&&(Zt(C),M("drag",C,V[O]))}function S(C){var V=C.changedTouches,K=V.length,O,M;for(f&&clearTimeout(f),f=setTimeout(function(){f=null},500),O=0;O<K;++O)(M=o[V[O].identifier])&&(vi(C),M("end",C,V[O]))}function k(C,V,K,O,M,P){var D=r.copy(),X=nt(P||K,V),L,B,b;if((b=n.call(C,new Si("beforestart",{sourceEvent:K,target:c,identifier:M,active:s,x:X[0],y:X[1],dx:0,dy:0,dispatch:D}),O))!=null)return L=b.x-X[0]||0,B=b.y-X[1]||0,function v(p,N,T){var A=X,Y;switch(p){case"start":o[M]=v,Y=s++;break;case"end":delete o[M],--s;case"drag":X=nt(T||N,V),Y=s;break}D.call(p,C,new Si(p,{sourceEvent:N,subject:b,target:c,identifier:M,active:Y,x:X[0]+L,y:X[1]+B,dx:X[0]-A[0],dy:X[1]-A[1],dispatch:D}),O)}}return c.filter=function(C){return arguments.length?(e=typeof C=="function"?C:Ln(!!C),c):e},c.container=function(C){return arguments.length?(t=typeof C=="function"?C:Ln(C),c):t},c.subject=function(C){return arguments.length?(n=typeof C=="function"?C:Ln(C),c):n},c.touchable=function(C){return arguments.length?(i=typeof C=="function"?C:Ln(!!C),c):i},c.on=function(){var C=r.on.apply(r,arguments);return C===r?c:C},c.clickDistance=function(C){return arguments.length?(d=(C=+C)*C,c):Math.sqrt(d)},c}function Ci(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function To(e,t){var n=Object.create(e.prototype);for(var i in t)n[i]=t[i];return n}function hn(){}var gn=.7,Wn=1/gn,Gt="\\s*([+-]?\\d+)\\s*",mn="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",lt="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Fa=/^#([0-9a-f]{3,8})$/,qa=new RegExp(`^rgb\\(${Gt},${Gt},${Gt}\\)$`),Za=new RegExp(`^rgb\\(${lt},${lt},${lt}\\)$`),Ga=new RegExp(`^rgba\\(${Gt},${Gt},${Gt},${mn}\\)$`),Ua=new RegExp(`^rgba\\(${lt},${lt},${lt},${mn}\\)$`),Ja=new RegExp(`^hsl\\(${mn},${lt},${lt}\\)$`),Qa=new RegExp(`^hsla\\(${mn},${lt},${lt},${mn}\\)$`),Ao={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Ci(hn,yn,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:Do,formatHex:Do,formatHex8:ja,formatHsl:xa,formatRgb:Ho,toString:Ho});function Do(){return this.rgb().formatHex()}function ja(){return this.rgb().formatHex8()}function xa(){return Yo(this).formatHsl()}function Ho(){return this.rgb().formatRgb()}function yn(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=Fa.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?Io(t):n===3?new Je(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?Bn(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?Bn(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=qa.exec(e))?new Je(t[1],t[2],t[3],1):(t=Za.exec(e))?new Je(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=Ga.exec(e))?Bn(t[1],t[2],t[3],t[4]):(t=Ua.exec(e))?Bn(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=Ja.exec(e))?Ro(t[1],t[2]/100,t[3]/100,1):(t=Qa.exec(e))?Ro(t[1],t[2]/100,t[3]/100,t[4]):Ao.hasOwnProperty(e)?Io(Ao[e]):e==="transparent"?new Je(NaN,NaN,NaN,0):null}function Io(e){return new Je(e>>16&255,e>>8&255,e&255,1)}function Bn(e,t,n,i){return i<=0&&(e=t=n=NaN),new Je(e,t,n,i)}function $a(e){return e instanceof hn||(e=yn(e)),e?(e=e.rgb(),new Je(e.r,e.g,e.b,e.opacity)):new Je}function Ei(e,t,n,i){return arguments.length===1?$a(e):new Je(e,t,n,i??1)}function Je(e,t,n,i){this.r=+e,this.g=+t,this.b=+n,this.opacity=+i}Ci(Je,Ei,To(hn,{brighter(e){return e=e==null?Wn:Math.pow(Wn,e),new Je(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?gn:Math.pow(gn,e),new Je(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Je(Pt(this.r),Pt(this.g),Pt(this.b),Kn(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Vo,formatHex:Vo,formatHex8:eu,formatRgb:Xo,toString:Xo}));function Vo(){return`#${Nt(this.r)}${Nt(this.g)}${Nt(this.b)}`}function eu(){return`#${Nt(this.r)}${Nt(this.g)}${Nt(this.b)}${Nt((isNaN(this.opacity)?1:this.opacity)*255)}`}function Xo(){const e=Kn(this.opacity);return`${e===1?"rgb(":"rgba("}${Pt(this.r)}, ${Pt(this.g)}, ${Pt(this.b)}${e===1?")":`, ${e})`}`}function Kn(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Pt(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Nt(e){return e=Pt(e),(e<16?"0":"")+e.toString(16)}function Ro(e,t,n,i){return i<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new it(e,t,n,i)}function Yo(e){if(e instanceof it)return new it(e.h,e.s,e.l,e.opacity);if(e instanceof hn||(e=yn(e)),!e)return new it;if(e instanceof it)return e;e=e.rgb();var t=e.r/255,n=e.g/255,i=e.b/255,o=Math.min(t,n,i),r=Math.max(t,n,i),s=NaN,l=r-o,a=(r+o)/2;return l?(t===r?s=(n-i)/l+(n<i)*6:n===r?s=(i-t)/l+2:s=(t-n)/l+4,l/=a<.5?r+o:2-r-o,s*=60):l=a>0&&a<1?0:s,new it(s,l,a,e.opacity)}function tu(e,t,n,i){return arguments.length===1?Yo(e):new it(e,t,n,i??1)}function it(e,t,n,i){this.h=+e,this.s=+t,this.l=+n,this.opacity=+i}Ci(it,tu,To(hn,{brighter(e){return e=e==null?Wn:Math.pow(Wn,e),new it(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?gn:Math.pow(gn,e),new it(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,i=n+(n<.5?n:1-n)*t,o=2*n-i;return new Je(Mi(e>=240?e-240:e+120,o,i),Mi(e,o,i),Mi(e<120?e+240:e-120,o,i),this.opacity)},clamp(){return new it(Lo(this.h),Fn(this.s),Fn(this.l),Kn(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Kn(this.opacity);return`${e===1?"hsl(":"hsla("}${Lo(this.h)}, ${Fn(this.s)*100}%, ${Fn(this.l)*100}%${e===1?")":`, ${e})`}`}}));function Lo(e){return e=(e||0)%360,e<0?e+360:e}function Fn(e){return Math.max(0,Math.min(1,e||0))}function Mi(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const Wo=e=>()=>e;function nu(e,t){return function(n){return e+n*t}}function iu(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(i){return Math.pow(e+i*t,n)}}function ou(e){return(e=+e)==1?Bo:function(t,n){return n-t?iu(t,n,e):Wo(isNaN(t)?n:t)}}function Bo(e,t){var n=t-e;return n?nu(e,n):Wo(isNaN(e)?t:e)}const Ko=function e(t){var n=ou(t);function i(o,r){var s=n((o=Ei(o)).r,(r=Ei(r)).r),l=n(o.g,r.g),a=n(o.b,r.b),u=Bo(o.opacity,r.opacity);return function(f){return o.r=s(f),o.g=l(f),o.b=a(f),o.opacity=u(f),o+""}}return i.gamma=e,i}(1);function wt(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}var zi=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Pi=new RegExp(zi.source,"g");function ru(e){return function(){return e}}function lu(e){return function(t){return e(t)+""}}function su(e,t){var n=zi.lastIndex=Pi.lastIndex=0,i,o,r,s=-1,l=[],a=[];for(e=e+"",t=t+"";(i=zi.exec(e))&&(o=Pi.exec(t));)(r=o.index)>n&&(r=t.slice(n,r),l[s]?l[s]+=r:l[++s]=r),(i=i[0])===(o=o[0])?l[s]?l[s]+=o:l[++s]=o:(l[++s]=null,a.push({i:s,x:wt(i,o)})),n=Pi.lastIndex;return n<t.length&&(r=t.slice(n),l[s]?l[s]+=r:l[++s]=r),l.length<2?a[0]?lu(a[0].x):ru(t):(t=a.length,function(u){for(var f=0,d;f<t;++f)l[(d=a[f]).i]=d.x(u);return l.join("")})}var Fo=180/Math.PI,Ni={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function qo(e,t,n,i,o,r){var s,l,a;return(s=Math.sqrt(e*e+t*t))&&(e/=s,t/=s),(a=e*n+t*i)&&(n-=e*a,i-=t*a),(l=Math.sqrt(n*n+i*i))&&(n/=l,i/=l,a/=l),e*i<t*n&&(e=-e,t=-t,a=-a,s=-s),{translateX:o,translateY:r,rotate:Math.atan2(t,e)*Fo,skewX:Math.atan(a)*Fo,scaleX:s,scaleY:l}}var qn;function au(e){const t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?Ni:qo(t.a,t.b,t.c,t.d,t.e,t.f)}function uu(e){return e==null||(qn||(qn=document.createElementNS("http://www.w3.org/2000/svg","g")),qn.setAttribute("transform",e),!(e=qn.transform.baseVal.consolidate()))?Ni:(e=e.matrix,qo(e.a,e.b,e.c,e.d,e.e,e.f))}function Zo(e,t,n,i){function o(u){return u.length?u.pop()+" ":""}function r(u,f,d,c,h,m){if(u!==d||f!==c){var y=h.push("translate(",null,t,null,n);m.push({i:y-4,x:wt(u,d)},{i:y-2,x:wt(f,c)})}else(d||c)&&h.push("translate("+d+t+c+n)}function s(u,f,d,c){u!==f?(u-f>180?f+=360:f-u>180&&(u+=360),c.push({i:d.push(o(d)+"rotate(",null,i)-2,x:wt(u,f)})):f&&d.push(o(d)+"rotate("+f+i)}function l(u,f,d,c){u!==f?c.push({i:d.push(o(d)+"skewX(",null,i)-2,x:wt(u,f)}):f&&d.push(o(d)+"skewX("+f+i)}function a(u,f,d,c,h,m){if(u!==d||f!==c){var y=h.push(o(h)+"scale(",null,",",null,")");m.push({i:y-4,x:wt(u,d)},{i:y-2,x:wt(f,c)})}else(d!==1||c!==1)&&h.push(o(h)+"scale("+d+","+c+")")}return function(u,f){var d=[],c=[];return u=e(u),f=e(f),r(u.translateX,u.translateY,f.translateX,f.translateY,d,c),s(u.rotate,f.rotate,d,c),l(u.skewX,f.skewX,d,c),a(u.scaleX,u.scaleY,f.scaleX,f.scaleY,d,c),u=f=null,function(h){for(var m=-1,y=c.length,_;++m<y;)d[(_=c[m]).i]=_.x(h);return d.join("")}}}var fu=Zo(au,"px, ","px)","deg)"),cu=Zo(uu,", ",")",")"),du=1e-12;function Go(e){return((e=Math.exp(e))+1/e)/2}function hu(e){return((e=Math.exp(e))-1/e)/2}function gu(e){return((e=Math.exp(2*e))-1)/(e+1)}const mu=function e(t,n,i){function o(r,s){var l=r[0],a=r[1],u=r[2],f=s[0],d=s[1],c=s[2],h=f-l,m=d-a,y=h*h+m*m,_,g;if(y<du)g=Math.log(c/u)/t,_=function(O){return[l+O*h,a+O*m,u*Math.exp(t*O*g)]};else{var S=Math.sqrt(y),k=(c*c-u*u+i*y)/(2*u*n*S),C=(c*c-u*u-i*y)/(2*c*n*S),V=Math.log(Math.sqrt(k*k+1)-k),K=Math.log(Math.sqrt(C*C+1)-C);g=(K-V)/t,_=function(O){var M=O*g,P=Go(V),D=u/(n*S)*(P*gu(t*M+V)-hu(V));return[l+D*h,a+D*m,u*P/Go(t*M+V)]}}return _.duration=g*1e3*t/Math.SQRT2,_}return o.rho=function(r){var s=Math.max(.001,+r),l=s*s,a=l*l;return e(s,l,a)},o}(Math.SQRT2,2,4);var Ut=0,_n=0,bn=0,Uo=1e3,Zn,wn,Gn=0,Ot=0,Un=0,kn=typeof performance=="object"&&performance.now?performance:Date,Jo=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function Oi(){return Ot||(Jo(yu),Ot=kn.now()+Un)}function yu(){Ot=0}function Jn(){this._call=this._time=this._next=null}Jn.prototype=Qo.prototype={constructor:Jn,restart:function(e,t,n){if(typeof e!="function")throw new TypeError("callback is not a function");n=(n==null?Oi():+n)+(t==null?0:+t),!this._next&&wn!==this&&(wn?wn._next=this:Zn=this,wn=this),this._call=e,this._time=n,Ti()},stop:function(){this._call&&(this._call=null,this._time=1/0,Ti())}};function Qo(e,t,n){var i=new Jn;return i.restart(e,t,n),i}function _u(){Oi(),++Ut;for(var e=Zn,t;e;)(t=Ot-e._time)>=0&&e._call.call(void 0,t),e=e._next;--Ut}function jo(){Ot=(Gn=kn.now())+Un,Ut=_n=0;try{_u()}finally{Ut=0,wu(),Ot=0}}function bu(){var e=kn.now(),t=e-Gn;t>Uo&&(Un-=t,Gn=e)}function wu(){for(var e,t=Zn,n,i=1/0;t;)t._call?(i>t._time&&(i=t._time),e=t,t=t._next):(n=t._next,t._next=null,t=e?e._next=n:Zn=n);wn=e,Ti(i)}function Ti(e){if(!Ut){_n&&(_n=clearTimeout(_n));var t=e-Ot;t>24?(e<1/0&&(_n=setTimeout(jo,e-kn.now()-Un)),bn&&(bn=clearInterval(bn))):(bn||(Gn=kn.now(),bn=setInterval(bu,Uo)),Ut=1,Jo(jo))}}function xo(e,t,n){var i=new Jn;return t=t==null?0:+t,i.restart(o=>{i.stop(),e(o+t)},t,n),i}var ku=Vn("start","end","cancel","interrupt"),pu=[],$o=0,er=1,Ai=2,Qn=3,tr=4,Di=5,jn=6;function xn(e,t,n,i,o,r){var s=e.__transition;if(!s)e.__transition={};else if(n in s)return;vu(e,n,{name:t,index:i,group:o,on:ku,tween:pu,time:r.time,delay:r.delay,duration:r.duration,ease:r.ease,timer:null,state:$o})}function Hi(e,t){var n=ot(e,t);if(n.state>$o)throw new Error("too late; already scheduled");return n}function st(e,t){var n=ot(e,t);if(n.state>Qn)throw new Error("too late; already running");return n}function ot(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}function vu(e,t,n){var i=e.__transition,o;i[t]=n,n.timer=Qo(r,0,n.time);function r(u){n.state=er,n.timer.restart(s,n.delay,n.time),n.delay<=u&&s(u-n.delay)}function s(u){var f,d,c,h;if(n.state!==er)return a();for(f in i)if(h=i[f],h.name===n.name){if(h.state===Qn)return xo(s);h.state===tr?(h.state=jn,h.timer.stop(),h.on.call("interrupt",e,e.__data__,h.index,h.group),delete i[f]):+f<t&&(h.state=jn,h.timer.stop(),h.on.call("cancel",e,e.__data__,h.index,h.group),delete i[f])}if(xo(function(){n.state===Qn&&(n.state=tr,n.timer.restart(l,n.delay,n.time),l(u))}),n.state=Ai,n.on.call("start",e,e.__data__,n.index,n.group),n.state===Ai){for(n.state=Qn,o=new Array(c=n.tween.length),f=0,d=-1;f<c;++f)(h=n.tween[f].value.call(e,e.__data__,n.index,n.group))&&(o[++d]=h);o.length=d+1}}function l(u){for(var f=u<n.duration?n.ease.call(null,u/n.duration):(n.timer.restart(a),n.state=Di,1),d=-1,c=o.length;++d<c;)o[d].call(e,f);n.state===Di&&(n.on.call("end",e,e.__data__,n.index,n.group),a())}function a(){n.state=jn,n.timer.stop(),delete i[t];for(var u in i)return;delete e.__transition}}function $n(e,t){var n=e.__transition,i,o,r=!0,s;if(n){t=t==null?null:t+"";for(s in n){if((i=n[s]).name!==t){r=!1;continue}o=i.state>Ai&&i.state<Di,i.state=jn,i.timer.stop(),i.on.call(o?"interrupt":"cancel",e,e.__data__,i.index,i.group),delete n[s]}r&&delete e.__transition}}function Su(e){return this.each(function(){$n(this,e)})}function Cu(e,t){var n,i;return function(){var o=st(this,e),r=o.tween;if(r!==n){i=n=r;for(var s=0,l=i.length;s<l;++s)if(i[s].name===t){i=i.slice(),i.splice(s,1);break}}o.tween=i}}function Eu(e,t,n){var i,o;if(typeof n!="function")throw new Error;return function(){var r=st(this,e),s=r.tween;if(s!==i){o=(i=s).slice();for(var l={name:t,value:n},a=0,u=o.length;a<u;++a)if(o[a].name===t){o[a]=l;break}a===u&&o.push(l)}r.tween=o}}function Mu(e,t){var n=this._id;if(e+="",arguments.length<2){for(var i=ot(this.node(),n).tween,o=0,r=i.length,s;o<r;++o)if((s=i[o]).name===e)return s.value;return null}return this.each((t==null?Cu:Eu)(n,e,t))}function Ii(e,t,n){var i=e._id;return e.each(function(){var o=st(this,i);(o.value||(o.value={}))[t]=n.apply(this,arguments)}),function(o){return ot(o,i).value[t]}}function nr(e,t){var n;return(typeof t=="number"?wt:t instanceof yn?Ko:(n=yn(t))?(t=n,Ko):su)(e,t)}function zu(e){return function(){this.removeAttribute(e)}}function Pu(e){return function(){this.removeAttributeNS(e.space,e.local)}}function Nu(e,t,n){var i,o=n+"",r;return function(){var s=this.getAttribute(e);return s===o?null:s===i?r:r=t(i=s,n)}}function Ou(e,t,n){var i,o=n+"",r;return function(){var s=this.getAttributeNS(e.space,e.local);return s===o?null:s===i?r:r=t(i=s,n)}}function Tu(e,t,n){var i,o,r;return function(){var s,l=n(this),a;return l==null?void this.removeAttribute(e):(s=this.getAttribute(e),a=l+"",s===a?null:s===i&&a===o?r:(o=a,r=t(i=s,l)))}}function Au(e,t,n){var i,o,r;return function(){var s,l=n(this),a;return l==null?void this.removeAttributeNS(e.space,e.local):(s=this.getAttributeNS(e.space,e.local),a=l+"",s===a?null:s===i&&a===o?r:(o=a,r=t(i=s,l)))}}function Du(e,t){var n=Rn(e),i=n==="transform"?cu:nr;return this.attrTween(e,typeof t=="function"?(n.local?Au:Tu)(n,i,Ii(this,"attr."+e,t)):t==null?(n.local?Pu:zu)(n):(n.local?Ou:Nu)(n,i,t))}function Hu(e,t){return function(n){this.setAttribute(e,t.call(this,n))}}function Iu(e,t){return function(n){this.setAttributeNS(e.space,e.local,t.call(this,n))}}function Vu(e,t){var n,i;function o(){var r=t.apply(this,arguments);return r!==i&&(n=(i=r)&&Iu(e,r)),n}return o._value=t,o}function Xu(e,t){var n,i;function o(){var r=t.apply(this,arguments);return r!==i&&(n=(i=r)&&Hu(e,r)),n}return o._value=t,o}function Ru(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;var i=Rn(e);return this.tween(n,(i.local?Vu:Xu)(i,t))}function Yu(e,t){return function(){Hi(this,e).delay=+t.apply(this,arguments)}}function Lu(e,t){return t=+t,function(){Hi(this,e).delay=t}}function Wu(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?Yu:Lu)(t,e)):ot(this.node(),t).delay}function Bu(e,t){return function(){st(this,e).duration=+t.apply(this,arguments)}}function Ku(e,t){return t=+t,function(){st(this,e).duration=t}}function Fu(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?Bu:Ku)(t,e)):ot(this.node(),t).duration}function qu(e,t){if(typeof t!="function")throw new Error;return function(){st(this,e).ease=t}}function Zu(e){var t=this._id;return arguments.length?this.each(qu(t,e)):ot(this.node(),t).ease}function Gu(e,t){return function(){var n=t.apply(this,arguments);if(typeof n!="function")throw new Error;st(this,e).ease=n}}function Uu(e){if(typeof e!="function")throw new Error;return this.each(Gu(this._id,e))}function Ju(e){typeof e!="function"&&(e=wo(e));for(var t=this._groups,n=t.length,i=new Array(n),o=0;o<n;++o)for(var r=t[o],s=r.length,l=i[o]=[],a,u=0;u<s;++u)(a=r[u])&&e.call(a,a.__data__,u,r)&&l.push(a);return new dt(i,this._parents,this._name,this._id)}function Qu(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,i=t.length,o=n.length,r=Math.min(i,o),s=new Array(i),l=0;l<r;++l)for(var a=t[l],u=n[l],f=a.length,d=s[l]=new Array(f),c,h=0;h<f;++h)(c=a[h]||u[h])&&(d[h]=c);for(;l<i;++l)s[l]=t[l];return new dt(s,this._parents,this._name,this._id)}function ju(e){return(e+"").trim().split(/^|\s+/).every(function(t){var n=t.indexOf(".");return n>=0&&(t=t.slice(0,n)),!t||t==="start"})}function xu(e,t,n){var i,o,r=ju(t)?Hi:st;return function(){var s=r(this,e),l=s.on;l!==i&&(o=(i=l).copy()).on(t,n),s.on=o}}function $u(e,t){var n=this._id;return arguments.length<2?ot(this.node(),n).on.on(e):this.each(xu(n,e,t))}function ef(e){return function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}}function tf(){return this.on("end.remove",ef(this._id))}function nf(e){var t=this._name,n=this._id;typeof e!="function"&&(e=ki(e));for(var i=this._groups,o=i.length,r=new Array(o),s=0;s<o;++s)for(var l=i[s],a=l.length,u=r[s]=new Array(a),f,d,c=0;c<a;++c)(f=l[c])&&(d=e.call(f,f.__data__,c,l))&&("__data__"in f&&(d.__data__=f.__data__),u[c]=d,xn(u[c],t,n,c,u,ot(f,n)));return new dt(r,this._parents,t,n)}function of(e){var t=this._name,n=this._id;typeof e!="function"&&(e=bo(e));for(var i=this._groups,o=i.length,r=[],s=[],l=0;l<o;++l)for(var a=i[l],u=a.length,f,d=0;d<u;++d)if(f=a[d]){for(var c=e.call(f,f.__data__,d,a),h,m=ot(f,n),y=0,_=c.length;y<_;++y)(h=c[y])&&xn(h,t,n,y,c,m);r.push(c),s.push(f)}return new dt(r,s,t,n)}var rf=cn.prototype.constructor;function lf(){return new rf(this._groups,this._parents)}function sf(e,t){var n,i,o;return function(){var r=qt(this,e),s=(this.style.removeProperty(e),qt(this,e));return r===s?null:r===n&&s===i?o:o=t(n=r,i=s)}}function ir(e){return function(){this.style.removeProperty(e)}}function af(e,t,n){var i,o=n+"",r;return function(){var s=qt(this,e);return s===o?null:s===i?r:r=t(i=s,n)}}function uf(e,t,n){var i,o,r;return function(){var s=qt(this,e),l=n(this),a=l+"";return l==null&&(a=l=(this.style.removeProperty(e),qt(this,e))),s===a?null:s===i&&a===o?r:(o=a,r=t(i=s,l))}}function ff(e,t){var n,i,o,r="style."+t,s="end."+r,l;return function(){var a=st(this,e),u=a.on,f=a.value[r]==null?l||(l=ir(t)):void 0;(u!==n||o!==f)&&(i=(n=u).copy()).on(s,o=f),a.on=i}}function cf(e,t,n){var i=(e+="")=="transform"?fu:nr;return t==null?this.styleTween(e,sf(e,i)).on("end.style."+e,ir(e)):typeof t=="function"?this.styleTween(e,uf(e,i,Ii(this,"style."+e,t))).each(ff(this._id,e)):this.styleTween(e,af(e,i,t),n).on("end.style."+e,null)}function df(e,t,n){return function(i){this.style.setProperty(e,t.call(this,i),n)}}function hf(e,t,n){var i,o;function r(){var s=t.apply(this,arguments);return s!==o&&(i=(o=s)&&df(e,s,n)),i}return r._value=t,r}function gf(e,t,n){var i="style."+(e+="");if(arguments.length<2)return(i=this.tween(i))&&i._value;if(t==null)return this.tween(i,null);if(typeof t!="function")throw new Error;return this.tween(i,hf(e,t,n??""))}function mf(e){return function(){this.textContent=e}}function yf(e){return function(){var t=e(this);this.textContent=t??""}}function _f(e){return this.tween("text",typeof e=="function"?yf(Ii(this,"text",e)):mf(e==null?"":e+""))}function bf(e){return function(t){this.textContent=e.call(this,t)}}function wf(e){var t,n;function i(){var o=e.apply(this,arguments);return o!==n&&(t=(n=o)&&bf(o)),t}return i._value=e,i}function kf(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;return this.tween(t,wf(e))}function pf(){for(var e=this._name,t=this._id,n=or(),i=this._groups,o=i.length,r=0;r<o;++r)for(var s=i[r],l=s.length,a,u=0;u<l;++u)if(a=s[u]){var f=ot(a,t);xn(a,e,n,u,s,{time:f.time+f.delay+f.duration,delay:0,duration:f.duration,ease:f.ease})}return new dt(i,this._parents,e,n)}function vf(){var e,t,n=this,i=n._id,o=n.size();return new Promise(function(r,s){var l={value:s},a={value:function(){--o===0&&r()}};n.each(function(){var u=st(this,i),f=u.on;f!==e&&(t=(e=f).copy(),t._.cancel.push(l),t._.interrupt.push(l),t._.end.push(a)),u.on=t}),o===0&&r()})}var Sf=0;function dt(e,t,n,i){this._groups=e,this._parents=t,this._name=n,this._id=i}function or(){return++Sf}var ht=cn.prototype;dt.prototype={constructor:dt,select:nf,selectAll:of,selectChild:ht.selectChild,selectChildren:ht.selectChildren,filter:Ju,merge:Qu,selection:lf,transition:pf,call:ht.call,nodes:ht.nodes,node:ht.node,size:ht.size,empty:ht.empty,each:ht.each,on:$u,attr:Du,attrTween:Ru,style:cf,styleTween:gf,text:_f,textTween:kf,remove:tf,tween:Mu,delay:Wu,duration:Fu,ease:Zu,easeVarying:Uu,end:vf,[Symbol.iterator]:ht[Symbol.iterator]};function Cf(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var Ef={time:null,delay:0,duration:250,ease:Cf};function Mf(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return n}function zf(e){var t,n;e instanceof dt?(t=e._id,e=e._name):(t=or(),(n=Ef).time=Oi(),e=e==null?null:e+"");for(var i=this._groups,o=i.length,r=0;r<o;++r)for(var s=i[r],l=s.length,a,u=0;u<l;++u)(a=s[u])&&xn(a,e,t,u,s,n||Mf(a,t));return new dt(i,this._parents,e,t)}cn.prototype.interrupt=Su,cn.prototype.transition=zf;const ei=e=>()=>e;function Pf(e,{sourceEvent:t,target:n,transform:i,dispatch:o}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:i,enumerable:!0,configurable:!0},_:{value:o}})}function gt(e,t,n){this.k=e,this.x=t,this.y=n}gt.prototype={constructor:gt,scale:function(e){return e===1?this:new gt(this.k*e,this.x,this.y)},translate:function(e,t){return e===0&t===0?this:new gt(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var ti=new gt(1,0,0);rr.prototype=gt.prototype;function rr(e){for(;!e.__zoom;)if(!(e=e.parentNode))return ti;return e.__zoom}function Vi(e){e.stopImmediatePropagation()}function pn(e){e.preventDefault(),e.stopImmediatePropagation()}function Nf(e){return(!e.ctrlKey||e.type==="wheel")&&!e.button}function Of(){var e=this;return e instanceof SVGElement?(e=e.ownerSVGElement||e,e.hasAttribute("viewBox")?(e=e.viewBox.baseVal,[[e.x,e.y],[e.x+e.width,e.y+e.height]]):[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]):[[0,0],[e.clientWidth,e.clientHeight]]}function lr(){return this.__zoom||ti}function Tf(e){return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*(e.ctrlKey?10:1)}function Af(){return navigator.maxTouchPoints||"ontouchstart"in this}function Df(e,t,n){var i=e.invertX(t[0][0])-n[0][0],o=e.invertX(t[1][0])-n[1][0],r=e.invertY(t[0][1])-n[0][1],s=e.invertY(t[1][1])-n[1][1];return e.translate(o>i?(i+o)/2:Math.min(0,i)||Math.max(0,o),s>r?(r+s)/2:Math.min(0,r)||Math.max(0,s))}function sr(){var e=Nf,t=Of,n=Df,i=Tf,o=Af,r=[0,1/0],s=[[-1/0,-1/0],[1/0,1/0]],l=250,a=mu,u=Vn("start","zoom","end"),f,d,c,h=500,m=150,y=0,_=10;function g(b){b.property("__zoom",lr).on("wheel.zoom",M,{passive:!1}).on("mousedown.zoom",P).on("dblclick.zoom",D).filter(o).on("touchstart.zoom",X).on("touchmove.zoom",L).on("touchend.zoom touchcancel.zoom",B).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}g.transform=function(b,v,p,N){var T=b.selection?b.selection():b;T.property("__zoom",lr),b!==T?V(b,v,p,N):T.interrupt().each(function(){K(this,arguments).event(N).start().zoom(null,typeof v=="function"?v.apply(this,arguments):v).end()})},g.scaleBy=function(b,v,p,N){g.scaleTo(b,function(){var T=this.__zoom.k,A=typeof v=="function"?v.apply(this,arguments):v;return T*A},p,N)},g.scaleTo=function(b,v,p,N){g.transform(b,function(){var T=t.apply(this,arguments),A=this.__zoom,Y=p==null?C(T):typeof p=="function"?p.apply(this,arguments):p,U=A.invert(Y),Q=typeof v=="function"?v.apply(this,arguments):v;return n(k(S(A,Q),Y,U),T,s)},p,N)},g.translateBy=function(b,v,p,N){g.transform(b,function(){return n(this.__zoom.translate(typeof v=="function"?v.apply(this,arguments):v,typeof p=="function"?p.apply(this,arguments):p),t.apply(this,arguments),s)},null,N)},g.translateTo=function(b,v,p,N,T){g.transform(b,function(){var A=t.apply(this,arguments),Y=this.__zoom,U=N==null?C(A):typeof N=="function"?N.apply(this,arguments):N;return n(ti.translate(U[0],U[1]).scale(Y.k).translate(typeof v=="function"?-v.apply(this,arguments):-v,typeof p=="function"?-p.apply(this,arguments):-p),A,s)},N,T)};function S(b,v){return v=Math.max(r[0],Math.min(r[1],v)),v===b.k?b:new gt(v,b.x,b.y)}function k(b,v,p){var N=v[0]-p[0]*b.k,T=v[1]-p[1]*b.k;return N===b.x&&T===b.y?b:new gt(b.k,N,T)}function C(b){return[(+b[0][0]+ +b[1][0])/2,(+b[0][1]+ +b[1][1])/2]}function V(b,v,p,N){b.on("start.zoom",function(){K(this,arguments).event(N).start()}).on("interrupt.zoom end.zoom",function(){K(this,arguments).event(N).end()}).tween("zoom",function(){var T=this,A=arguments,Y=K(T,A).event(N),U=t.apply(T,A),Q=p==null?C(U):typeof p=="function"?p.apply(T,A):p,j=Math.max(U[1][0]-U[0][0],U[1][1]-U[0][1]),I=T.__zoom,oe=typeof v=="function"?v.apply(T,A):v,de=a(I.invert(Q).concat(j/I.k),oe.invert(Q).concat(j/oe.k));return function(J){if(J===1)J=oe;else{var ke=de(J),G=j/ke[2];J=new gt(G,Q[0]-ke[0]*G,Q[1]-ke[1]*G)}Y.zoom(null,J)}})}function K(b,v,p){return!p&&b.__zooming||new O(b,v)}function O(b,v){this.that=b,this.args=v,this.active=0,this.sourceEvent=null,this.extent=t.apply(b,v),this.taps=0}O.prototype={event:function(b){return b&&(this.sourceEvent=b),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(b,v){return this.mouse&&b!=="mouse"&&(this.mouse[1]=v.invert(this.mouse[0])),this.touch0&&b!=="touch"&&(this.touch0[1]=v.invert(this.touch0[0])),this.touch1&&b!=="touch"&&(this.touch1[1]=v.invert(this.touch1[0])),this.that.__zoom=v,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(b){var v=xe(this.that).datum();u.call(b,this.that,new Pf(b,{sourceEvent:this.sourceEvent,target:g,transform:this.that.__zoom,dispatch:u}),v)}};function M(b,...v){if(!e.apply(this,arguments))return;var p=K(this,v).event(b),N=this.__zoom,T=Math.max(r[0],Math.min(r[1],N.k*Math.pow(2,i.apply(this,arguments)))),A=nt(b);if(p.wheel)(p.mouse[0][0]!==A[0]||p.mouse[0][1]!==A[1])&&(p.mouse[1]=N.invert(p.mouse[0]=A)),clearTimeout(p.wheel);else{if(N.k===T)return;p.mouse=[A,N.invert(A)],$n(this),p.start()}pn(b),p.wheel=setTimeout(Y,m),p.zoom("mouse",n(k(S(N,T),p.mouse[0],p.mouse[1]),p.extent,s));function Y(){p.wheel=null,p.end()}}function P(b,...v){if(c||!e.apply(this,arguments))return;var p=b.currentTarget,N=K(this,v,!0).event(b),T=xe(b.view).on("mousemove.zoom",Q,!0).on("mouseup.zoom",j,!0),A=nt(b,p),Y=b.clientX,U=b.clientY;No(b.view),Vi(b),N.mouse=[A,this.__zoom.invert(A)],$n(this),N.start();function Q(I){if(pn(I),!N.moved){var oe=I.clientX-Y,de=I.clientY-U;N.moved=oe*oe+de*de>y}N.event(I).zoom("mouse",n(k(N.that.__zoom,N.mouse[0]=nt(I,p),N.mouse[1]),N.extent,s))}function j(I){T.on("mousemove.zoom mouseup.zoom",null),Oo(I.view,N.moved),pn(I),N.event(I).end()}}function D(b,...v){if(e.apply(this,arguments)){var p=this.__zoom,N=nt(b.changedTouches?b.changedTouches[0]:b,this),T=p.invert(N),A=p.k*(b.shiftKey?.5:2),Y=n(k(S(p,A),N,T),t.apply(this,v),s);pn(b),l>0?xe(this).transition().duration(l).call(V,Y,N,b):xe(this).call(g.transform,Y,N,b)}}function X(b,...v){if(e.apply(this,arguments)){var p=b.touches,N=p.length,T=K(this,v,b.changedTouches.length===N).event(b),A,Y,U,Q;for(Vi(b),Y=0;Y<N;++Y)U=p[Y],Q=nt(U,this),Q=[Q,this.__zoom.invert(Q),U.identifier],T.touch0?!T.touch1&&T.touch0[2]!==Q[2]&&(T.touch1=Q,T.taps=0):(T.touch0=Q,A=!0,T.taps=1+!!f);f&&(f=clearTimeout(f)),A&&(T.taps<2&&(d=Q[0],f=setTimeout(function(){f=null},h)),$n(this),T.start())}}function L(b,...v){if(this.__zooming){var p=K(this,v).event(b),N=b.changedTouches,T=N.length,A,Y,U,Q;for(pn(b),A=0;A<T;++A)Y=N[A],U=nt(Y,this),p.touch0&&p.touch0[2]===Y.identifier?p.touch0[0]=U:p.touch1&&p.touch1[2]===Y.identifier&&(p.touch1[0]=U);if(Y=p.that.__zoom,p.touch1){var j=p.touch0[0],I=p.touch0[1],oe=p.touch1[0],de=p.touch1[1],J=(J=oe[0]-j[0])*J+(J=oe[1]-j[1])*J,ke=(ke=de[0]-I[0])*ke+(ke=de[1]-I[1])*ke;Y=S(Y,Math.sqrt(J/ke)),U=[(j[0]+oe[0])/2,(j[1]+oe[1])/2],Q=[(I[0]+de[0])/2,(I[1]+de[1])/2]}else if(p.touch0)U=p.touch0[0],Q=p.touch0[1];else return;p.zoom("touch",n(k(Y,U,Q),p.extent,s))}}function B(b,...v){if(this.__zooming){var p=K(this,v).event(b),N=b.changedTouches,T=N.length,A,Y;for(Vi(b),c&&clearTimeout(c),c=setTimeout(function(){c=null},h),A=0;A<T;++A)Y=N[A],p.touch0&&p.touch0[2]===Y.identifier?delete p.touch0:p.touch1&&p.touch1[2]===Y.identifier&&delete p.touch1;if(p.touch1&&!p.touch0&&(p.touch0=p.touch1,delete p.touch1),p.touch0)p.touch0[1]=this.__zoom.invert(p.touch0[0]);else if(p.end(),p.taps===2&&(Y=nt(Y,this),Math.hypot(d[0]-Y[0],d[1]-Y[1])<_)){var U=xe(this).on("dblclick.zoom");U&&U.apply(this,arguments)}}}return g.wheelDelta=function(b){return arguments.length?(i=typeof b=="function"?b:ei(+b),g):i},g.filter=function(b){return arguments.length?(e=typeof b=="function"?b:ei(!!b),g):e},g.touchable=function(b){return arguments.length?(o=typeof b=="function"?b:ei(!!b),g):o},g.extent=function(b){return arguments.length?(t=typeof b=="function"?b:ei([[+b[0][0],+b[0][1]],[+b[1][0],+b[1][1]]]),g):t},g.scaleExtent=function(b){return arguments.length?(r[0]=+b[0],r[1]=+b[1],g):[r[0],r[1]]},g.translateExtent=function(b){return arguments.length?(s[0][0]=+b[0][0],s[1][0]=+b[1][0],s[0][1]=+b[0][1],s[1][1]=+b[1][1],g):[[s[0][0],s[0][1]],[s[1][0],s[1][1]]]},g.constrain=function(b){return arguments.length?(n=b,g):n},g.duration=function(b){return arguments.length?(l=+b,g):l},g.interpolate=function(b){return arguments.length?(a=b,g):a},g.on=function(){var b=u.on.apply(u,arguments);return b===u?g:b},g.clickDistance=function(b){return arguments.length?(y=(b=+b)*b,g):Math.sqrt(y)},g.tapDistance=function(b){return arguments.length?(_=+b,g):_},g}const Tt={error001:()=>"[React Flow]: Seems like you have not used zustand provider as an ancestor. Help: https://reactflow.dev/error#001",error002:()=>"It looks like you've created a new nodeTypes or edgeTypes object. If this wasn't on purpose please define the nodeTypes/edgeTypes outside of the component or memoize them.",error003:e=>`Node type "${e}" not found. Using fallback type "default".`,error004:()=>"The React Flow parent container needs a width and a height to render the graph.",error005:()=>"Only child nodes can use a parent extent.",error006:()=>"Can't create edge. An edge needs a source and a target.",error007:e=>`The old edge with id=${e} does not exist.`,error009:e=>`Marker type "${e}" doesn't exist.`,error008:(e,{id:t,sourceHandle:n,targetHandle:i})=>`Couldn't create edge for ${e} handle id: "${e==="source"?n:i}", edge id: ${t}.`,error010:()=>"Handle: No node id found. Make sure to only use a Handle inside a custom Node.",error011:e=>`Edge type "${e}" not found. Using fallback type "default".`,error012:e=>`Node with id "${e}" does not exist, it may have been removed. This can happen when a node is deleted before the "onNodeClick" handler is called.`,error013:(e="react")=>`It seems that you haven't loaded the styles. Please import '@xyflow/${e}/dist/style.css' or base.css to make sure everything is working properly.`,error014:()=>"useNodeConnections: No node ID found. Call useNodeConnections inside a custom Node or provide a node ID.",error015:()=>"It seems that you are trying to drag a node that is not initialized. Please use onNodesChange as explained in the docs."},ni=[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]];var At;(function(e){e.Strict="strict",e.Loose="loose"})(At||(At={}));var at;(function(e){e.Free="free",e.Vertical="vertical",e.Horizontal="horizontal"})(at||(at={}));var ii;(function(e){e.Partial="partial",e.Full="full"})(ii||(ii={}));const Xi={inProgress:!1,isValid:null,from:null,fromHandle:null,fromPosition:null,fromNode:null,to:null,toHandle:null,toPosition:null,toNode:null};var Jt;(function(e){e.Bezier="default",e.Straight="straight",e.Step="step",e.SmoothStep="smoothstep",e.SimpleBezier="simplebezier"})(Jt||(Jt={}));var oi;(function(e){e.Arrow="arrow",e.ArrowClosed="arrowclosed"})(oi||(oi={}));var ue;(function(e){e.Left="left",e.Top="top",e.Right="right",e.Bottom="bottom"})(ue||(ue={}));const ar={[ue.Left]:ue.Right,[ue.Right]:ue.Left,[ue.Top]:ue.Bottom,[ue.Bottom]:ue.Top};function Hf(e,t){if(!e&&!t)return!0;if(!e||!t||e.size!==t.size)return!1;if(!e.size&&!t.size)return!0;for(const n of e.keys())if(!t.has(n))return!1;return!0}function ur(e,t,n){if(!n)return;const i=[];e.forEach((o,r)=>{t!=null&&t.has(r)||i.push(o)}),i.length&&n(i)}function fr(e){return e===null?null:e?"valid":"invalid"}const If=e=>"id"in e&&"source"in e&&"target"in e,cr=e=>"id"in e&&"internals"in e&&!("source"in e)&&!("target"in e),vn=(e,t=[0,0])=>{const{width:n,height:i}=kt(e),o=e.origin??t,r=n*o[0],s=i*o[1];return{x:e.position.x-r,y:e.position.y-s}},Sn=(e,t={})=>{if(e.size===0)return{x:0,y:0,width:0,height:0};let n={x:1/0,y:1/0,x2:-1/0,y2:-1/0};return e.forEach(i=>{if(t.filter===void 0||t.filter(i)){const o=Bi(i);n=Yi(n,o)}}),Wi(n)},dr=(e,t,[n,i,o]=[0,0,1],r=!1,s=!1)=>{const l={...li(t,[n,i,o]),width:t.width/o,height:t.height/o},a=[];for(const u of e.values()){const{measured:f,selectable:d=!0,hidden:c=!1}=u;if(s&&!d||c)continue;const h=f.width??u.width??u.initialWidth??null,m=f.height??u.height??u.initialHeight??null,y=Ki(l,ri(u)),_=(h??0)*(m??0),g=r&&y>0;(!u.internals.handleBounds||g||y>=_||u.dragging)&&a.push(u)}return a},Ri=(e,t)=>{const n=new Set;return e.forEach(i=>{n.add(i.id)}),t.filter(i=>n.has(i.source)||n.has(i.target))};function Vf(e,t){const n=new Map,i=t!=null&&t.nodes?new Set(t.nodes.map(o=>o.id)):null;return e.forEach(o=>{o.measured.width&&o.measured.height&&((t==null?void 0:t.includeHiddenNodes)||!o.hidden)&&(!i||i.has(o.id))&&n.set(o.id,o)}),n}async function Xf({nodes:e,width:t,height:n,panZoom:i,minZoom:o,maxZoom:r},s){if(e.size===0)return Promise.resolve(!0);const l=Vf(e,s),a=Sn(l),u=br(a,t,n,(s==null?void 0:s.minZoom)??o,(s==null?void 0:s.maxZoom)??r,(s==null?void 0:s.padding)??.1);return await i.setViewport(u,{duration:s==null?void 0:s.duration}),Promise.resolve(!0)}function Rf({nodeId:e,nextPosition:t,nodeLookup:n,nodeOrigin:i=[0,0],nodeExtent:o,onError:r}){const s=n.get(e),l=s.parentId?n.get(s.parentId):void 0,{x:a,y:u}=l?l.internals.positionAbsolute:{x:0,y:0},f=s.origin??i;let d=o;if(s.extent==="parent"&&!s.expandParent)if(!l)r==null||r("005",Tt.error005());else{const h=l.measured.width,m=l.measured.height;h&&m&&(d=[[a,u],[a+h,u+m]])}else l&&xt(s.extent)&&(d=[[s.extent[0][0]+a,s.extent[0][1]+u],[s.extent[1][0]+a,s.extent[1][1]+u]]);const c=xt(d)?Dt(t,d,s.measured):t;return(s.measured.width===void 0||s.measured.height===void 0)&&(r==null||r("015",Tt.error015())),{position:{x:c.x-a+(s.measured.width??0)*f[0],y:c.y-u+(s.measured.height??0)*f[1]},positionAbsolute:c}}async function Yf({nodesToRemove:e=[],edgesToRemove:t=[],nodes:n,edges:i,onBeforeDelete:o}){const r=new Set(e.map(c=>c.id)),s=[];for(const c of n){if(c.deletable===!1)continue;const h=r.has(c.id),m=!h&&c.parentId&&s.find(y=>y.id===c.parentId);(h||m)&&s.push(c)}const l=new Set(t.map(c=>c.id)),a=i.filter(c=>c.deletable!==!1),f=Ri(s,a);for(const c of a)l.has(c.id)&&!f.find(m=>m.id===c.id)&&f.push(c);if(!o)return{edges:f,nodes:s};const d=await o({nodes:s,edges:f});return typeof d=="boolean"?d?{edges:f,nodes:s}:{edges:[],nodes:[]}:d}const Qt=(e,t=0,n=1)=>Math.min(Math.max(e,t),n),Dt=(e={x:0,y:0},t,n)=>({x:Qt(e.x,t[0][0],t[1][0]-((n==null?void 0:n.width)??0)),y:Qt(e.y,t[0][1],t[1][1]-((n==null?void 0:n.height)??0))});function hr(e,t,n){const{width:i,height:o}=kt(n),{x:r,y:s}=n.internals.positionAbsolute;return Dt(e,[[r,s],[r+i,s+o]],t)}const gr=(e,t,n)=>e<t?Qt(Math.abs(e-t),1,t)/t:e>n?-Qt(Math.abs(e-n),1,t)/t:0,mr=(e,t,n=15,i=40)=>{const o=gr(e.x,i,t.width-i)*n,r=gr(e.y,i,t.height-i)*n;return[o,r]},Yi=(e,t)=>({x:Math.min(e.x,t.x),y:Math.min(e.y,t.y),x2:Math.max(e.x2,t.x2),y2:Math.max(e.y2,t.y2)}),Li=({x:e,y:t,width:n,height:i})=>({x:e,y:t,x2:e+n,y2:t+i}),Wi=({x:e,y:t,x2:n,y2:i})=>({x:e,y:t,width:n-e,height:i-t}),ri=(e,t=[0,0])=>{var o,r;const{x:n,y:i}=cr(e)?e.internals.positionAbsolute:vn(e,t);return{x:n,y:i,width:((o=e.measured)==null?void 0:o.width)??e.width??e.initialWidth??0,height:((r=e.measured)==null?void 0:r.height)??e.height??e.initialHeight??0}},Bi=(e,t=[0,0])=>{var o,r;const{x:n,y:i}=cr(e)?e.internals.positionAbsolute:vn(e,t);return{x:n,y:i,x2:n+(((o=e.measured)==null?void 0:o.width)??e.width??e.initialWidth??0),y2:i+(((r=e.measured)==null?void 0:r.height)??e.height??e.initialHeight??0)}},yr=(e,t)=>Wi(Yi(Li(e),Li(t))),Ki=(e,t)=>{const n=Math.max(0,Math.min(e.x+e.width,t.x+t.width)-Math.max(e.x,t.x)),i=Math.max(0,Math.min(e.y+e.height,t.y+t.height)-Math.max(e.y,t.y));return Math.ceil(n*i)},Ht=e=>!isNaN(e)&&isFinite(e),_r=(e,t)=>{process.env.NODE_ENV==="development"&&console.warn(`[React Flow]: ${t} Help: https://reactflow.dev/error#${e}`)},Fi=(e,t=[1,1])=>({x:t[0]*Math.round(e.x/t[0]),y:t[1]*Math.round(e.y/t[1])}),li=({x:e,y:t},[n,i,o],r=!1,s=[1,1])=>{const l={x:(e-n)/o,y:(t-i)/o};return r?Fi(l,s):l},qi=({x:e,y:t},[n,i,o])=>({x:e*o+n,y:t*o+i});function jt(e,t){if(typeof e=="number")return Math.floor((t-t/(1+e))*.5);if(typeof e=="string"&&e.endsWith("px")){const n=parseFloat(e);if(!Number.isNaN(n))return Math.floor(n)}if(typeof e=="string"&&e.endsWith("%")){const n=parseFloat(e);if(!Number.isNaN(n))return Math.floor(t*n*.01)}return console.error(`[React Flow] The padding value "${e}" is invalid. Please provide a number or a string with a valid unit (px or %).`),0}function Lf(e,t,n){if(typeof e=="string"||typeof e=="number"){const i=jt(e,n),o=jt(e,t);return{top:i,right:o,bottom:i,left:o,x:o*2,y:i*2}}if(typeof e=="object"){const i=jt(e.top??e.y??0,n),o=jt(e.bottom??e.y??0,n),r=jt(e.left??e.x??0,t),s=jt(e.right??e.x??0,t);return{top:i,right:s,bottom:o,left:r,x:r+s,y:i+o}}return{top:0,right:0,bottom:0,left:0,x:0,y:0}}function Wf(e,t,n,i,o,r){const{x:s,y:l}=qi(e,[t,n,i]),{x:a,y:u}=qi({x:e.x+e.width,y:e.y+e.height},[t,n,i]),f=o-a,d=r-u;return{left:Math.floor(s),top:Math.floor(l),right:Math.floor(f),bottom:Math.floor(d)}}const br=(e,t,n,i,o,r)=>{const s=Lf(r,t,n),l=(t-s.x)/e.width,a=(n-s.y)/e.height,u=Math.min(l,a),f=Qt(u,i,o),d=e.x+e.width/2,c=e.y+e.height/2,h=t/2-d*f,m=n/2-c*f,y=Wf(e,h,m,f,t,n),_={left:Math.min(y.left-s.left,0),top:Math.min(y.top-s.top,0),right:Math.min(y.right-s.right,0),bottom:Math.min(y.bottom-s.bottom,0)};return{x:h-_.left+_.right,y:m-_.top+_.bottom,zoom:f}},si=()=>{var e;return typeof navigator<"u"&&((e=navigator==null?void 0:navigator.userAgent)==null?void 0:e.indexOf("Mac"))>=0};function xt(e){return e!==void 0&&e!=="parent"}function kt(e){var t,n;return{width:((t=e.measured)==null?void 0:t.width)??e.width??e.initialWidth??0,height:((n=e.measured)==null?void 0:n.height)??e.height??e.initialHeight??0}}function ai(e){var t,n;return(((t=e.measured)==null?void 0:t.width)??e.width??e.initialWidth)!==void 0&&(((n=e.measured)==null?void 0:n.height)??e.height??e.initialHeight)!==void 0}function Bf(){let e,t;return{promise:new Promise((i,o)=>{e=i,t=o}),resolve:e,reject:t}}function Zi(e,{snapGrid:t=[0,0],snapToGrid:n=!1,transform:i,containerBounds:o}){const{x:r,y:s}=mt(e),l=li({x:r-((o==null?void 0:o.left)??0),y:s-((o==null?void 0:o.top)??0)},i),{x:a,y:u}=n?Fi(l,t):l;return{xSnapped:a,ySnapped:u,...l}}const wr=e=>({width:e.offsetWidth,height:e.offsetHeight}),Kf=e=>{var t;return((t=e==null?void 0:e.getRootNode)==null?void 0:t.call(e))||(window==null?void 0:window.document)},Ff=["INPUT","SELECT","TEXTAREA"];function qf(e){var i,o;const t=((o=(i=e.composedPath)==null?void 0:i.call(e))==null?void 0:o[0])||e.target;return(t==null?void 0:t.nodeType)!==1?!1:Ff.includes(t.nodeName)||t.hasAttribute("contenteditable")||!!t.closest(".nokey")}const kr=e=>"clientX"in e,mt=(e,t)=>{var r,s;const n=kr(e),i=n?e.clientX:(r=e.touches)==null?void 0:r[0].clientX,o=n?e.clientY:(s=e.touches)==null?void 0:s[0].clientY;return{x:i-((t==null?void 0:t.left)??0),y:o-((t==null?void 0:t.top)??0)}},pr=(e,t,n,i,o)=>{const r=t.querySelectorAll(`.${e}`);return!r||!r.length?null:Array.from(r).map(s=>{const l=s.getBoundingClientRect();return{id:s.getAttribute("data-handleid"),type:e,nodeId:o,position:s.getAttribute("data-handlepos"),x:(l.left-n.left)/i,y:(l.top-n.top)/i,...wr(s)}})};function Zf({sourceX:e,sourceY:t,targetX:n,targetY:i,sourceControlX:o,sourceControlY:r,targetControlX:s,targetControlY:l}){const a=e*.125+o*.375+s*.375+n*.125,u=t*.125+r*.375+l*.375+i*.125,f=Math.abs(a-e),d=Math.abs(u-t);return[a,u,f,d]}function ui(e,t){return e>=0?.5*e:t*25*Math.sqrt(-e)}function vr({pos:e,x1:t,y1:n,x2:i,y2:o,c:r}){switch(e){case ue.Left:return[t-ui(t-i,r),n];case ue.Right:return[t+ui(i-t,r),n];case ue.Top:return[t,n-ui(n-o,r)];case ue.Bottom:return[t,n+ui(o-n,r)]}}function Sr({sourceX:e,sourceY:t,sourcePosition:n=ue.Bottom,targetX:i,targetY:o,targetPosition:r=ue.Top,curvature:s=.25}){const[l,a]=vr({pos:n,x1:e,y1:t,x2:i,y2:o,c:s}),[u,f]=vr({pos:r,x1:i,y1:o,x2:e,y2:t,c:s}),[d,c,h,m]=Zf({sourceX:e,sourceY:t,targetX:i,targetY:o,sourceControlX:l,sourceControlY:a,targetControlX:u,targetControlY:f});return[`M${e},${t} C${l},${a} ${u},${f} ${i},${o}`,d,c,h,m]}function Cr({sourceX:e,sourceY:t,targetX:n,targetY:i}){const o=Math.abs(n-e)/2,r=n<e?n+o:n-o,s=Math.abs(i-t)/2,l=i<t?i+s:i-s;return[r,l,o,s]}function Gf({sourceNode:e,targetNode:t,selected:n=!1,zIndex:i=0,elevateOnSelect:o=!1}){if(!o)return i;const r=n||t.selected||e.selected,s=Math.max(e.internals.z||0,t.internals.z||0,1e3);return i+(r?s:0)}function Uf({sourceNode:e,targetNode:t,width:n,height:i,transform:o}){const r=Yi(Bi(e),Bi(t));r.x===r.x2&&(r.x2+=1),r.y===r.y2&&(r.y2+=1);const s={x:-o[0]/o[2],y:-o[1]/o[2],width:n/o[2],height:i/o[2]};return Ki(s,Wi(r))>0}const Jf=({source:e,sourceHandle:t,target:n,targetHandle:i})=>`xy-edge__${e}${t||""}-${n}${i||""}`,Qf=(e,t)=>t.some(n=>n.source===e.source&&n.target===e.target&&(n.sourceHandle===e.sourceHandle||!n.sourceHandle&&!e.sourceHandle)&&(n.targetHandle===e.targetHandle||!n.targetHandle&&!e.targetHandle)),jf=(e,t)=>{if(!e.source||!e.target)return _r("006",Tt.error006()),t;let n;return If(e)?n={...e}:n={...e,id:Jf(e)},Qf(n,t)?t:(n.sourceHandle===null&&delete n.sourceHandle,n.targetHandle===null&&delete n.targetHandle,t.concat(n))};function Er({sourceX:e,sourceY:t,targetX:n,targetY:i}){const[o,r,s,l]=Cr({sourceX:e,sourceY:t,targetX:n,targetY:i});return[`M ${e},${t}L ${n},${i}`,o,r,s,l]}const Mr={[ue.Left]:{x:-1,y:0},[ue.Right]:{x:1,y:0},[ue.Top]:{x:0,y:-1},[ue.Bottom]:{x:0,y:1}},xf=({source:e,sourcePosition:t=ue.Bottom,target:n})=>t===ue.Left||t===ue.Right?e.x<n.x?{x:1,y:0}:{x:-1,y:0}:e.y<n.y?{x:0,y:1}:{x:0,y:-1},zr=(e,t)=>Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2));function $f({source:e,sourcePosition:t=ue.Bottom,target:n,targetPosition:i=ue.Top,center:o,offset:r}){const s=Mr[t],l=Mr[i],a={x:e.x+s.x*r,y:e.y+s.y*r},u={x:n.x+l.x*r,y:n.y+l.y*r},f=xf({source:a,sourcePosition:t,target:u}),d=f.x!==0?"x":"y",c=f[d];let h=[],m,y;const _={x:0,y:0},g={x:0,y:0},[S,k,C,V]=Cr({sourceX:e.x,sourceY:e.y,targetX:n.x,targetY:n.y});if(s[d]*l[d]===-1){m=o.x??S,y=o.y??k;const O=[{x:m,y:a.y},{x:m,y:u.y}],M=[{x:a.x,y},{x:u.x,y}];s[d]===c?h=d==="x"?O:M:h=d==="x"?M:O}else{const O=[{x:a.x,y:u.y}],M=[{x:u.x,y:a.y}];if(d==="x"?h=s.x===c?M:O:h=s.y===c?O:M,t===i){const B=Math.abs(e[d]-n[d]);if(B<=r){const b=Math.min(r-1,r-B);s[d]===c?_[d]=(a[d]>e[d]?-1:1)*b:g[d]=(u[d]>n[d]?-1:1)*b}}if(t!==i){const B=d==="x"?"y":"x",b=s[d]===l[B],v=a[B]>u[B],p=a[B]<u[B];(s[d]===1&&(!b&&v||b&&p)||s[d]!==1&&(!b&&p||b&&v))&&(h=d==="x"?O:M)}const P={x:a.x+_.x,y:a.y+_.y},D={x:u.x+g.x,y:u.y+g.y},X=Math.max(Math.abs(P.x-h[0].x),Math.abs(D.x-h[0].x)),L=Math.max(Math.abs(P.y-h[0].y),Math.abs(D.y-h[0].y));X>=L?(m=(P.x+D.x)/2,y=h[0].y):(m=h[0].x,y=(P.y+D.y)/2)}return[[e,{x:a.x+_.x,y:a.y+_.y},...h,{x:u.x+g.x,y:u.y+g.y},n],m,y,C,V]}function ec(e,t,n,i){const o=Math.min(zr(e,t)/2,zr(t,n)/2,i),{x:r,y:s}=t;if(e.x===r&&r===n.x||e.y===s&&s===n.y)return`L${r} ${s}`;if(e.y===s){const u=e.x<n.x?-1:1,f=e.y<n.y?1:-1;return`L ${r+o*u},${s}Q ${r},${s} ${r},${s+o*f}`}const l=e.x<n.x?1:-1,a=e.y<n.y?-1:1;return`L ${r},${s+o*a}Q ${r},${s} ${r+o*l},${s}`}function fi({sourceX:e,sourceY:t,sourcePosition:n=ue.Bottom,targetX:i,targetY:o,targetPosition:r=ue.Top,borderRadius:s=5,centerX:l,centerY:a,offset:u=20}){const[f,d,c,h,m]=$f({source:{x:e,y:t},sourcePosition:n,target:{x:i,y:o},targetPosition:r,center:{x:l,y:a},offset:u});return[f.reduce((_,g,S)=>{let k="";return S>0&&S<f.length-1?k=ec(f[S-1],g,f[S+1],s):k=`${S===0?"M":"L"}${g.x} ${g.y}`,_+=k,_},""),d,c,h,m]}function Pr(e){var t;return e&&!!(e.internals.handleBounds||(t=e.handles)!=null&&t.length)&&!!(e.measured.width||e.width||e.initialWidth)}function tc(e){var d;const{sourceNode:t,targetNode:n}=e;if(!Pr(t)||!Pr(n))return null;const i=t.internals.handleBounds||Nr(t.handles),o=n.internals.handleBounds||Nr(n.handles),r=Or((i==null?void 0:i.source)??[],e.sourceHandle),s=Or(e.connectionMode===At.Strict?(o==null?void 0:o.target)??[]:((o==null?void 0:o.target)??[]).concat((o==null?void 0:o.source)??[]),e.targetHandle);if(!r||!s)return(d=e.onError)==null||d.call(e,"008",Tt.error008(r?"target":"source",{id:e.id,sourceHandle:e.sourceHandle,targetHandle:e.targetHandle})),null;const l=(r==null?void 0:r.position)||ue.Bottom,a=(s==null?void 0:s.position)||ue.Top,u=Cn(t,r,l),f=Cn(n,s,a);return{sourceX:u.x,sourceY:u.y,targetX:f.x,targetY:f.y,sourcePosition:l,targetPosition:a}}function Nr(e){if(!e)return null;const t=[],n=[];for(const i of e)i.width=i.width??1,i.height=i.height??1,i.type==="source"?t.push(i):i.type==="target"&&n.push(i);return{source:t,target:n}}function Cn(e,t,n=ue.Left,i=!1){const o=((t==null?void 0:t.x)??0)+e.internals.positionAbsolute.x,r=((t==null?void 0:t.y)??0)+e.internals.positionAbsolute.y,{width:s,height:l}=t??kt(e);if(i)return{x:o+s/2,y:r+l/2};switch((t==null?void 0:t.position)??n){case ue.Top:return{x:o+s/2,y:r};case ue.Right:return{x:o+s,y:r+l/2};case ue.Bottom:return{x:o+s/2,y:r+l};case ue.Left:return{x:o,y:r+l/2}}}function Or(e,t){return e&&(t?e.find(n=>n.id===t):e[0])||null}function Gi(e,t){return e?typeof e=="string"?e:`${t?`${t}__`:""}${Object.keys(e).sort().map(i=>`${i}=${e[i]}`).join("&")}`:""}function nc(e,{id:t,defaultColor:n,defaultMarkerStart:i,defaultMarkerEnd:o}){const r=new Set;return e.reduce((s,l)=>([l.markerStart||i,l.markerEnd||o].forEach(a=>{if(a&&typeof a=="object"){const u=Gi(a,t);r.has(u)||(s.push({id:u,color:a.color||n,...a}),r.add(u))}}),s),[]).sort((s,l)=>s.id.localeCompare(l.id))}const Ui={nodeOrigin:[0,0],nodeExtent:ni,elevateNodesOnSelect:!0,defaults:{}},ic={...Ui,checkEquality:!0};function Ji(e,t){const n={...e};for(const i in t)t[i]!==void 0&&(n[i]=t[i]);return n}function oc(e,t,n){const i=Ji(Ui,n);for(const o of e.values())if(o.parentId)Qi(o,e,t,i);else{const r=vn(o,i.nodeOrigin),s=xt(o.extent)?o.extent:i.nodeExtent,l=Dt(r,s,kt(o));o.internals.positionAbsolute=l}}function Tr(e,t,n,i){var a,u;const o=Ji(ic,i);let r=e.length>0;const s=new Map(t),l=o!=null&&o.elevateNodesOnSelect?1e3:0;t.clear(),n.clear();for(const f of e){let d=s.get(f.id);if(o.checkEquality&&f===(d==null?void 0:d.internals.userNode))t.set(f.id,d);else{const c=vn(f,o.nodeOrigin),h=xt(f.extent)?f.extent:o.nodeExtent,m=Dt(c,h,kt(f));d={...o.defaults,...f,measured:{width:(a=f.measured)==null?void 0:a.width,height:(u=f.measured)==null?void 0:u.height},internals:{positionAbsolute:m,handleBounds:f.measured?d==null?void 0:d.internals.handleBounds:void 0,z:Ar(f,l),userNode:f}},t.set(f.id,d)}(d.measured===void 0||d.measured.width===void 0||d.measured.height===void 0)&&!d.hidden&&(r=!1),f.parentId&&Qi(d,t,n,i)}return r}function rc(e,t){if(!e.parentId)return;const n=t.get(e.parentId);n?n.set(e.id,e):t.set(e.parentId,new Map([[e.id,e]]))}function Qi(e,t,n,i){const{elevateNodesOnSelect:o,nodeOrigin:r,nodeExtent:s}=Ji(Ui,i),l=e.parentId,a=t.get(l);if(!a){console.warn(`Parent node ${l} not found. Please make sure that parent nodes are in front of their child nodes in the nodes array.`);return}rc(e,n);const u=o?1e3:0,{x:f,y:d,z:c}=lc(e,a,r,s,u),{positionAbsolute:h}=e.internals,m=f!==h.x||d!==h.y;(m||c!==e.internals.z)&&t.set(e.id,{...e,internals:{...e.internals,positionAbsolute:m?{x:f,y:d}:h,z:c}})}function Ar(e,t){return(Ht(e.zIndex)?e.zIndex:0)+(e.selected?t:0)}function lc(e,t,n,i,o){const{x:r,y:s}=t.internals.positionAbsolute,l=kt(e),a=vn(e,n),u=xt(e.extent)?Dt(a,e.extent,l):a;let f=Dt({x:r+u.x,y:s+u.y},i,l);e.extent==="parent"&&(f=hr(f,l,t));const d=Ar(e,o),c=t.internals.z??0;return{x:f.x,y:f.y,z:c>d?c:d}}function sc(e,t,n,i=[0,0]){var s;const o=[],r=new Map;for(const l of e){const a=t.get(l.parentId);if(!a)continue;const u=((s=r.get(l.parentId))==null?void 0:s.expandedRect)??ri(a),f=yr(u,l.rect);r.set(l.parentId,{expandedRect:f,parent:a})}return r.size>0&&r.forEach(({expandedRect:l,parent:a},u)=>{var k;const f=a.internals.positionAbsolute,d=kt(a),c=a.origin??i,h=l.x<f.x?Math.round(Math.abs(f.x-l.x)):0,m=l.y<f.y?Math.round(Math.abs(f.y-l.y)):0,y=Math.max(d.width,Math.round(l.width)),_=Math.max(d.height,Math.round(l.height)),g=(y-d.width)*c[0],S=(_-d.height)*c[1];(h>0||m>0||g||S)&&(o.push({id:u,type:"position",position:{x:a.position.x-h+g,y:a.position.y-m+S}}),(k=n.get(u))==null||k.forEach(C=>{e.some(V=>V.id===C.id)||o.push({id:C.id,type:"position",position:{x:C.position.x+h,y:C.position.y+m}})})),(d.width<l.width||d.height<l.height||h||m)&&o.push({id:u,type:"dimensions",setAttributes:!0,dimensions:{width:y+(h?c[0]*h-g:0),height:_+(m?c[1]*m-S:0)}})}),o}function ac(e,t,n,i,o,r){const s=i==null?void 0:i.querySelector(".xyflow__viewport");let l=!1;if(!s)return{changes:[],updatedInternals:l};const a=[],u=window.getComputedStyle(s),{m22:f}=new window.DOMMatrixReadOnly(u.transform),d=[];for(const c of e.values()){const h=t.get(c.id);if(!h)continue;if(h.hidden){t.set(h.id,{...h,internals:{...h.internals,handleBounds:void 0}}),l=!0;continue}const m=wr(c.nodeElement),y=h.measured.width!==m.width||h.measured.height!==m.height;if(!!(m.width&&m.height&&(y||!h.internals.handleBounds||c.force))){const g=c.nodeElement.getBoundingClientRect(),S=xt(h.extent)?h.extent:r;let{positionAbsolute:k}=h.internals;h.parentId&&h.extent==="parent"?k=hr(k,m,t.get(h.parentId)):S&&(k=Dt(k,S,m));const C={...h,measured:m,internals:{...h.internals,positionAbsolute:k,handleBounds:{source:pr("source",c.nodeElement,g,f,h.id),target:pr("target",c.nodeElement,g,f,h.id)}}};t.set(h.id,C),h.parentId&&Qi(C,t,n,{nodeOrigin:o}),l=!0,y&&(a.push({id:h.id,type:"dimensions",dimensions:m}),h.expandParent&&h.parentId&&d.push({id:h.id,parentId:h.parentId,rect:ri(C,o)}))}}if(d.length>0){const c=sc(d,t,n,o);a.push(...c)}return{changes:a,updatedInternals:l}}async function uc({delta:e,panZoom:t,transform:n,translateExtent:i,width:o,height:r}){if(!t||!e.x&&!e.y)return Promise.resolve(!1);const s=await t.setViewportConstrained({x:n[0]+e.x,y:n[1]+e.y,zoom:n[2]},[[0,0],[o,r]],i),l=!!s&&(s.x!==n[0]||s.y!==n[1]||s.k!==n[2]);return Promise.resolve(l)}function Dr(e,t,n,i,o,r){let s=o;const l=i.get(s)||new Map;i.set(s,l.set(n,t)),s=`${o}-${e}`;const a=i.get(s)||new Map;if(i.set(s,a.set(n,t)),r){s=`${o}-${e}-${r}`;const u=i.get(s)||new Map;i.set(s,u.set(n,t))}}function Hr(e,t,n){e.clear(),t.clear();for(const i of n){const{source:o,target:r,sourceHandle:s=null,targetHandle:l=null}=i,a={edgeId:i.id,source:o,target:r,sourceHandle:s,targetHandle:l},u=`${o}-${s}--${r}-${l}`,f=`${r}-${l}--${o}-${s}`;Dr("source",a,f,e,o,s),Dr("target",a,u,e,r,l),t.set(i.id,i)}}function Ir(e,t){if(!e.parentId)return!1;const n=t.get(e.parentId);return n?n.selected?!0:Ir(n,t):!1}function Vr(e,t,n){var o;let i=e;do{if((o=i==null?void 0:i.matches)!=null&&o.call(i,t))return!0;if(i===n)return!1;i=i==null?void 0:i.parentElement}while(i);return!1}function fc(e,t,n,i){const o=new Map;for(const[r,s]of e)if((s.selected||s.id===i)&&(!s.parentId||!Ir(s,e))&&(s.draggable||t&&typeof s.draggable>"u")){const l=e.get(r);l&&o.set(r,{id:r,position:l.position||{x:0,y:0},distance:{x:n.x-l.internals.positionAbsolute.x,y:n.y-l.internals.positionAbsolute.y},extent:l.extent,parentId:l.parentId,origin:l.origin,expandParent:l.expandParent,internals:{positionAbsolute:l.internals.positionAbsolute||{x:0,y:0}},measured:{width:l.measured.width??0,height:l.measured.height??0}})}return o}function ji({nodeId:e,dragItems:t,nodeLookup:n,dragging:i=!0}){var s,l,a;const o=[];for(const[u,f]of t){const d=(s=n.get(u))==null?void 0:s.internals.userNode;d&&o.push({...d,position:f.position,dragging:i})}if(!e)return[o[0],o];const r=(l=n.get(e))==null?void 0:l.internals.userNode;return[r?{...r,position:((a=t.get(e))==null?void 0:a.position)||r.position,dragging:i}:o[0],o]}function cc({onNodeMouseDown:e,getStoreItems:t,onDragStart:n,onDrag:i,onDragStop:o}){let r={x:null,y:null},s=0,l=new Map,a=!1,u={x:0,y:0},f=null,d=!1,c=null,h=!1;function m({noDragClassName:_,handleSelector:g,domNode:S,isSelectable:k,nodeId:C,nodeClickDistance:V=0}){c=xe(S);function K({x:D,y:X},L){const{nodeLookup:B,nodeExtent:b,snapGrid:v,snapToGrid:p,nodeOrigin:N,onNodeDrag:T,onSelectionDrag:A,onError:Y,updateNodePositions:U}=t();r={x:D,y:X};let Q=!1,j={x:0,y:0,x2:0,y2:0};if(l.size>1&&b){const I=Sn(l);j=Li(I)}for(const[I,oe]of l){if(!B.has(I))continue;let de={x:D-oe.distance.x,y:X-oe.distance.y};p&&(de=Fi(de,v));let J=[[b[0][0],b[0][1]],[b[1][0],b[1][1]]];if(l.size>1&&b&&!oe.extent){const{positionAbsolute:ge}=oe.internals,_e=ge.x-j.x+b[0][0],be=ge.x+oe.measured.width-j.x2+b[1][0],Me=ge.y-j.y+b[0][1],W=ge.y+oe.measured.height-j.y2+b[1][1];J=[[_e,Me],[be,W]]}const{position:ke,positionAbsolute:G}=Rf({nodeId:I,nextPosition:de,nodeLookup:B,nodeExtent:J,nodeOrigin:N,onError:Y});Q=Q||oe.position.x!==ke.x||oe.position.y!==ke.y,oe.position=ke,oe.internals.positionAbsolute=G}if(Q&&(U(l,!0),L&&(i||T||!C&&A))){const[I,oe]=ji({nodeId:C,dragItems:l,nodeLookup:B});i==null||i(L,l,I,oe),T==null||T(L,I,oe),C||A==null||A(L,oe)}}async function O(){if(!f)return;const{transform:D,panBy:X,autoPanSpeed:L,autoPanOnNodeDrag:B}=t();if(!B){a=!1,cancelAnimationFrame(s);return}const[b,v]=mr(u,f,L);(b!==0||v!==0)&&(r.x=(r.x??0)-b/D[2],r.y=(r.y??0)-v/D[2],await X({x:b,y:v})&&K(r,null)),s=requestAnimationFrame(O)}function M(D){var Q;const{nodeLookup:X,multiSelectionActive:L,nodesDraggable:B,transform:b,snapGrid:v,snapToGrid:p,selectNodesOnDrag:N,onNodeDragStart:T,onSelectionDragStart:A,unselectNodesAndEdges:Y}=t();d=!0,(!N||!k)&&!L&&C&&((Q=X.get(C))!=null&&Q.selected||Y()),k&&N&&C&&(e==null||e(C));const U=Zi(D.sourceEvent,{transform:b,snapGrid:v,snapToGrid:p,containerBounds:f});if(r=U,l=fc(X,B,U,C),l.size>0&&(n||T||!C&&A)){const[j,I]=ji({nodeId:C,dragItems:l,nodeLookup:X});n==null||n(D.sourceEvent,l,j,I),T==null||T(D.sourceEvent,j,I),C||A==null||A(D.sourceEvent,I)}}const P=Ka().clickDistance(V).on("start",D=>{const{domNode:X,nodeDragThreshold:L,transform:B,snapGrid:b,snapToGrid:v}=t();f=(X==null?void 0:X.getBoundingClientRect())||null,h=!1,L===0&&M(D),r=Zi(D.sourceEvent,{transform:B,snapGrid:b,snapToGrid:v,containerBounds:f}),u=mt(D.sourceEvent,f)}).on("drag",D=>{const{autoPanOnNodeDrag:X,transform:L,snapGrid:B,snapToGrid:b,nodeDragThreshold:v,nodeLookup:p}=t(),N=Zi(D.sourceEvent,{transform:L,snapGrid:B,snapToGrid:b,containerBounds:f});if((D.sourceEvent.type==="touchmove"&&D.sourceEvent.touches.length>1||C&&!p.has(C))&&(h=!0),!h){if(!a&&X&&d&&(a=!0,O()),!d){const T=N.xSnapped-(r.x??0),A=N.ySnapped-(r.y??0);Math.sqrt(T*T+A*A)>v&&M(D)}(r.x!==N.xSnapped||r.y!==N.ySnapped)&&l&&d&&(u=mt(D.sourceEvent,f),K(N,D.sourceEvent))}}).on("end",D=>{if(!(!d||h)&&(a=!1,d=!1,cancelAnimationFrame(s),l.size>0)){const{nodeLookup:X,updateNodePositions:L,onNodeDragStop:B,onSelectionDragStop:b}=t();if(L(l,!1),o||B||!C&&b){const[v,p]=ji({nodeId:C,dragItems:l,nodeLookup:X,dragging:!1});o==null||o(D.sourceEvent,l,v,p),B==null||B(D.sourceEvent,v,p),C||b==null||b(D.sourceEvent,p)}}}).filter(D=>{const X=D.target;return!D.button&&(!_||!Vr(X,`.${_}`,S))&&(!g||Vr(X,g,S))});c.call(P)}function y(){c==null||c.on(".drag",null)}return{update:m,destroy:y}}function dc(e,t,n){const i=[],o={x:e.x-n,y:e.y-n,width:n*2,height:n*2};for(const r of t.values())Ki(o,ri(r))>0&&i.push(r);return i}const hc=250;function gc(e,t,n,i){var l,a;let o=[],r=1/0;const s=dc(e,n,t+hc);for(const u of s){const f=[...((l=u.internals.handleBounds)==null?void 0:l.source)??[],...((a=u.internals.handleBounds)==null?void 0:a.target)??[]];for(const d of f){if(i.nodeId===d.nodeId&&i.type===d.type&&i.id===d.id)continue;const{x:c,y:h}=Cn(u,d,d.position,!0),m=Math.sqrt(Math.pow(c-e.x,2)+Math.pow(h-e.y,2));m>t||(m<r?(o=[{...d,x:c,y:h}],r=m):m===r&&o.push({...d,x:c,y:h}))}}if(!o.length)return null;if(o.length>1){const u=i.type==="source"?"target":"source";return o.find(f=>f.type===u)??o[0]}return o[0]}function Xr(e,t,n,i,o,r=!1){var u,f,d;const s=i.get(e);if(!s)return null;const l=o==="strict"?(u=s.internals.handleBounds)==null?void 0:u[t]:[...((f=s.internals.handleBounds)==null?void 0:f.source)??[],...((d=s.internals.handleBounds)==null?void 0:d.target)??[]],a=(n?l==null?void 0:l.find(c=>c.id===n):l==null?void 0:l[0])??null;return a&&r?{...a,...Cn(s,a,a.position,!0)}:a}function Rr(e,t){return e||(t!=null&&t.classList.contains("target")?"target":t!=null&&t.classList.contains("source")?"source":null)}function mc(e,t){let n=null;return t?n=!0:e&&!t&&(n=!1),n}const Yr=()=>!0;function yc(e,{connectionMode:t,connectionRadius:n,handleId:i,nodeId:o,edgeUpdaterType:r,isTarget:s,domNode:l,nodeLookup:a,lib:u,autoPanOnConnect:f,flowId:d,panBy:c,cancelConnection:h,onConnectStart:m,onConnect:y,onConnectEnd:_,isValidConnection:g=Yr,onReconnectEnd:S,updateConnection:k,getTransform:C,getFromHandle:V,autoPanSpeed:K}){const O=Kf(e.target);let M=0,P;const{x:D,y:X}=mt(e),L=O==null?void 0:O.elementFromPoint(D,X),B=Rr(r,L),b=l==null?void 0:l.getBoundingClientRect();if(!b||!B)return;const v=Xr(o,B,i,a,t);if(!v)return;let p=mt(e,b),N=!1,T=null,A=!1,Y=null;function U(){if(!f||!b)return;const[G,ge]=mr(p,b,K);c({x:G,y:ge}),M=requestAnimationFrame(U)}const Q={...v,nodeId:o,type:B,position:v.position},j=a.get(o),oe={inProgress:!0,isValid:null,from:Cn(j,Q,ue.Left,!0),fromHandle:Q,fromPosition:Q.position,fromNode:j,to:p,toHandle:null,toPosition:ar[Q.position],toNode:null};k(oe);let de=oe;m==null||m(e,{nodeId:o,handleId:i,handleType:B});function J(G){if(!V()||!Q){ke(G);return}const ge=C();p=mt(G,b),P=gc(li(p,ge,!1,[1,1]),n,a,Q),N||(U(),N=!0);const _e=Lr(G,{handle:P,connectionMode:t,fromNodeId:o,fromHandleId:i,fromType:s?"target":"source",isValidConnection:g,doc:O,lib:u,flowId:d,nodeLookup:a});Y=_e.handleDomNode,T=_e.connection,A=mc(!!P,_e.isValid);const be={...de,isValid:A,to:P&&A?qi({x:P.x,y:P.y},ge):p,toHandle:_e.toHandle,toPosition:A&&_e.toHandle?_e.toHandle.position:ar[Q.position],toNode:_e.toHandle?a.get(_e.toHandle.nodeId):null};A&&P&&de.toHandle&&be.toHandle&&de.toHandle.type===be.toHandle.type&&de.toHandle.nodeId===be.toHandle.nodeId&&de.toHandle.id===be.toHandle.id&&de.to.x===be.to.x&&de.to.y===be.to.y||(k(be),de=be)}function ke(G){(P||Y)&&T&&A&&(y==null||y(T));const{inProgress:ge,..._e}=de,be={..._e,toPosition:de.toHandle?de.toPosition:null};_==null||_(G,be),r&&(S==null||S(G,be)),h(),cancelAnimationFrame(M),N=!1,A=!1,T=null,Y=null,O.removeEventListener("mousemove",J),O.removeEventListener("mouseup",ke),O.removeEventListener("touchmove",J),O.removeEventListener("touchend",ke)}O.addEventListener("mousemove",J),O.addEventListener("mouseup",ke),O.addEventListener("touchmove",J),O.addEventListener("touchend",ke)}function Lr(e,{handle:t,connectionMode:n,fromNodeId:i,fromHandleId:o,fromType:r,doc:s,lib:l,flowId:a,isValidConnection:u=Yr,nodeLookup:f}){const d=r==="target",c=t?s.querySelector(`.${l}-flow__handle[data-id="${a}-${t==null?void 0:t.nodeId}-${t==null?void 0:t.id}-${t==null?void 0:t.type}"]`):null,{x:h,y:m}=mt(e),y=s.elementFromPoint(h,m),_=y!=null&&y.classList.contains(`${l}-flow__handle`)?y:c,g={handleDomNode:_,isValid:!1,connection:null,toHandle:null};if(_){const S=Rr(void 0,_),k=_.getAttribute("data-nodeid"),C=_.getAttribute("data-handleid"),V=_.classList.contains("connectable"),K=_.classList.contains("connectableend");if(!k||!S)return g;const O={source:d?k:i,sourceHandle:d?C:o,target:d?i:k,targetHandle:d?o:C};g.connection=O;const P=V&&K&&(n===At.Strict?d&&S==="source"||!d&&S==="target":k!==i||C!==o);g.isValid=P&&u(O),g.toHandle=Xr(k,S,C,f,n,!1)}return g}const _c={onPointerDown:yc,isValid:Lr};function bc({domNode:e,panZoom:t,getTransform:n,getViewScale:i}){const o=xe(e);function r({translateExtent:l,width:a,height:u,zoomStep:f=10,pannable:d=!0,zoomable:c=!0,inversePan:h=!1}){const m=k=>{const C=n();if(k.sourceEvent.type!=="wheel"||!t)return;const V=-k.sourceEvent.deltaY*(k.sourceEvent.deltaMode===1?.05:k.sourceEvent.deltaMode?1:.002)*f,K=C[2]*Math.pow(2,V);t.scaleTo(K)};let y=[0,0];const _=k=>{(k.sourceEvent.type==="mousedown"||k.sourceEvent.type==="touchstart")&&(y=[k.sourceEvent.clientX??k.sourceEvent.touches[0].clientX,k.sourceEvent.clientY??k.sourceEvent.touches[0].clientY])},g=k=>{const C=n();if(k.sourceEvent.type!=="mousemove"&&k.sourceEvent.type!=="touchmove"||!t)return;const V=[k.sourceEvent.clientX??k.sourceEvent.touches[0].clientX,k.sourceEvent.clientY??k.sourceEvent.touches[0].clientY],K=[V[0]-y[0],V[1]-y[1]];y=V;const O=i()*Math.max(C[2],Math.log(C[2]))*(h?-1:1),M={x:C[0]-K[0]*O,y:C[1]-K[1]*O},P=[[0,0],[a,u]];t.setViewportConstrained({x:M.x,y:M.y,zoom:C[2]},P,l)},S=sr().on("start",_).on("zoom",d?g:null).on("zoom.wheel",c?m:null);o.call(S,{})}function s(){o.on("zoom",null)}return{update:r,destroy:s,pointer:nt}}const wc=(e,t)=>e.x!==t.x||e.y!==t.y||e.zoom!==t.k,ci=e=>({x:e.x,y:e.y,zoom:e.k}),xi=({x:e,y:t,zoom:n})=>ti.translate(e,t).scale(n),$t=(e,t)=>e.target.closest(`.${t}`),Wr=(e,t)=>t===2&&Array.isArray(e)&&e.includes(2),$i=(e,t=0,n=()=>{})=>{const i=typeof t=="number"&&t>0;return i||n(),i?e.transition().duration(t).on("end",n):e},Br=e=>{const t=e.ctrlKey&&si()?10:1;return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*t};function kc({zoomPanValues:e,noWheelClassName:t,d3Selection:n,d3Zoom:i,panOnScrollMode:o,panOnScrollSpeed:r,zoomOnPinch:s,onPanZoomStart:l,onPanZoom:a,onPanZoomEnd:u}){return f=>{if($t(f,t))return!1;f.preventDefault(),f.stopImmediatePropagation();const d=n.property("__zoom").k||1;if(f.ctrlKey&&s){const _=nt(f),g=Br(f),S=d*Math.pow(2,g);i.scaleTo(n,S,_,f);return}const c=f.deltaMode===1?20:1;let h=o===at.Vertical?0:f.deltaX*c,m=o===at.Horizontal?0:f.deltaY*c;!si()&&f.shiftKey&&o!==at.Vertical&&(h=f.deltaY*c,m=0),i.translateBy(n,-(h/d)*r,-(m/d)*r,{internal:!0});const y=ci(n.property("__zoom"));clearTimeout(e.panScrollTimeout),e.isPanScrolling||(e.isPanScrolling=!0,l==null||l(f,y)),e.isPanScrolling&&(a==null||a(f,y),e.panScrollTimeout=setTimeout(()=>{u==null||u(f,y),e.isPanScrolling=!1},150))}}function pc({noWheelClassName:e,preventScrolling:t,d3ZoomHandler:n}){return function(i,o){const r=i.type==="wheel",s=!t&&r&&!i.ctrlKey,l=$t(i,e);if(i.ctrlKey&&r&&l&&i.preventDefault(),s||l)return null;i.preventDefault(),n.call(this,i,o)}}function vc({zoomPanValues:e,onDraggingChange:t,onPanZoomStart:n}){return i=>{var r,s,l;if((r=i.sourceEvent)!=null&&r.internal)return;const o=ci(i.transform);e.mouseButton=((s=i.sourceEvent)==null?void 0:s.button)||0,e.isZoomingOrPanning=!0,e.prevViewport=o,((l=i.sourceEvent)==null?void 0:l.type)==="mousedown"&&t(!0),n&&(n==null||n(i.sourceEvent,o))}}function Sc({zoomPanValues:e,panOnDrag:t,onPaneContextMenu:n,onTransformChange:i,onPanZoom:o}){return r=>{var s,l;e.usedRightMouseButton=!!(n&&Wr(t,e.mouseButton??0)),(s=r.sourceEvent)!=null&&s.sync||i([r.transform.x,r.transform.y,r.transform.k]),o&&!((l=r.sourceEvent)!=null&&l.internal)&&(o==null||o(r.sourceEvent,ci(r.transform)))}}function Cc({zoomPanValues:e,panOnDrag:t,panOnScroll:n,onDraggingChange:i,onPanZoomEnd:o,onPaneContextMenu:r}){return s=>{var l;if(!((l=s.sourceEvent)!=null&&l.internal)&&(e.isZoomingOrPanning=!1,r&&Wr(t,e.mouseButton??0)&&!e.usedRightMouseButton&&s.sourceEvent&&r(s.sourceEvent),e.usedRightMouseButton=!1,i(!1),o&&wc(e.prevViewport,s.transform))){const a=ci(s.transform);e.prevViewport=a,clearTimeout(e.timerId),e.timerId=setTimeout(()=>{o==null||o(s.sourceEvent,a)},n?150:0)}}}function Ec({zoomActivationKeyPressed:e,zoomOnScroll:t,zoomOnPinch:n,panOnDrag:i,panOnScroll:o,zoomOnDoubleClick:r,userSelectionActive:s,noWheelClassName:l,noPanClassName:a,lib:u}){return f=>{var m;const d=e||t,c=n&&f.ctrlKey;if(f.button===1&&f.type==="mousedown"&&($t(f,`${u}-flow__node`)||$t(f,`${u}-flow__edge`)))return!0;if(!i&&!d&&!o&&!r&&!n||s||$t(f,l)&&f.type==="wheel"||$t(f,a)&&(f.type!=="wheel"||o&&f.type==="wheel"&&!e)||!n&&f.ctrlKey&&f.type==="wheel")return!1;if(!n&&f.type==="touchstart"&&((m=f.touches)==null?void 0:m.length)>1)return f.preventDefault(),!1;if(!d&&!o&&!c&&f.type==="wheel"||!i&&(f.type==="mousedown"||f.type==="touchstart")||Array.isArray(i)&&!i.includes(f.button)&&f.type==="mousedown")return!1;const h=Array.isArray(i)&&i.includes(f.button)||!f.button||f.button<=1;return(!f.ctrlKey||f.type==="wheel")&&h}}function Mc({domNode:e,minZoom:t,maxZoom:n,paneClickDistance:i,translateExtent:o,viewport:r,onPanZoom:s,onPanZoomStart:l,onPanZoomEnd:a,onDraggingChange:u}){const f={isZoomingOrPanning:!1,usedRightMouseButton:!1,prevViewport:{x:0,y:0,zoom:0},mouseButton:0,timerId:void 0,panScrollTimeout:void 0,isPanScrolling:!1},d=e.getBoundingClientRect(),c=sr().clickDistance(!Ht(i)||i<0?0:i).scaleExtent([t,n]).translateExtent(o),h=xe(e).call(c);k({x:r.x,y:r.y,zoom:Qt(r.zoom,t,n)},[[0,0],[d.width,d.height]],o);const m=h.on("wheel.zoom"),y=h.on("dblclick.zoom");c.wheelDelta(Br);function _(L,B){return h?new Promise(b=>{c==null||c.transform($i(h,B==null?void 0:B.duration,()=>b(!0)),L)}):Promise.resolve(!1)}function g({noWheelClassName:L,noPanClassName:B,onPaneContextMenu:b,userSelectionActive:v,panOnScroll:p,panOnDrag:N,panOnScrollMode:T,panOnScrollSpeed:A,preventScrolling:Y,zoomOnPinch:U,zoomOnScroll:Q,zoomOnDoubleClick:j,zoomActivationKeyPressed:I,lib:oe,onTransformChange:de}){v&&!f.isZoomingOrPanning&&S();const ke=p&&!I&&!v?kc({zoomPanValues:f,noWheelClassName:L,d3Selection:h,d3Zoom:c,panOnScrollMode:T,panOnScrollSpeed:A,zoomOnPinch:U,onPanZoomStart:l,onPanZoom:s,onPanZoomEnd:a}):pc({noWheelClassName:L,preventScrolling:Y,d3ZoomHandler:m});if(h.on("wheel.zoom",ke,{passive:!1}),!v){const ge=vc({zoomPanValues:f,onDraggingChange:u,onPanZoomStart:l});c.on("start",ge);const _e=Sc({zoomPanValues:f,panOnDrag:N,onPaneContextMenu:!!b,onPanZoom:s,onTransformChange:de});c.on("zoom",_e);const be=Cc({zoomPanValues:f,panOnDrag:N,panOnScroll:p,onPaneContextMenu:b,onPanZoomEnd:a,onDraggingChange:u});c.on("end",be)}const G=Ec({zoomActivationKeyPressed:I,panOnDrag:N,zoomOnScroll:Q,panOnScroll:p,zoomOnDoubleClick:j,zoomOnPinch:U,userSelectionActive:v,noPanClassName:B,noWheelClassName:L,lib:oe});c.filter(G),j?h.on("dblclick.zoom",y):h.on("dblclick.zoom",null)}function S(){c.on("zoom",null)}async function k(L,B,b){const v=xi(L),p=c==null?void 0:c.constrain()(v,B,b);return p&&await _(p),new Promise(N=>N(p))}async function C(L,B){const b=xi(L);return await _(b,B),new Promise(v=>v(b))}function V(L){if(h){const B=xi(L),b=h.property("__zoom");(b.k!==L.zoom||b.x!==L.x||b.y!==L.y)&&(c==null||c.transform(h,B,null,{sync:!0}))}}function K(){const L=h?rr(h.node()):{x:0,y:0,k:1};return{x:L.x,y:L.y,zoom:L.k}}function O(L,B){return h?new Promise(b=>{c==null||c.scaleTo($i(h,B==null?void 0:B.duration,()=>b(!0)),L)}):Promise.resolve(!1)}function M(L,B){return h?new Promise(b=>{c==null||c.scaleBy($i(h,B==null?void 0:B.duration,()=>b(!0)),L)}):Promise.resolve(!1)}function P(L){c==null||c.scaleExtent(L)}function D(L){c==null||c.translateExtent(L)}function X(L){const B=!Ht(L)||L<0?0:L;c==null||c.clickDistance(B)}return{update:g,destroy:S,setViewport:C,setViewportConstrained:k,getViewport:K,scaleTo:O,scaleBy:M,setScaleExtent:P,setTranslateExtent:D,syncViewport:V,setClickDistance:X}}var Kr;(function(e){e.Line="line",e.Handle="handle"})(Kr||(Kr={}));function zc(e){let t,n,i,o,r,s;const l=e[45].default,a=Fe(l,e,e[44],null);return{c(){t=we("div"),a&&a.c(),w(t,"data-handleid",e[6]),w(t,"data-nodeid",e[14]),w(t,"data-handlepos",e[2]),w(t,"data-id",n=e[13]+"-"+e[14]+"-"+(e[0]||null)+"-"+e[1]),w(t,"class",i=Ce(["svelte-flow__handle",`svelte-flow__handle-${e[2]}`,"nodrag","nopan",e[2],e[4]])),w(t,"style",e[3]),w(t,"role","button"),w(t,"tabindex","-1"),re(t,"valid",e[7]),re(t,"connectingto",e[5]),re(t,"connectingfrom",e[9]),re(t,"source",!e[11]),re(t,"target",e[11]),re(t,"connectablestart",e[12]),re(t,"connectableend",e[12]),re(t,"connectable",e[12]),re(t,"connectionindicator",e[12]&&(!e[10]||e[8]))},m(u,f){Z(u,t,f),a&&a.m(t,null),o=!0,r||(s=[Se(t,"mousedown",e[32]),Se(t,"touchstart",e[32])],r=!0)},p(u,f){a&&a.p&&(!o||f[1]&8192)&&Ze(a,l,u,u[44],o?qe(l,u[44],f,null):Ge(u[44]),null),(!o||f[0]&64)&&w(t,"data-handleid",u[6]),(!o||f[0]&4)&&w(t,"data-handlepos",u[2]),(!o||f[0]&8195&&n!==(n=u[13]+"-"+u[14]+"-"+(u[0]||null)+"-"+u[1]))&&w(t,"data-id",n),(!o||f[0]&20&&i!==(i=Ce(["svelte-flow__handle",`svelte-flow__handle-${u[2]}`,"nodrag","nopan",u[2],u[4]])))&&w(t,"class",i),(!o||f[0]&8)&&w(t,"style",u[3]),(!o||f[0]&148)&&re(t,"valid",u[7]),(!o||f[0]&52)&&re(t,"connectingto",u[5]),(!o||f[0]&532)&&re(t,"connectingfrom",u[9]),(!o||f[0]&2068)&&re(t,"source",!u[11]),(!o||f[0]&2068)&&re(t,"target",u[11]),(!o||f[0]&4116)&&re(t,"connectablestart",u[12]),(!o||f[0]&4116)&&re(t,"connectableend",u[12]),(!o||f[0]&4116)&&re(t,"connectable",u[12]),(!o||f[0]&5396)&&re(t,"connectionindicator",u[12]&&(!u[10]||u[8]))},i(u){o||(H(a,u),o=!0)},o(u){R(a,u),o=!1},d(u){u&&F(t),a&&a.d(u),r=!1,Re(s)}}}function Pc(e,t,n){let i,o,r,s,l,a,u,f,d,c,h,m,y,_,g,S,k,C,V,K,O,M,P,D,X,{$$slots:L={},$$scope:B}=t,{id:b=void 0}=t,{type:v="source"}=t,{position:p=ue.Top}=t,{style:N=void 0}=t,{isValidConnection:T=void 0}=t,{onconnect:A=void 0}=t,{ondisconnect:Y=void 0}=t,{isConnectable:U=void 0}=t,{class:Q=void 0}=t;const j=Tn("svelteflow__node_id"),I=Tn("svelteflow__node_connectable");q(e,I,z=>n(43,X=z));const oe=De(),{connectionMode:de,domNode:J,nodeLookup:ke,connectionRadius:G,viewport:ge,isValidConnection:_e,lib:be,addEdge:Me,onedgecreate:W,panBy:ze,cancelConnection:Ve,updateConnection:Be,autoPanOnConnect:Ee,edges:$e,connectionLookup:Ye,onconnect:_t,onconnectstart:$,onconnectend:vt,flowId:St,connection:Ct}=oe;q(e,de,z=>n(40,c=z)),q(e,J,z=>n(55,P=z)),q(e,ke,z=>n(54,M=z)),q(e,G,z=>n(56,D=z)),q(e,ge,z=>n(46,y=z)),q(e,_e,z=>n(51,C=z)),q(e,be,z=>n(53,O=z)),q(e,W,z=>n(50,k=z)),q(e,Ee,z=>n(52,K=z)),q(e,$e,z=>n(42,m=z)),q(e,Ye,z=>n(41,h=z)),q(e,_t,z=>n(49,S=z)),q(e,$,z=>n(48,g=z)),q(e,vt,z=>n(47,_=z)),q(e,St,z=>n(13,V=z)),q(e,Ct,z=>n(39,d=z));function It(z){const et=kr(z);(et&&z.button===0||!et)&&_c.onPointerDown(z,{handleId:r,nodeId:j,isTarget:i,connectionRadius:D,domNode:P,nodeLookup:M,connectionMode:c,lib:O,autoPanOnConnect:K,flowId:V,isValidConnection:T??C,updateConnection:Be,cancelConnection:Ve,panBy:ze,onConnect:Ie=>{const Oe=k?k(Ie):Ie;Oe&&(Me(Oe),S==null||S(Ie))},onConnectStart:(Ie,Oe)=>{g==null||g(Ie,{nodeId:Oe.nodeId,handleId:Oe.handleId,handleType:Oe.handleType})},onConnectEnd:(Ie,Oe)=>{_==null||_(Ie,Oe)},getTransform:()=>[y.x,y.y,y.zoom],getFromHandle:()=>d.fromHandle})}let rt=null,ft;return e.$$set=z=>{"id"in z&&n(0,b=z.id),"type"in z&&n(1,v=z.type),"position"in z&&n(2,p=z.position),"style"in z&&n(3,N=z.style),"isValidConnection"in z&&n(33,T=z.isValidConnection),"onconnect"in z&&n(34,A=z.onconnect),"ondisconnect"in z&&n(35,Y=z.ondisconnect),"isConnectable"in z&&n(36,U=z.isConnectable),"class"in z&&n(4,Q=z.class),"$$scope"in z&&n(44,B=z.$$scope)},e.$$.update=()=>{var z,et,Ie,Oe,en,tn,nn,on,Et;if(e.$$.dirty[0]&2&&n(11,i=v==="target"),e.$$.dirty[1]&4128&&n(12,o=U!==void 0?U:X),e.$$.dirty[0]&1&&n(6,r=b||null),e.$$.dirty[0]&3|e.$$.dirty[1]&3096&&(A||Y)&&n(38,ft=h.get(`${j}-${v}${b?`-${b}`:""}`)),e.$$.dirty[1]&216){if(rt&&!Hf(ft,rt)){const Vt=ft??new Map;ur(rt,Vt,Y),ur(Vt,rt,A)}n(37,rt=ft??new Map)}e.$$.dirty[1]&256&&n(10,s=!!d.fromHandle),e.$$.dirty[0]&66|e.$$.dirty[1]&256&&n(9,l=((z=d.fromHandle)==null?void 0:z.nodeId)===j&&((et=d.fromHandle)==null?void 0:et.type)===v&&((Ie=d.fromHandle)==null?void 0:Ie.id)===r),e.$$.dirty[0]&66|e.$$.dirty[1]&256&&n(5,a=((Oe=d.toHandle)==null?void 0:Oe.nodeId)===j&&((en=d.toHandle)==null?void 0:en.type)===v&&((tn=d.toHandle)==null?void 0:tn.id)===r),e.$$.dirty[0]&66|e.$$.dirty[1]&768&&n(8,u=c===At.Strict?((nn=d.fromHandle)==null?void 0:nn.type)!==v:j!==((on=d.fromHandle)==null?void 0:on.nodeId)||r!==((Et=d.fromHandle)==null?void 0:Et.id)),e.$$.dirty[0]&32|e.$$.dirty[1]&256&&n(7,f=a&&d.isValid)},[b,v,p,N,Q,a,r,f,u,l,s,i,o,V,j,I,de,J,ke,G,ge,_e,be,W,Ee,$e,Ye,_t,$,vt,St,Ct,It,T,A,Y,U,rt,ft,d,c,h,m,X,B,L]}class pt extends ce{constructor(t){super(),fe(this,t,Pc,zc,he,{id:0,type:1,position:2,style:3,isValidConnection:33,onconnect:34,ondisconnect:35,isConnectable:36,class:4},null,[-1,-1])}}function Nc(e){var a;let t,n,i=((a=e[0])==null?void 0:a.label)+"",o,r,s,l;return t=new pt({props:{type:"target",position:e[1]??ue.Top}}),s=new pt({props:{type:"source",position:e[2]??ue.Bottom}}),{c(){le(t.$$.fragment),n=ye(),o=Xe(i),r=ye(),le(s.$$.fragment)},m(u,f){ne(t,u,f),Z(u,n,f),Z(u,o,f),Z(u,r,f),ne(s,u,f),l=!0},p(u,[f]){var h;const d={};f&2&&(d.position=u[1]??ue.Top),t.$set(d),(!l||f&1)&&i!==(i=((h=u[0])==null?void 0:h.label)+"")&&Ue(o,i);const c={};f&4&&(c.position=u[2]??ue.Bottom),s.$set(c)},i(u){l||(H(t.$$.fragment,u),H(s.$$.fragment,u),l=!0)},o(u){R(t.$$.fragment,u),R(s.$$.fragment,u),l=!1},d(u){u&&(F(n),F(o),F(r)),ie(t,u),ie(s,u)}}}function Oc(e,t,n){const i=["data","targetPosition","sourcePosition"];Ne(t,i);let{data:o={label:"Node"}}=t,{targetPosition:r=void 0}=t,{sourcePosition:s=void 0}=t;return e.$$set=l=>{t=me(me({},t),tt(l)),n(3,Ne(t,i)),"data"in l&&n(0,o=l.data),"targetPosition"in l&&n(1,r=l.targetPosition),"sourcePosition"in l&&n(2,s=l.sourcePosition)},[o,r,s]}class Fr extends ce{constructor(t){super(),fe(this,t,Oc,Nc,he,{data:0,targetPosition:1,sourcePosition:2})}}function Tc(e){var s;let t=((s=e[0])==null?void 0:s.label)+"",n,i,o,r;return o=new pt({props:{type:"source",position:e[1]??ue.Bottom}}),{c(){n=Xe(t),i=ye(),le(o.$$.fragment)},m(l,a){Z(l,n,a),Z(l,i,a),ne(o,l,a),r=!0},p(l,[a]){var f;(!r||a&1)&&t!==(t=((f=l[0])==null?void 0:f.label)+"")&&Ue(n,t);const u={};a&2&&(u.position=l[1]??ue.Bottom),o.$set(u)},i(l){r||(H(o.$$.fragment,l),r=!0)},o(l){R(o.$$.fragment,l),r=!1},d(l){l&&(F(n),F(i)),ie(o,l)}}}function Ac(e,t,n){const i=["data","sourcePosition"];Ne(t,i);let{data:o={label:"Node"}}=t,{sourcePosition:r=void 0}=t;return e.$$set=s=>{t=me(me({},t),tt(s)),n(2,Ne(t,i)),"data"in s&&n(0,o=s.data),"sourcePosition"in s&&n(1,r=s.sourcePosition)},[o,r]}class Dc extends ce{constructor(t){super(),fe(this,t,Ac,Tc,he,{data:0,sourcePosition:1})}}function Hc(e){var s;let t=((s=e[0])==null?void 0:s.label)+"",n,i,o,r;return o=new pt({props:{type:"target",position:e[1]??ue.Top}}),{c(){n=Xe(t),i=ye(),le(o.$$.fragment)},m(l,a){Z(l,n,a),Z(l,i,a),ne(o,l,a),r=!0},p(l,[a]){var f;(!r||a&1)&&t!==(t=((f=l[0])==null?void 0:f.label)+"")&&Ue(n,t);const u={};a&2&&(u.position=l[1]??ue.Top),o.$set(u)},i(l){r||(H(o.$$.fragment,l),r=!0)},o(l){R(o.$$.fragment,l),r=!1},d(l){l&&(F(n),F(i)),ie(o,l)}}}function Ic(e,t,n){const i=["data","targetPosition"];Ne(t,i);let{data:o={label:"Node"}}=t,{targetPosition:r=void 0}=t;return e.$$set=s=>{t=me(me({},t),tt(s)),n(2,Ne(t,i)),"data"in s&&n(0,o=s.data),"targetPosition"in s&&n(1,r=s.targetPosition)},[o,r]}class Vc extends ce{constructor(t){super(),fe(this,t,Ic,Hc,he,{data:0,targetPosition:1})}}function Xc(e,t,n){const i=[];return Ne(t,i),e.$$set=o=>{t=me(me({},t),tt(o)),n(0,Ne(t,i))},[]}class Rc extends ce{constructor(t){super(),fe(this,t,Xc,null,he,{})}}function qr(e,t,n){if(!t)return;const i=n?t.querySelector(n):t;i&&i.appendChild(e)}function Yc(e,{target:t,domNode:n}){return qr(e,n,t),{async update({target:i,domNode:o}){qr(e,o,i)},destroy(){e.parentNode&&e.parentNode.removeChild(e)}}}function Lc(e){let t,n,i,o,r;const s=e[3].default,l=Fe(s,e,e[2],null);return{c(){t=we("div"),l&&l.c()},m(a,u){Z(a,t,u),l&&l.m(t,null),i=!0,o||(r=Le(n=Yc.call(null,t,{target:".svelte-flow__edgelabel-renderer",domNode:e[0]})),o=!0)},p(a,[u]){l&&l.p&&(!i||u&4)&&Ze(l,s,a,a[2],i?qe(s,a[2],u,null):Ge(a[2]),null),n&&Pe(n.update)&&u&1&&n.update.call(null,{target:".svelte-flow__edgelabel-renderer",domNode:a[0]})},i(a){i||(H(l,a),i=!0)},o(a){R(l,a),i=!1},d(a){a&&F(t),l&&l.d(a),o=!1,r()}}}function Wc(e,t,n){let i,{$$slots:o={},$$scope:r}=t;const{domNode:s}=De();return q(e,s,l=>n(0,i=l)),e.$$set=l=>{"$$scope"in l&&n(2,r=l.$$scope)},[i,s,r,o]}class Bc extends ce{constructor(t){super(),fe(this,t,Wc,Lc,he,{})}}function Zr(){const{edgeLookup:e,selectionRect:t,selectionRectMode:n,multiselectionKeyPressed:i,addSelectedEdges:o,unselectNodesAndEdges:r,elementsSelectable:s}=De();return l=>{const a=x(e).get(l);if(!a){console.warn("012",Tt.error012(l));return}(a.selectable||x(s)&&typeof a.selectable>"u")&&(t.set(null),n.set(null),a.selected?a.selected&&x(i)&&r({nodes:[],edges:[a]}):o([l]))}}function Kc(e){let t,n,i=`translate(-50%, -50%) translate(${e[1]}px,${e[2]}px)`,o,r,s;const l=e[5].default,a=Fe(l,e,e[7],null);return{c(){t=we("div"),a&&a.c(),w(t,"class","svelte-flow__edge-label"),w(t,"style",n="pointer-events: all;"+e[0]),w(t,"role","button"),w(t,"tabindex","-1"),se(t,"transform",i)},m(u,f){Z(u,t,f),a&&a.m(t,null),o=!0,r||(s=[Se(t,"keyup",qc),Se(t,"click",e[6])],r=!0)},p(u,f){a&&a.p&&(!o||f&128)&&Ze(a,l,u,u[7],o?qe(l,u[7],f,null):Ge(u[7]),null),(!o||f&1&&n!==(n="pointer-events: all;"+u[0]))&&w(t,"style",n);const d=f&1;(f&7&&i!==(i=`translate(-50%, -50%) translate(${u[1]}px,${u[2]}px)`)||d)&&se(t,"transform",i)},i(u){o||(H(a,u),o=!0)},o(u){R(a,u),o=!1},d(u){u&&F(t),a&&a.d(u),r=!1,Re(s)}}}function Fc(e){let t,n;return t=new Bc({props:{$$slots:{default:[Kc]},$$scope:{ctx:e}}}),{c(){le(t.$$.fragment)},m(i,o){ne(t,i,o),n=!0},p(i,[o]){const r={};o&135&&(r.$$scope={dirty:o,ctx:i}),t.$set(r)},i(i){n||(H(t.$$.fragment,i),n=!0)},o(i){R(t.$$.fragment,i),n=!1},d(i){ie(t,i)}}}const qc=()=>{};function Zc(e,t,n){let{$$slots:i={},$$scope:o}=t,{style:r=void 0}=t,{x:s=void 0}=t,{y:l=void 0}=t;const a=Zr(),u=Tn("svelteflow__edge_id"),f=()=>{u&&a(u)};return e.$$set=d=>{"style"in d&&n(0,r=d.style),"x"in d&&n(1,s=d.x),"y"in d&&n(2,l=d.y),"$$scope"in d&&n(7,o=d.$$scope)},[r,s,l,a,u,i,f,o]}class Gc extends ce{constructor(t){super(),fe(this,t,Zc,Fc,he,{style:0,x:1,y:2})}}function Uc(e){let t;return{c(){t=ve("path"),w(t,"d",e[1]),w(t,"stroke-opacity",0),w(t,"stroke-width",e[10]),w(t,"fill","none"),w(t,"class","svelte-flow__edge-interaction")},m(n,i){Z(n,t,i)},p(n,i){i&2&&w(t,"d",n[1])},d(n){n&&F(t)}}}function Gr(e){let t,n;return t=new Gc({props:{x:e[3],y:e[4],style:e[5],$$slots:{default:[Jc]},$$scope:{ctx:e}}}),{c(){le(t.$$.fragment)},m(i,o){ne(t,i,o),n=!0},p(i,o){const r={};o&8&&(r.x=i[3]),o&16&&(r.y=i[4]),o&32&&(r.style=i[5]),o&4100&&(r.$$scope={dirty:o,ctx:i}),t.$set(r)},i(i){n||(H(t.$$.fragment,i),n=!0)},o(i){R(t.$$.fragment,i),n=!1},d(i){ie(t,i)}}}function Jc(e){let t;return{c(){t=Xe(e[2])},m(n,i){Z(n,t,i)},p(n,i){i&4&&Ue(t,n[2])},d(n){n&&F(t)}}}function Qc(e){let t,n,i,o,r,s,l=e[10]&&Uc(e),a=e[2]&&Gr(e);return{c(){t=ve("path"),i=ye(),l&&l.c(),o=ye(),a&&a.c(),r=We(),w(t,"id",e[0]),w(t,"d",e[1]),w(t,"class",n=Ce(["svelte-flow__edge-path",e[9]])),w(t,"marker-start",e[6]),w(t,"marker-end",e[7]),w(t,"fill","none"),w(t,"style",e[8])},m(u,f){Z(u,t,f),Z(u,i,f),l&&l.m(u,f),Z(u,o,f),a&&a.m(u,f),Z(u,r,f),s=!0},p(u,[f]){(!s||f&1)&&w(t,"id",u[0]),(!s||f&2)&&w(t,"d",u[1]),(!s||f&512&&n!==(n=Ce(["svelte-flow__edge-path",u[9]])))&&w(t,"class",n),(!s||f&64)&&w(t,"marker-start",u[6]),(!s||f&128)&&w(t,"marker-end",u[7]),(!s||f&256)&&w(t,"style",u[8]),u[10]&&l.p(u,f),u[2]?a?(a.p(u,f),f&4&&H(a,1)):(a=Gr(u),a.c(),H(a,1),a.m(r.parentNode,r)):a&&(Te(),R(a,1,1,()=>{a=null}),Ae())},i(u){s||(H(a),s=!0)},o(u){R(a),s=!1},d(u){u&&(F(t),F(i),F(o),F(r)),l&&l.d(u),a&&a.d(u)}}}function jc(e,t,n){let{id:i=void 0}=t,{path:o}=t,{label:r=void 0}=t,{labelX:s=void 0}=t,{labelY:l=void 0}=t,{labelStyle:a=void 0}=t,{markerStart:u=void 0}=t,{markerEnd:f=void 0}=t,{style:d=void 0}=t,{interactionWidth:c=20}=t,{class:h=void 0}=t,m=c===void 0?20:c;return e.$$set=y=>{"id"in y&&n(0,i=y.id),"path"in y&&n(1,o=y.path),"label"in y&&n(2,r=y.label),"labelX"in y&&n(3,s=y.labelX),"labelY"in y&&n(4,l=y.labelY),"labelStyle"in y&&n(5,a=y.labelStyle),"markerStart"in y&&n(6,u=y.markerStart),"markerEnd"in y&&n(7,f=y.markerEnd),"style"in y&&n(8,d=y.style),"interactionWidth"in y&&n(11,c=y.interactionWidth),"class"in y&&n(9,h=y.class)},[i,o,r,s,l,a,u,f,d,h,m,c]}class di extends ce{constructor(t){super(),fe(this,t,jc,Qc,he,{id:0,path:1,label:2,labelX:3,labelY:4,labelStyle:5,markerStart:6,markerEnd:7,style:8,interactionWidth:11,class:9})}}function xc(e){let t,n;return t=new di({props:{path:e[8],labelX:e[7],labelY:e[6],label:e[0],labelStyle:e[1],markerStart:e[3],markerEnd:e[4],interactionWidth:e[5],style:e[2]}}),{c(){le(t.$$.fragment)},m(i,o){ne(t,i,o),n=!0},p(i,[o]){const r={};o&256&&(r.path=i[8]),o&128&&(r.labelX=i[7]),o&64&&(r.labelY=i[6]),o&1&&(r.label=i[0]),o&2&&(r.labelStyle=i[1]),o&8&&(r.markerStart=i[3]),o&16&&(r.markerEnd=i[4]),o&32&&(r.interactionWidth=i[5]),o&4&&(r.style=i[2]),t.$set(r)},i(i){n||(H(t.$$.fragment,i),n=!0)},o(i){R(t.$$.fragment,i),n=!1},d(i){ie(t,i)}}}function $c(e,t,n){let i,o,r;const s=["label","labelStyle","style","markerStart","markerEnd","interactionWidth","sourceX","sourceY","sourcePosition","targetX","targetY","targetPosition"];Ne(t,s);let{label:l=void 0}=t,{labelStyle:a=void 0}=t,{style:u=void 0}=t,{markerStart:f=void 0}=t,{markerEnd:d=void 0}=t,{interactionWidth:c=void 0}=t,{sourceX:h}=t,{sourceY:m}=t,{sourcePosition:y}=t,{targetX:_}=t,{targetY:g}=t,{targetPosition:S}=t;return e.$$set=k=>{t=me(me({},t),tt(k)),n(15,Ne(t,s)),"label"in k&&n(0,l=k.label),"labelStyle"in k&&n(1,a=k.labelStyle),"style"in k&&n(2,u=k.style),"markerStart"in k&&n(3,f=k.markerStart),"markerEnd"in k&&n(4,d=k.markerEnd),"interactionWidth"in k&&n(5,c=k.interactionWidth),"sourceX"in k&&n(9,h=k.sourceX),"sourceY"in k&&n(10,m=k.sourceY),"sourcePosition"in k&&n(11,y=k.sourcePosition),"targetX"in k&&n(12,_=k.targetX),"targetY"in k&&n(13,g=k.targetY),"targetPosition"in k&&n(14,S=k.targetPosition)},e.$$.update=()=>{e.$$.dirty&32256&&n(8,[i,o,r]=Sr({sourceX:h,sourceY:m,targetX:_,targetY:g,sourcePosition:y,targetPosition:S}),i,(n(7,o),n(9,h),n(10,m),n(12,_),n(13,g),n(11,y),n(14,S)),(n(6,r),n(9,h),n(10,m),n(12,_),n(13,g),n(11,y),n(14,S)))},[l,a,u,f,d,c,r,o,i,h,m,y,_,g,S]}class Ur extends ce{constructor(t){super(),fe(this,t,$c,xc,he,{label:0,labelStyle:1,style:2,markerStart:3,markerEnd:4,interactionWidth:5,sourceX:9,sourceY:10,sourcePosition:11,targetX:12,targetY:13,targetPosition:14})}}function ed(e){let t,n;return t=new di({props:{path:e[8],labelX:e[7],labelY:e[6],label:e[0],labelStyle:e[1],markerStart:e[3],markerEnd:e[4],interactionWidth:e[5],style:e[2]}}),{c(){le(t.$$.fragment)},m(i,o){ne(t,i,o),n=!0},p(i,[o]){const r={};o&256&&(r.path=i[8]),o&128&&(r.labelX=i[7]),o&64&&(r.labelY=i[6]),o&1&&(r.label=i[0]),o&2&&(r.labelStyle=i[1]),o&8&&(r.markerStart=i[3]),o&16&&(r.markerEnd=i[4]),o&32&&(r.interactionWidth=i[5]),o&4&&(r.style=i[2]),t.$set(r)},i(i){n||(H(t.$$.fragment,i),n=!0)},o(i){R(t.$$.fragment,i),n=!1},d(i){ie(t,i)}}}function td(e,t,n){let i,o,r;const s=["label","labelStyle","style","markerStart","markerEnd","interactionWidth","sourceX","sourceY","sourcePosition","targetX","targetY","targetPosition"];Ne(t,s);let{label:l=void 0}=t,{labelStyle:a=void 0}=t,{style:u=void 0}=t,{markerStart:f=void 0}=t,{markerEnd:d=void 0}=t,{interactionWidth:c=void 0}=t,{sourceX:h}=t,{sourceY:m}=t,{sourcePosition:y}=t,{targetX:_}=t,{targetY:g}=t,{targetPosition:S}=t;return e.$$set=k=>{t=me(me({},t),tt(k)),n(15,Ne(t,s)),"label"in k&&n(0,l=k.label),"labelStyle"in k&&n(1,a=k.labelStyle),"style"in k&&n(2,u=k.style),"markerStart"in k&&n(3,f=k.markerStart),"markerEnd"in k&&n(4,d=k.markerEnd),"interactionWidth"in k&&n(5,c=k.interactionWidth),"sourceX"in k&&n(9,h=k.sourceX),"sourceY"in k&&n(10,m=k.sourceY),"sourcePosition"in k&&n(11,y=k.sourcePosition),"targetX"in k&&n(12,_=k.targetX),"targetY"in k&&n(13,g=k.targetY),"targetPosition"in k&&n(14,S=k.targetPosition)},e.$$.update=()=>{e.$$.dirty&32256&&n(8,[i,o,r]=fi({sourceX:h,sourceY:m,targetX:_,targetY:g,sourcePosition:y,targetPosition:S}),i,(n(7,o),n(9,h),n(10,m),n(12,_),n(13,g),n(11,y),n(14,S)),(n(6,r),n(9,h),n(10,m),n(12,_),n(13,g),n(11,y),n(14,S)))},[l,a,u,f,d,c,r,o,i,h,m,y,_,g,S]}class nd extends ce{constructor(t){super(),fe(this,t,td,ed,he,{label:0,labelStyle:1,style:2,markerStart:3,markerEnd:4,interactionWidth:5,sourceX:9,sourceY:10,sourcePosition:11,targetX:12,targetY:13,targetPosition:14})}}function id(e){let t,n;return t=new di({props:{path:e[8],labelX:e[7],labelY:e[6],label:e[0],labelStyle:e[1],markerStart:e[3],markerEnd:e[4],interactionWidth:e[5],style:e[2]}}),{c(){le(t.$$.fragment)},m(i,o){ne(t,i,o),n=!0},p(i,[o]){const r={};o&256&&(r.path=i[8]),o&128&&(r.labelX=i[7]),o&64&&(r.labelY=i[6]),o&1&&(r.label=i[0]),o&2&&(r.labelStyle=i[1]),o&8&&(r.markerStart=i[3]),o&16&&(r.markerEnd=i[4]),o&32&&(r.interactionWidth=i[5]),o&4&&(r.style=i[2]),t.$set(r)},i(i){n||(H(t.$$.fragment,i),n=!0)},o(i){R(t.$$.fragment,i),n=!1},d(i){ie(t,i)}}}function od(e,t,n){let i,o,r;const s=["label","labelStyle","style","markerStart","markerEnd","interactionWidth","sourceX","sourceY","targetX","targetY"];Ne(t,s);let{label:l=void 0}=t,{labelStyle:a=void 0}=t,{style:u=void 0}=t,{markerStart:f=void 0}=t,{markerEnd:d=void 0}=t,{interactionWidth:c=void 0}=t,{sourceX:h}=t,{sourceY:m}=t,{targetX:y}=t,{targetY:_}=t;return e.$$set=g=>{t=me(me({},t),tt(g)),n(13,Ne(t,s)),"label"in g&&n(0,l=g.label),"labelStyle"in g&&n(1,a=g.labelStyle),"style"in g&&n(2,u=g.style),"markerStart"in g&&n(3,f=g.markerStart),"markerEnd"in g&&n(4,d=g.markerEnd),"interactionWidth"in g&&n(5,c=g.interactionWidth),"sourceX"in g&&n(9,h=g.sourceX),"sourceY"in g&&n(10,m=g.sourceY),"targetX"in g&&n(11,y=g.targetX),"targetY"in g&&n(12,_=g.targetY)},e.$$.update=()=>{e.$$.dirty&7680&&n(8,[i,o,r]=Er({sourceX:h,sourceY:m,targetX:y,targetY:_}),i,(n(7,o),n(9,h),n(10,m),n(11,y),n(12,_)),(n(6,r),n(9,h),n(10,m),n(11,y),n(12,_)))},[l,a,u,f,d,c,r,o,i,h,m,y,_]}class rd extends ce{constructor(t){super(),fe(this,t,od,id,he,{label:0,labelStyle:1,style:2,markerStart:3,markerEnd:4,interactionWidth:5,sourceX:9,sourceY:10,targetX:11,targetY:12})}}function ld(e){let t,n;return t=new di({props:{path:e[8],labelX:e[7],labelY:e[6],label:e[0],labelStyle:e[1],markerStart:e[3],markerEnd:e[4],interactionWidth:e[5],style:e[2]}}),{c(){le(t.$$.fragment)},m(i,o){ne(t,i,o),n=!0},p(i,[o]){const r={};o&256&&(r.path=i[8]),o&128&&(r.labelX=i[7]),o&64&&(r.labelY=i[6]),o&1&&(r.label=i[0]),o&2&&(r.labelStyle=i[1]),o&8&&(r.markerStart=i[3]),o&16&&(r.markerEnd=i[4]),o&32&&(r.interactionWidth=i[5]),o&4&&(r.style=i[2]),t.$set(r)},i(i){n||(H(t.$$.fragment,i),n=!0)},o(i){R(t.$$.fragment,i),n=!1},d(i){ie(t,i)}}}function sd(e,t,n){let i,o,r;const s=["label","labelStyle","style","markerStart","markerEnd","interactionWidth","sourceX","sourceY","sourcePosition","targetX","targetY","targetPosition"];Ne(t,s);let{label:l=void 0}=t,{labelStyle:a=void 0}=t,{style:u=void 0}=t,{markerStart:f=void 0}=t,{markerEnd:d=void 0}=t,{interactionWidth:c=void 0}=t,{sourceX:h}=t,{sourceY:m}=t,{sourcePosition:y}=t,{targetX:_}=t,{targetY:g}=t,{targetPosition:S}=t;return e.$$set=k=>{t=me(me({},t),tt(k)),n(15,Ne(t,s)),"label"in k&&n(0,l=k.label),"labelStyle"in k&&n(1,a=k.labelStyle),"style"in k&&n(2,u=k.style),"markerStart"in k&&n(3,f=k.markerStart),"markerEnd"in k&&n(4,d=k.markerEnd),"interactionWidth"in k&&n(5,c=k.interactionWidth),"sourceX"in k&&n(9,h=k.sourceX),"sourceY"in k&&n(10,m=k.sourceY),"sourcePosition"in k&&n(11,y=k.sourcePosition),"targetX"in k&&n(12,_=k.targetX),"targetY"in k&&n(13,g=k.targetY),"targetPosition"in k&&n(14,S=k.targetPosition)},e.$$.update=()=>{e.$$.dirty&32256&&n(8,[i,o,r]=fi({sourceX:h,sourceY:m,targetX:_,targetY:g,sourcePosition:y,targetPosition:S,borderRadius:0}),i,(n(7,o),n(9,h),n(10,m),n(12,_),n(13,g),n(11,y),n(14,S)),(n(6,r),n(9,h),n(10,m),n(12,_),n(13,g),n(11,y),n(14,S)))},[l,a,u,f,d,c,r,o,i,h,m,y,_,g,S]}class ad extends ce{constructor(t){super(),fe(this,t,sd,ld,he,{label:0,labelStyle:1,style:2,markerStart:3,markerEnd:4,interactionWidth:5,sourceX:9,sourceY:10,sourcePosition:11,targetX:12,targetY:13,targetPosition:14})}}function ud(e,t){const n=e.set,i=t.set,o=x(e),r=x(t);let l=o.length===0&&r.length>0?r:o;e.set(l);const a=u=>{const f=n(u);return l=f,i(l),f};e.set=t.set=a,e.update=t.update=u=>a(u(l))}function fd(e,t){const n=e.set,i=t.set;let o=x(t);e.set(o);const r=s=>{n(s),i(s),o=s};e.set=t.set=r,e.update=t.update=s=>r(s(o))}const cd=(e,t,n)=>{if(!n)return;const i=x(e),o=t.set,r=n.set;let s=n?x(n):{x:0,y:0,zoom:1};t.set(s),t.set=l=>(o(l),r(l),s=l,l),n.set=l=>(i==null||i.syncViewport(l),o(l),r(l),s=l,l),t.update=l=>{t.set(l(s))},n.update=l=>{n.set(l(s))}},dd=(e,t,n,i=[0,0],o=ni,r,s,l,a,u,f,d,c)=>{const{subscribe:h,set:m,update:y}=te([]);let _=e,g={},S=!0;const k=O=>{const M=Tr(O,t,n,{elevateNodesOnSelect:S,nodeOrigin:i,nodeExtent:o,defaults:g,checkEquality:!1});return x(r)&&M&&x(a)&&(Xf({nodes:t,width:x(u),height:x(f),panZoom:x(a),minZoom:x(d),maxZoom:x(c)},x(s)).then(D=>{var X;(X=x(l))==null||X.resolve(D),l.set(null)}),r.set(!1),s.set(void 0)),_=O,m(_),_},C=O=>k(O(_)),V=O=>{g=O},K=O=>{S=O.elevateNodesOnSelect??S};return k(_),{subscribe:h,set:k,update:C,setDefaultOptions:V,setOptions:K}},hd=(e,t,n,i)=>{const{subscribe:o,set:r,update:s}=te([]);let l=e,a={};const u=c=>{const h=a?c.map(m=>({...a,...m})):c;Hr(t,n,h),l=h,r(l)},f=c=>u(c(l)),d=c=>{a=c};return u(l),{subscribe:o,set:u,update:f,setDefaultOptions:d}},Jr={input:Dc,output:Vc,default:Fr,group:Rc},Qr={straight:rd,smoothstep:nd,default:Ur,step:ad},gd=({nodes:e=[],edges:t=[],width:n,height:i,fitView:o,nodeOrigin:r,nodeExtent:s})=>{const l=new Map,a=new Map,u=new Map,f=new Map,d=r??[0,0],c=s??ni;Tr(e,l,a,{nodeExtent:c,nodeOrigin:d,elevateNodesOnSelect:!1,checkEquality:!1}),Hr(u,f,t);let h={x:0,y:0,zoom:1};if(o&&n&&i){const K=Sn(l,{filter:O=>!!((O.width||O.initialWidth)&&(O.height||O.initialHeight))});h=br(K,n,i,.5,2,.1)}const m=te(!1),y=te(void 0),_=te(null),g=te(null),S=te(500),k=te(500),C=te(.5),V=te(2);return{flowId:te(null),nodes:dd(e,l,a,d,c,m,y,_,g,S,k,C,V),nodeLookup:je(l),parentLookup:je(a),edgeLookup:je(f),visibleNodes:je([]),edges:hd(t,u,f),visibleEdges:je([]),connectionLookup:je(u),width:S,height:k,minZoom:C,maxZoom:V,nodeOrigin:te(d),nodeDragThreshold:te(1),nodeExtent:te(c),translateExtent:te(ni),autoPanOnNodeDrag:te(!0),autoPanOnConnect:te(!0),fitViewQueued:m,fitViewOptions:y,fitViewResolver:_,panZoom:g,snapGrid:te(null),dragging:te(!1),selectionRect:te(null),selectionKeyPressed:te(!1),multiselectionKeyPressed:te(!1),deleteKeyPressed:te(!1),panActivationKeyPressed:te(!1),zoomActivationKeyPressed:te(!1),selectionRectMode:te(null),selectionMode:te(ii.Partial),nodeTypes:te(Jr),edgeTypes:te(Qr),viewport:te(h),connectionMode:te(At.Strict),domNode:te(null),connection:je(Xi),connectionLineType:te(Jt.Bezier),connectionRadius:te(20),isValidConnection:te(()=>!0),nodesDraggable:te(!0),nodesConnectable:te(!0),elementsSelectable:te(!0),selectNodesOnDrag:te(!0),markers:je([]),defaultMarkerColor:te("#b1b1b7"),lib:je("svelte"),onlyRenderVisibleElements:te(!1),onerror:te(_r),ondelete:te(void 0),onedgecreate:te(void 0),onconnect:te(void 0),onconnectstart:te(void 0),onconnectend:te(void 0),onbeforedelete:te(void 0),nodesInitialized:te(!1),edgesInitialized:te(!1),viewportInitialized:te(!1),initialized:je(!1)}};function md(e){const t=Ft([e.edges,e.nodes,e.nodeLookup,e.onlyRenderVisibleElements,e.viewport,e.width,e.height],([n,,i,o,r,s,l])=>o&&s&&l?n.filter(u=>{const f=i.get(u.source),d=i.get(u.target);return f&&d&&Uf({sourceNode:f,targetNode:d,width:s,height:l,transform:[r.x,r.y,r.zoom]})}):n);return Ft([t,e.nodes,e.nodeLookup,e.connectionMode,e.onerror],([n,,i,o,r])=>n.reduce((l,a)=>{const u=i.get(a.source),f=i.get(a.target);if(!u||!f)return l;const d=tc({id:a.id,sourceNode:u,targetNode:f,sourceHandle:a.sourceHandle||null,targetHandle:a.targetHandle||null,connectionMode:o,onError:r});return d&&l.push({...a,zIndex:Gf({selected:a.selected,zIndex:a.zIndex,sourceNode:u,targetNode:f,elevateOnSelect:!1}),...d}),l},[]))}function yd(e){return Ft([e.nodeLookup,e.onlyRenderVisibleElements,e.width,e.height,e.viewport,e.nodes],([t,n,i,o,r])=>{const s=[r.x,r.y,r.zoom];return n?dr(t,{x:0,y:0,width:i,height:o},s,!0):Array.from(t.values())})}const eo=Symbol();function _d({nodes:e,edges:t,width:n,height:i,fitView:o,nodeOrigin:r,nodeExtent:s}){const l=gd({nodes:e,edges:t,width:n,height:i,fitView:o,nodeOrigin:r,nodeExtent:s});function a(v){l.nodeTypes.set({...Jr,...v})}function u(v){l.edgeTypes.set({...Qr,...v})}function f(v){const p=x(l.edges);l.edges.set(jf(v,p))}const d=(v,p=!1)=>{var T;const N=x(l.nodeLookup);for(const[A,Y]of v){const U=(T=N.get(A))==null?void 0:T.internals.userNode;U&&(U.position=Y.position,U.dragging=p)}l.nodes.update(A=>A)};function c(v){var Y,U,Q;const p=x(l.nodeLookup),N=x(l.parentLookup),{changes:T,updatedInternals:A}=ac(v,p,x(l.parentLookup),x(l.domNode),x(l.nodeOrigin));if(A){oc(p,N,{nodeOrigin:r,nodeExtent:s});for(const j of T){const I=(Y=p.get(j.id))==null?void 0:Y.internals.userNode;if(I)switch(j.type){case"dimensions":{const oe={...I.measured,...j.dimensions};j.setAttributes&&(I.width=((U=j.dimensions)==null?void 0:U.width)??I.width,I.height=((Q=j.dimensions)==null?void 0:Q.height)??I.height),I.measured=oe;break}case"position":I.position=j.position??I.position;break}}l.nodes.update(j=>j),x(l.nodesInitialized)||l.nodesInitialized.set(!0)}}function h(v){const p=x(l.fitViewResolver)??Bf();return l.fitViewQueued.set(!0),l.fitViewOptions.set(v),l.fitViewResolver.set(p),l.nodes.set(x(l.nodes)),p.promise}function m(v,p){const N=x(l.panZoom);return N?N.scaleBy(v,p):Promise.resolve(!1)}function y(v){return m(1.2,v)}function _(v){return m(.8333333333333334,v)}function g(v){const p=x(l.panZoom);p&&(p.setScaleExtent([v,x(l.maxZoom)]),l.minZoom.set(v))}function S(v){const p=x(l.panZoom);p&&(p.setScaleExtent([x(l.minZoom),v]),l.maxZoom.set(v))}function k(v){const p=x(l.panZoom);p&&(p.setTranslateExtent(v),l.translateExtent.set(v))}function C(v){let p=!1;return v.forEach(N=>{N.selected&&(N.selected=!1,p=!0)}),p}function V(v){var p;(p=x(l.panZoom))==null||p.setClickDistance(v)}function K(v){C((v==null?void 0:v.nodes)||x(l.nodes))&&l.nodes.set(x(l.nodes)),C((v==null?void 0:v.edges)||x(l.edges))&&l.edges.set(x(l.edges))}l.deleteKeyPressed.subscribe(async v=>{var p;if(v){const N=x(l.nodes),T=x(l.edges),A=N.filter(j=>j.selected),Y=T.filter(j=>j.selected),{nodes:U,edges:Q}=await Yf({nodesToRemove:A,edgesToRemove:Y,nodes:N,edges:T,onBeforeDelete:x(l.onbeforedelete)});(U.length||Q.length)&&(l.nodes.update(j=>j.filter(I=>!U.some(oe=>oe.id===I.id))),l.edges.update(j=>j.filter(I=>!Q.some(oe=>oe.id===I.id))),(p=x(l.ondelete))==null||p({nodes:U,edges:Q}))}});function O(v){const p=x(l.multiselectionKeyPressed);l.nodes.update(N=>N.map(T=>{const A=v.includes(T.id),Y=p&&T.selected||A;return T.selected=Y,T})),p||l.edges.update(N=>N.map(T=>(T.selected=!1,T)))}function M(v){const p=x(l.multiselectionKeyPressed);l.edges.update(N=>N.map(T=>{const A=v.includes(T.id),Y=p&&T.selected||A;return T.selected=Y,T})),p||l.nodes.update(N=>N.map(T=>(T.selected=!1,T)))}function P(v){var N;const p=(N=x(l.nodes))==null?void 0:N.find(T=>T.id===v);if(!p){console.warn("012",Tt.error012(v));return}l.selectionRect.set(null),l.selectionRectMode.set(null),p.selected?p.selected&&x(l.multiselectionKeyPressed)&&K({nodes:[p],edges:[]}):O([v])}function D(v){const p=x(l.viewport);return uc({delta:v,panZoom:x(l.panZoom),transform:[p.x,p.y,p.zoom],translateExtent:x(l.translateExtent),width:x(l.width),height:x(l.height)})}const X=te(Xi),L=v=>{X.set({...v})};function B(){X.set(Xi)}function b(){l.selectionRect.set(null),l.selectionRectMode.set(null),l.snapGrid.set(null),l.isValidConnection.set(()=>!0),K(),B()}return{...l,visibleEdges:md(l),visibleNodes:yd(l),connection:Ft([X,l.viewport],([v,p])=>v.inProgress?{...v,to:li(v.to,[p.x,p.y,p.zoom])}:{...v}),markers:Ft([l.edges,l.defaultMarkerColor,l.flowId],([v,p,N])=>nc(v,{defaultColor:p,id:N})),initialized:(()=>{let v=!1;const p=x(l.nodes).length,N=x(l.edges).length;return Ft([l.nodesInitialized,l.edgesInitialized,l.viewportInitialized],([T,A,Y])=>v||(p===0?v=Y:N===0?v=Y&&T:v=Y&&T&&A,v))})(),syncNodeStores:v=>ud(l.nodes,v),syncEdgeStores:v=>fd(l.edges,v),syncViewport:v=>cd(l.panZoom,l.viewport,v),setNodeTypes:a,setEdgeTypes:u,addEdge:f,updateNodePositions:d,updateNodeInternals:c,zoomIn:y,zoomOut:_,fitView:v=>h(v),setMinZoom:g,setMaxZoom:S,setTranslateExtent:k,setPaneClickDistance:V,unselectNodesAndEdges:K,addSelectedNodes:O,addSelectedEdges:M,handleNodeSelection:P,panBy:D,updateConnection:L,cancelConnection:B,reset:b}}function De(){const e=Tn(eo);if(!e)throw new Error("In order to use useStore you need to wrap your component in a <SvelteFlowProvider />");return e.getStore()}function bd({nodes:e,edges:t,width:n,height:i,fitView:o,nodeOrigin:r,nodeExtent:s}){const l=_d({nodes:e,edges:t,width:n,height:i,fitView:o,nodeOrigin:r,nodeExtent:s});return On(eo,{getStore:()=>l}),l}function wd(e,t){const{panZoom:n,minZoom:i,maxZoom:o,initialViewport:r,viewport:s,dragging:l,translateExtent:a,paneClickDistance:u}=t,f=Mc({domNode:e,minZoom:i,maxZoom:o,translateExtent:a,viewport:r,paneClickDistance:u,onDraggingChange:l.set}),d=f.getViewport();return s.set(d),n.set(f),f.update(t),{update(c){f.update(c)}}}function kd(e){let t,n,i,o,r;const s=e[35].default,l=Fe(s,e,e[34],null);return{c(){t=we("div"),l&&l.c(),w(t,"class","svelte-flow__zoom svelte-4xkw84")},m(a,u){Z(a,t,u),l&&l.m(t,null),i=!0,o||(r=Le(n=wd.call(null,t,{viewport:e[18],minZoom:e[12],maxZoom:e[13],initialViewport:e[11],dragging:e[23],panZoom:e[19],onPanZoomStart:e[0],onPanZoom:e[1],onPanZoomEnd:e[2],zoomOnScroll:e[5],zoomOnDoubleClick:e[6],zoomOnPinch:e[7],panOnScroll:e[9],panOnDrag:e[10],panOnScrollSpeed:.5,panOnScrollMode:e[3]||at.Free,zoomActivationKeyPressed:e[14],preventScrolling:typeof e[4]=="boolean"?e[4]:!0,noPanClassName:"nopan",noWheelClassName:"nowheel",userSelectionActive:!!e[15],translateExtent:e[16],lib:e[17],paneClickDistance:e[8],onTransformChange:e[29]})),o=!0)},p(a,u){l&&l.p&&(!i||u[1]&8)&&Ze(l,s,a,a[34],i?qe(s,a[34],u,null):Ge(a[34]),null),n&&Pe(n.update)&&u[0]&262143&&n.update.call(null,{viewport:a[18],minZoom:a[12],maxZoom:a[13],initialViewport:a[11],dragging:a[23],panZoom:a[19],onPanZoomStart:a[0],onPanZoom:a[1],onPanZoomEnd:a[2],zoomOnScroll:a[5],zoomOnDoubleClick:a[6],zoomOnPinch:a[7],panOnScroll:a[9],panOnDrag:a[10],panOnScrollSpeed:.5,panOnScrollMode:a[3]||at.Free,zoomActivationKeyPressed:a[14],preventScrolling:typeof a[4]=="boolean"?a[4]:!0,noPanClassName:"nopan",noWheelClassName:"nowheel",userSelectionActive:!!a[15],translateExtent:a[16],lib:a[17],paneClickDistance:a[8],onTransformChange:a[29]})},i(a){i||(H(l,a),i=!0)},o(a){R(l,a),i=!1},d(a){a&&F(t),l&&l.d(a),o=!1,r()}}}function pd(e,t,n){let i,o,r,s,l,a,u,f,d,c,h,{$$slots:m={},$$scope:y}=t,{initialViewport:_=void 0}=t,{onMoveStart:g=void 0}=t,{onMove:S=void 0}=t,{onMoveEnd:k=void 0}=t,{panOnScrollMode:C}=t,{preventScrolling:V}=t,{zoomOnScroll:K}=t,{zoomOnDoubleClick:O}=t,{zoomOnPinch:M}=t,{panOnDrag:P}=t,{panOnScroll:D}=t,{paneClickDistance:X}=t;const{viewport:L,panZoom:B,selectionRect:b,minZoom:v,maxZoom:p,dragging:N,translateExtent:T,lib:A,panActivationKeyPressed:Y,zoomActivationKeyPressed:U,viewportInitialized:Q}=De();q(e,b,I=>n(15,d=I)),q(e,v,I=>n(12,a=I)),q(e,p,I=>n(13,u=I)),q(e,T,I=>n(16,c=I)),q(e,A,I=>n(17,h=I)),q(e,Y,I=>n(33,l=I)),q(e,U,I=>n(14,f=I)),q(e,Q,I=>n(36,s=I));const j=I=>L.set({x:I[0],y:I[1],zoom:I[2]});return Pn(()=>{En(Q,s=!0,s)}),e.$$set=I=>{"initialViewport"in I&&n(30,_=I.initialViewport),"onMoveStart"in I&&n(0,g=I.onMoveStart),"onMove"in I&&n(1,S=I.onMove),"onMoveEnd"in I&&n(2,k=I.onMoveEnd),"panOnScrollMode"in I&&n(3,C=I.panOnScrollMode),"preventScrolling"in I&&n(4,V=I.preventScrolling),"zoomOnScroll"in I&&n(5,K=I.zoomOnScroll),"zoomOnDoubleClick"in I&&n(6,O=I.zoomOnDoubleClick),"zoomOnPinch"in I&&n(7,M=I.zoomOnPinch),"panOnDrag"in I&&n(31,P=I.panOnDrag),"panOnScroll"in I&&n(32,D=I.panOnScroll),"paneClickDistance"in I&&n(8,X=I.paneClickDistance),"$$scope"in I&&n(34,y=I.$$scope)},e.$$.update=()=>{e.$$.dirty[0]&1073741824&&n(11,i=_||{x:0,y:0,zoom:1}),e.$$.dirty[1]&5&&n(10,o=l||P),e.$$.dirty[1]&6&&n(9,r=l||D)},[g,S,k,C,V,K,O,M,X,r,o,i,a,u,f,d,c,h,L,B,b,v,p,N,T,A,Y,U,Q,j,_,P,D,l,y,m]}class vd extends ce{constructor(t){super(),fe(this,t,pd,kd,he,{initialViewport:30,onMoveStart:0,onMove:1,onMoveEnd:2,panOnScrollMode:3,preventScrolling:4,zoomOnScroll:5,zoomOnDoubleClick:6,zoomOnPinch:7,panOnDrag:31,panOnScroll:32,paneClickDistance:8},null,[-1,-1])}}function Sd(e){let t,n,i,o;const r=e[29].default,s=Fe(r,e,e[28],null);return{c(){t=we("div"),s&&s.c(),w(t,"class","svelte-flow__pane svelte-1esy7hx"),re(t,"draggable",e[0]===!0||Array.isArray(e[0])&&e[0].includes(0)),re(t,"dragging",e[4]),re(t,"selection",e[1])},m(l,a){Z(l,t,a),s&&s.m(t,null),e[30](t),n=!0,i||(o=[Se(t,"click",function(){Pe(e[3]?void 0:hi(e[16],e[2]))&&(e[3]?void 0:hi(e[16],e[2])).apply(this,arguments)}),Se(t,"pointerdown",function(){Pe(e[3]?e[17]:void 0)&&(e[3]?e[17]:void 0).apply(this,arguments)}),Se(t,"pointermove",function(){Pe(e[3]?e[18]:void 0)&&(e[3]?e[18]:void 0).apply(this,arguments)}),Se(t,"pointerup",function(){Pe(e[3]?e[19]:void 0)&&(e[3]?e[19]:void 0).apply(this,arguments)}),Se(t,"contextmenu",function(){Pe(hi(e[20],e[2]))&&hi(e[20],e[2]).apply(this,arguments)})],i=!0)},p(l,a){e=l,s&&s.p&&(!n||a[0]&268435456)&&Ze(s,r,e,e[28],n?qe(r,e[28],a,null):Ge(e[28]),null),(!n||a[0]&1)&&re(t,"draggable",e[0]===!0||Array.isArray(e[0])&&e[0].includes(0)),(!n||a[0]&16)&&re(t,"dragging",e[4]),(!n||a[0]&2)&&re(t,"selection",e[1])},i(l){n||(H(s,l),n=!0)},o(l){R(s,l),n=!1},d(l){l&&F(t),s&&s.d(l),e[30](null),i=!1,Re(o)}}}function hi(e,t){return n=>{n.target===t&&(e==null||e(n))}}function jr(e){return t=>{const n=e.includes(t.id);return t.selected!==n&&(t.selected=n),t}}function Cd(e,t,n){let i,o,r,s,l,a,u,f,d,c,h,m,y,_,{$$slots:g={},$$scope:S}=t,{panOnDrag:k=void 0}=t,{selectionOnDrag:C=void 0}=t;const V=Nn(),{nodes:K,nodeLookup:O,edges:M,viewport:P,dragging:D,elementsSelectable:X,selectionRect:L,selectionRectMode:B,selectionKeyPressed:b,selectionMode:v,panActivationKeyPressed:p,unselectNodesAndEdges:N,connection:T}=De();q(e,O,G=>n(37,d=G)),q(e,M,G=>n(34,a=G)),q(e,P,G=>n(36,f=G)),q(e,D,G=>n(4,_=G)),q(e,X,G=>n(26,m=G)),q(e,L,G=>n(25,c=G)),q(e,B,G=>n(24,l=G)),q(e,b,G=>n(23,s=G)),q(e,v,G=>n(35,u=G)),q(e,p,G=>n(27,y=G)),q(e,T,G=>n(38,h=G));let A,Y=null,U=[],Q=!1;function j(G){if(Q||h.inProgress){Q=!1;return}V("paneclick",{event:G}),N(),B.set(null)}function I(G){var be,Me;if(Y=A.getBoundingClientRect(),!X||!o||G.button!==0||G.target!==A||!Y)return;(Me=(be=G.target)==null?void 0:be.setPointerCapture)==null||Me.call(be,G.pointerId);const{x:ge,y:_e}=mt(G,Y);N(),L.set({width:0,height:0,startX:ge,startY:_e,x:ge,y:_e})}function oe(G){if(!o||!Y||!c)return;Q=!0;const ge=mt(G,Y),_e=c.startX??0,be=c.startY??0,Me={...c,x:ge.x<_e?ge.x:_e,y:ge.y<be?ge.y:be,width:Math.abs(ge.x-_e),height:Math.abs(ge.y-be)},W=U.map(Ee=>Ee.id),ze=Ri(U,a).map(Ee=>Ee.id);U=dr(d,Me,[f.x,f.y,f.zoom],u===ii.Partial,!0);const Ve=Ri(U,a).map(Ee=>Ee.id),Be=U.map(Ee=>Ee.id);(W.length!==Be.length||Be.some(Ee=>!W.includes(Ee)))&&K.update(Ee=>Ee.map(jr(Be))),(ze.length!==Ve.length||Ve.some(Ee=>!ze.includes(Ee)))&&M.update(Ee=>Ee.map(jr(Ve))),B.set("user"),L.set(Me)}function de(G){var ge,_e;G.button===0&&((_e=(ge=G.target)==null?void 0:ge.releasePointerCapture)==null||_e.call(ge,G.pointerId),!o&&l==="user"&&G.target===A&&(j==null||j(G)),L.set(null),U.length>0&&En(B,l="nodes",l),s&&(Q=!1))}const J=G=>{if(Array.isArray(i)&&(i!=null&&i.includes(2))){G.preventDefault();return}V("panecontextmenu",{event:G})};function ke(G){fn[G?"unshift":"push"](()=>{A=G,n(2,A)})}return e.$$set=G=>{"panOnDrag"in G&&n(0,k=G.panOnDrag),"selectionOnDrag"in G&&n(21,C=G.selectionOnDrag),"$$scope"in G&&n(28,S=G.$$scope)},e.$$.update=()=>{e.$$.dirty[0]&134217729&&n(22,i=y||k),e.$$.dirty[0]&48234496&&n(1,o=s||c||C&&i!==!0),e.$$.dirty[0]&83886082&&n(3,r=m&&(o||l==="user"))},[k,o,A,r,_,O,M,P,D,X,L,B,b,v,p,T,j,I,oe,de,J,C,i,s,l,c,m,y,S,g,ke]}class Ed extends ce{constructor(t){super(),fe(this,t,Cd,Sd,he,{panOnDrag:0,selectionOnDrag:21},null,[-1,-1])}}function Md(e){let t,n;const i=e[3].default,o=Fe(i,e,e[2],null);return{c(){t=we("div"),o&&o.c(),w(t,"class","svelte-flow__viewport xyflow__viewport svelte-1floaup"),se(t,"transform","translate("+e[0].x+"px, "+e[0].y+"px) scale("+e[0].zoom+")")},m(r,s){Z(r,t,s),o&&o.m(t,null),n=!0},p(r,[s]){o&&o.p&&(!n||s&4)&&Ze(o,i,r,r[2],n?qe(i,r[2],s,null):Ge(r[2]),null),(!n||s&1)&&se(t,"transform","translate("+r[0].x+"px, "+r[0].y+"px) scale("+r[0].zoom+")")},i(r){n||(H(o,r),n=!0)},o(r){R(o,r),n=!1},d(r){r&&F(t),o&&o.d(r)}}}function zd(e,t,n){let i,{$$slots:o={},$$scope:r}=t;const{viewport:s}=De();return q(e,s,l=>n(0,i=l)),e.$$set=l=>{"$$scope"in l&&n(2,r=l.$$scope)},[i,s,r,o]}class Pd extends ce{constructor(t){super(),fe(this,t,zd,Md,he,{})}}function xr(e,t){const{store:n,onDrag:i,onDragStart:o,onDragStop:r,onNodeMouseDown:s}=t,l=cc({onDrag:i,onDragStart:o,onDragStop:r,onNodeMouseDown:s,getStoreItems:()=>{const u=x(n.snapGrid),f=x(n.viewport);return{nodes:x(n.nodes),nodeLookup:x(n.nodeLookup),edges:x(n.edges),nodeExtent:x(n.nodeExtent),snapGrid:u||[0,0],snapToGrid:!!u,nodeOrigin:x(n.nodeOrigin),multiSelectionActive:x(n.multiselectionKeyPressed),domNode:x(n.domNode),transform:[f.x,f.y,f.zoom],autoPanOnNodeDrag:x(n.autoPanOnNodeDrag),nodesDraggable:x(n.nodesDraggable),selectNodesOnDrag:x(n.selectNodesOnDrag),nodeDragThreshold:x(n.nodeDragThreshold),unselectNodesAndEdges:n.unselectNodesAndEdges,updateNodePositions:n.updateNodePositions,panBy:n.panBy}}});function a(u,f){if(f.disabled){l.destroy();return}l.update({domNode:u,noDragClassName:f.noDragClass,handleSelector:f.handleSelector,nodeId:f.nodeId,isSelectable:f.isSelectable,nodeClickDistance:f.nodeClickDistance})}return a(e,t),{update(u){a(e,u)},destroy(){l.destroy()}}}function Nd({width:e,height:t,initialWidth:n,initialHeight:i,measuredWidth:o,measuredHeight:r}){if(o===void 0&&r===void 0){const s=e??n,l=t??i;return{width:s?`width:${s}px;`:"",height:l?`height:${l}px;`:""}}return{width:e?`width:${e}px;`:"",height:t?`height:${t}px;`:""}}function $r(e){let t,n,i,o,r,s=`translate(${e[12]}px, ${e[13]}px)`,l,a,u;var f=e[27];function d(c,h){return{props:{data:c[2],id:c[1],selected:c[3]??!1,selectable:c[5]??c[28]??!0,deletable:c[7]??!0,sourcePosition:c[14],targetPosition:c[15],zIndex:c[16],dragging:c[9],draggable:c[4]??c[29]??!0,dragHandle:c[19],parentId:c[21],type:c[25],isConnectable:c[30],positionAbsoluteX:c[12],positionAbsoluteY:c[13],width:c[17],height:c[18]}}}return f&&(n=zn(f,d(e))),{c(){t=we("div"),n&&le(n.$$.fragment),w(t,"data-id",e[1]),w(t,"class",i=Ce(["svelte-flow__node",`svelte-flow__node-${e[25]}`,e[23]])),w(t,"style",o=(e[10]??"")+";"+e[26].width+e[26].height),re(t,"dragging",e[9]),re(t,"selected",e[3]),re(t,"draggable",e[4]),re(t,"connectable",e[6]),re(t,"selectable",e[5]),re(t,"nopan",e[4]),re(t,"parent",e[11]),se(t,"z-index",e[16]),se(t,"transform",s),se(t,"visibility",e[20]?"visible":"hidden")},m(c,h){Z(c,t,h),n&&ne(n,t,null),e[54](t),l=!0,a||(u=[Le(r=xr.call(null,t,{nodeId:e[1],isSelectable:e[5],disabled:!1,handleSelector:e[19],noDragClass:"nodrag",nodeClickDistance:e[22],onNodeMouseDown:e[33],onDrag:e[51],onDragStart:e[52],onDragStop:e[53],store:e[31]})),Se(t,"click",e[38]),Se(t,"mouseenter",e[55]),Se(t,"mouseleave",e[56]),Se(t,"mousemove",e[57]),Se(t,"contextmenu",e[58])],a=!0)},p(c,h){if(h[0]&134217728&&f!==(f=c[27])){if(n){Te();const y=n;R(y.$$.fragment,1,0,()=>{ie(y,1)}),Ae()}f?(n=zn(f,d(c)),le(n.$$.fragment),H(n.$$.fragment,1),ne(n,t,null)):n=null}else if(f){const y={};h[0]&4&&(y.data=c[2]),h[0]&2&&(y.id=c[1]),h[0]&8&&(y.selected=c[3]??!1),h[0]&268435488&&(y.selectable=c[5]??c[28]??!0),h[0]&128&&(y.deletable=c[7]??!0),h[0]&16384&&(y.sourcePosition=c[14]),h[0]&32768&&(y.targetPosition=c[15]),h[0]&65536&&(y.zIndex=c[16]),h[0]&512&&(y.dragging=c[9]),h[0]&536870928&&(y.draggable=c[4]??c[29]??!0),h[0]&524288&&(y.dragHandle=c[19]),h[0]&2097152&&(y.parentId=c[21]),h[0]&33554432&&(y.type=c[25]),h[0]&1073741824&&(y.isConnectable=c[30]),h[0]&4096&&(y.positionAbsoluteX=c[12]),h[0]&8192&&(y.positionAbsoluteY=c[13]),h[0]&131072&&(y.width=c[17]),h[0]&262144&&(y.height=c[18]),n.$set(y)}(!l||h[0]&2)&&w(t,"data-id",c[1]),(!l||h[0]&41943040&&i!==(i=Ce(["svelte-flow__node",`svelte-flow__node-${c[25]}`,c[23]])))&&w(t,"class",i),(!l||h[0]&67109888&&o!==(o=(c[10]??"")+";"+c[26].width+c[26].height))&&w(t,"style",o),r&&Pe(r.update)&&h[0]&4718626&&r.update.call(null,{nodeId:c[1],isSelectable:c[5],disabled:!1,handleSelector:c[19],noDragClass:"nodrag",nodeClickDistance:c[22],onNodeMouseDown:c[33],onDrag:c[51],onDragStart:c[52],onDragStop:c[53],store:c[31]}),(!l||h[0]&41943552)&&re(t,"dragging",c[9]),(!l||h[0]&41943048)&&re(t,"selected",c[3]),(!l||h[0]&41943056)&&re(t,"draggable",c[4]),(!l||h[0]&41943104)&&re(t,"connectable",c[6]),(!l||h[0]&41943072)&&re(t,"selectable",c[5]),(!l||h[0]&41943056)&&re(t,"nopan",c[4]),(!l||h[0]&41945088)&&re(t,"parent",c[11]);const m=h[0]&67109888;(h[0]&67175424||m)&&se(t,"z-index",c[16]),(h[0]&67122176&&s!==(s=`translate(${c[12]}px, ${c[13]}px)`)||m)&&se(t,"transform",s),(h[0]&68158464||m)&&se(t,"visibility",c[20]?"visible":"hidden")},i(c){l||(n&&H(n.$$.fragment,c),l=!0)},o(c){n&&R(n.$$.fragment,c),l=!1},d(c){c&&F(t),n&&ie(n),e[54](null),a=!1,Re(u)}}}function Od(e){let t,n,i=!e[8]&&$r(e);return{c(){i&&i.c(),t=We()},m(o,r){i&&i.m(o,r),Z(o,t,r),n=!0},p(o,r){o[8]?i&&(Te(),R(i,1,1,()=>{i=null}),Ae()):i?(i.p(o,r),r[0]&256&&H(i,1)):(i=$r(o),i.c(),H(i,1),i.m(t.parentNode,t))},i(o){n||(H(i),n=!0)},o(o){R(i),n=!1},d(o){o&&F(t),i&&i.d(o)}}}function Td(e,t,n){let i,o,r,s,l,a,u,f,{node:d}=t,{id:c}=t,{data:h={}}=t,{selected:m=!1}=t,{draggable:y=void 0}=t,{selectable:_=void 0}=t,{connectable:g=!0}=t,{deletable:S=!0}=t,{hidden:k=!1}=t,{dragging:C=!1}=t,{resizeObserver:V=null}=t,{style:K=void 0}=t,{type:O="default"}=t,{isParent:M=!1}=t,{positionX:P}=t,{positionY:D}=t,{sourcePosition:X=void 0}=t,{targetPosition:L=void 0}=t,{zIndex:B}=t,{measuredWidth:b=void 0}=t,{measuredHeight:v=void 0}=t,{initialWidth:p=void 0}=t,{initialHeight:N=void 0}=t,{width:T=void 0}=t,{height:A=void 0}=t,{dragHandle:Y=void 0}=t,{initialized:U=!1}=t,{parentId:Q=void 0}=t,{nodeClickDistance:j=void 0}=t,{class:I=""}=t;const oe=De(),{nodeTypes:de,nodeDragThreshold:J,selectNodesOnDrag:ke,handleNodeSelection:G,updateNodeInternals:ge,elementsSelectable:_e,nodesDraggable:be}=oe;q(e,de,z=>n(50,l=z)),q(e,_e,z=>n(28,a=z)),q(e,be,z=>n(29,u=z));let Me,W=null;const ze=Nn(),Ve=te(g);q(e,Ve,z=>n(30,f=z));let Be,Ee,$e;On("svelteflow__node_id",c),On("svelteflow__node_connectable",Ve),co(()=>{W&&(V==null||V.unobserve(W))});function Ye(z){_&&(!x(ke)||!y||x(J)>0)&&G(c),ze("nodeclick",{node:d.internals.userNode,event:z})}const _t=(z,et,Ie,Oe)=>{ze("nodedrag",{event:z,targetNode:Ie,nodes:Oe})},$=(z,et,Ie,Oe)=>{ze("nodedragstart",{event:z,targetNode:Ie,nodes:Oe})},vt=(z,et,Ie,Oe)=>{ze("nodedragstop",{event:z,targetNode:Ie,nodes:Oe})};function St(z){fn[z?"unshift":"push"](()=>{Me=z,n(24,Me)})}const Ct=z=>ze("nodemouseenter",{node:d,event:z}),It=z=>ze("nodemouseleave",{node:d,event:z}),rt=z=>ze("nodemousemove",{node:d,event:z}),ft=z=>ze("nodecontextmenu",{node:d,event:z});return e.$$set=z=>{"node"in z&&n(0,d=z.node),"id"in z&&n(1,c=z.id),"data"in z&&n(2,h=z.data),"selected"in z&&n(3,m=z.selected),"draggable"in z&&n(4,y=z.draggable),"selectable"in z&&n(5,_=z.selectable),"connectable"in z&&n(6,g=z.connectable),"deletable"in z&&n(7,S=z.deletable),"hidden"in z&&n(8,k=z.hidden),"dragging"in z&&n(9,C=z.dragging),"resizeObserver"in z&&n(39,V=z.resizeObserver),"style"in z&&n(10,K=z.style),"type"in z&&n(40,O=z.type),"isParent"in z&&n(11,M=z.isParent),"positionX"in z&&n(12,P=z.positionX),"positionY"in z&&n(13,D=z.positionY),"sourcePosition"in z&&n(14,X=z.sourcePosition),"targetPosition"in z&&n(15,L=z.targetPosition),"zIndex"in z&&n(16,B=z.zIndex),"measuredWidth"in z&&n(41,b=z.measuredWidth),"measuredHeight"in z&&n(42,v=z.measuredHeight),"initialWidth"in z&&n(43,p=z.initialWidth),"initialHeight"in z&&n(44,N=z.initialHeight),"width"in z&&n(17,T=z.width),"height"in z&&n(18,A=z.height),"dragHandle"in z&&n(19,Y=z.dragHandle),"initialized"in z&&n(20,U=z.initialized),"parentId"in z&&n(21,Q=z.parentId),"nodeClickDistance"in z&&n(22,j=z.nodeClickDistance),"class"in z&&n(23,I=z.class)},e.$$.update=()=>{e.$$.dirty[1]&512&&n(25,i=O||"default"),e.$$.dirty[0]&33554432|e.$$.dirty[1]&524288&&n(49,o=!!l[i]),e.$$.dirty[0]&33554432|e.$$.dirty[1]&524288&&n(27,r=l[i]||Fr),e.$$.dirty[1]&262656&&(o||console.warn("003",Tt.error003(O))),e.$$.dirty[0]&393216|e.$$.dirty[1]&15360&&n(26,s=Nd({width:T,height:A,initialWidth:p,initialHeight:N,measuredWidth:b,measuredHeight:v})),e.$$.dirty[0]&64&&Ve.set(!!g),e.$$.dirty[0]&50380802|e.$$.dirty[1]&229376&&((Be&&i!==Be||Ee&&X!==Ee||$e&&L!==$e)&&requestAnimationFrame(()=>ge(new Map([[c,{id:c,nodeElement:Me,force:!0}]]))),n(46,Be=i),n(47,Ee=X),n(48,$e=L)),e.$$.dirty[0]&17825792|e.$$.dirty[1]&16640&&V&&(Me!==W||!U)&&(W&&V.unobserve(W),Me&&V.observe(Me),n(45,W=Me))},[d,c,h,m,y,_,g,S,k,C,K,M,P,D,X,L,B,T,A,Y,U,Q,j,I,Me,i,s,r,a,u,f,oe,de,G,_e,be,ze,Ve,Ye,V,O,b,v,p,N,W,Be,Ee,$e,o,l,_t,$,vt,St,Ct,It,rt,ft]}class Ad extends ce{constructor(t){super(),fe(this,t,Td,Od,ao,{node:0,id:1,data:2,selected:3,draggable:4,selectable:5,connectable:6,deletable:7,hidden:8,dragging:9,resizeObserver:39,style:10,type:40,isParent:11,positionX:12,positionY:13,sourcePosition:14,targetPosition:15,zIndex:16,measuredWidth:41,measuredHeight:42,initialWidth:43,initialHeight:44,width:17,height:18,dragHandle:19,initialized:20,parentId:21,nodeClickDistance:22,class:23},null,[-1,-1])}}const{Map:Dd}=Kl;function el(e,t,n){const i=e.slice();return i[21]=t[n],i}function tl(e,t){let n,i,o;return i=new Ad({props:{node:t[21],id:t[21].id,data:t[21].data,selected:!!t[21].selected,hidden:!!t[21].hidden,draggable:!!(t[21].draggable||t[2]&&typeof t[21].draggable>"u"),selectable:!!(t[21].selectable||t[3]&&typeof t[21].selectable>"u"),connectable:!!(t[21].connectable||t[4]&&typeof t[21].connectable>"u"),deletable:t[21].deletable??!0,positionX:t[21].internals.positionAbsolute.x,positionY:t[21].internals.positionAbsolute.y,isParent:t[5].has(t[21].id),style:t[21].style,class:t[21].class,type:t[21].type??"default",sourcePosition:t[21].sourcePosition,targetPosition:t[21].targetPosition,dragging:t[21].dragging,zIndex:t[21].internals.z??0,dragHandle:t[21].dragHandle,initialized:ai(t[21]),width:t[21].width,height:t[21].height,initialWidth:t[21].initialWidth,initialHeight:t[21].initialHeight,measuredWidth:t[21].measured.width,measuredHeight:t[21].measured.height,parentId:t[21].parentId,resizeObserver:t[11],nodeClickDistance:t[0]}}),i.$on("nodeclick",t[12]),i.$on("nodemouseenter",t[13]),i.$on("nodemousemove",t[14]),i.$on("nodemouseleave",t[15]),i.$on("nodedrag",t[16]),i.$on("nodedragstart",t[17]),i.$on("nodedragstop",t[18]),i.$on("nodecontextmenu",t[19]),{key:e,first:null,c(){n=We(),le(i.$$.fragment),this.first=n},m(r,s){Z(r,n,s),ne(i,r,s),o=!0},p(r,s){t=r;const l={};s&2&&(l.node=t[21]),s&2&&(l.id=t[21].id),s&2&&(l.data=t[21].data),s&2&&(l.selected=!!t[21].selected),s&2&&(l.hidden=!!t[21].hidden),s&6&&(l.draggable=!!(t[21].draggable||t[2]&&typeof t[21].draggable>"u")),s&10&&(l.selectable=!!(t[21].selectable||t[3]&&typeof t[21].selectable>"u")),s&18&&(l.connectable=!!(t[21].connectable||t[4]&&typeof t[21].connectable>"u")),s&2&&(l.deletable=t[21].deletable??!0),s&2&&(l.positionX=t[21].internals.positionAbsolute.x),s&2&&(l.positionY=t[21].internals.positionAbsolute.y),s&34&&(l.isParent=t[5].has(t[21].id)),s&2&&(l.style=t[21].style),s&2&&(l.class=t[21].class),s&2&&(l.type=t[21].type??"default"),s&2&&(l.sourcePosition=t[21].sourcePosition),s&2&&(l.targetPosition=t[21].targetPosition),s&2&&(l.dragging=t[21].dragging),s&2&&(l.zIndex=t[21].internals.z??0),s&2&&(l.dragHandle=t[21].dragHandle),s&2&&(l.initialized=ai(t[21])),s&2&&(l.width=t[21].width),s&2&&(l.height=t[21].height),s&2&&(l.initialWidth=t[21].initialWidth),s&2&&(l.initialHeight=t[21].initialHeight),s&2&&(l.measuredWidth=t[21].measured.width),s&2&&(l.measuredHeight=t[21].measured.height),s&2&&(l.parentId=t[21].parentId),s&1&&(l.nodeClickDistance=t[0]),i.$set(l)},i(r){o||(H(i.$$.fragment,r),o=!0)},o(r){R(i.$$.fragment,r),o=!1},d(r){r&&F(n),ie(i,r)}}}function Hd(e){let t,n=[],i=new Dd,o,r=bt(e[1]);const s=l=>l[21].id;for(let l=0;l<r.length;l+=1){let a=el(e,r,l),u=s(a);i.set(u,n[l]=tl(u,a))}return{c(){t=we("div");for(let l=0;l<n.length;l+=1)n[l].c();w(t,"class","svelte-flow__nodes svelte-tf4uy4")},m(l,a){Z(l,t,a);for(let u=0;u<n.length;u+=1)n[u]&&n[u].m(t,null);o=!0},p(l,[a]){a&2111&&(r=bt(l[1]),Te(),n=In(n,a,s,1,l,r,i,t,Hn,tl,null,el),Ae())},i(l){if(!o){for(let a=0;a<r.length;a+=1)H(n[a]);o=!0}},o(l){for(let a=0;a<n.length;a+=1)R(n[a]);o=!1},d(l){l&&F(t);for(let a=0;a<n.length;a+=1)n[a].d()}}}function Id(e,t,n){let i,o,r,s,l,{nodeClickDistance:a=0}=t;const{visibleNodes:u,nodesDraggable:f,nodesConnectable:d,elementsSelectable:c,updateNodeInternals:h,parentLookup:m}=De();q(e,u,M=>n(1,i=M)),q(e,f,M=>n(2,o=M)),q(e,d,M=>n(4,s=M)),q(e,c,M=>n(3,r=M)),q(e,m,M=>n(5,l=M));const y=typeof ResizeObserver>"u"?null:new ResizeObserver(M=>{const P=new Map;M.forEach(D=>{const X=D.target.getAttribute("data-id");P.set(X,{id:X,nodeElement:D.target,force:!0})}),h(P)});co(()=>{y==null||y.disconnect()});function _(M){pe.call(this,e,M)}function g(M){pe.call(this,e,M)}function S(M){pe.call(this,e,M)}function k(M){pe.call(this,e,M)}function C(M){pe.call(this,e,M)}function V(M){pe.call(this,e,M)}function K(M){pe.call(this,e,M)}function O(M){pe.call(this,e,M)}return e.$$set=M=>{"nodeClickDistance"in M&&n(0,a=M.nodeClickDistance)},[a,i,o,r,s,l,u,f,d,c,m,y,_,g,S,k,C,V,K,O]}class Vd extends ce{constructor(t){super(),fe(this,t,Id,Hd,he,{nodeClickDistance:0})}}function nl(e){let t,n,i,o,r,s,l,a;var u=e[27];function f(d,c){return{props:{id:d[0],source:d[1],target:d[2],sourceX:d[14],sourceY:d[15],targetX:d[16],targetY:d[17],sourcePosition:d[18],targetPosition:d[19],animated:d[6],selected:d[7],label:d[10],labelStyle:d[11],data:d[3],style:d[4],interactionWidth:d[21],selectable:d[24],deletable:d[8]??!0,type:d[23],sourceHandleId:d[12],targetHandleId:d[13],markerStart:d[26],markerEnd:d[25]}}}return u&&(i=zn(u,f(e))),{c(){t=ve("svg"),n=ve("g"),i&&le(i.$$.fragment),w(n,"class",o=Ce(["svelte-flow__edge",e[22]])),w(n,"data-id",e[0]),w(n,"aria-label",r=e[20]===null?void 0:e[20]?e[20]:`Edge from ${e[1]} to ${e[2]}`),w(n,"role","img"),re(n,"animated",e[6]),re(n,"selected",e[7]),re(n,"selectable",e[24]),se(t,"z-index",e[5])},m(d,c){Z(d,t,c),ee(t,n),i&&ne(i,n,null),s=!0,l||(a=[Se(n,"click",e[32]),Se(n,"contextmenu",e[41]),Se(n,"mouseenter",e[42]),Se(n,"mouseleave",e[43])],l=!0)},p(d,c){if(c[0]&134217728&&u!==(u=d[27])){if(i){Te();const h=i;R(h.$$.fragment,1,0,()=>{ie(h,1)}),Ae()}u?(i=zn(u,f(d)),le(i.$$.fragment),H(i.$$.fragment,1),ne(i,n,null)):i=null}else if(u){const h={};c[0]&1&&(h.id=d[0]),c[0]&2&&(h.source=d[1]),c[0]&4&&(h.target=d[2]),c[0]&16384&&(h.sourceX=d[14]),c[0]&32768&&(h.sourceY=d[15]),c[0]&65536&&(h.targetX=d[16]),c[0]&131072&&(h.targetY=d[17]),c[0]&262144&&(h.sourcePosition=d[18]),c[0]&524288&&(h.targetPosition=d[19]),c[0]&64&&(h.animated=d[6]),c[0]&128&&(h.selected=d[7]),c[0]&1024&&(h.label=d[10]),c[0]&2048&&(h.labelStyle=d[11]),c[0]&8&&(h.data=d[3]),c[0]&16&&(h.style=d[4]),c[0]&2097152&&(h.interactionWidth=d[21]),c[0]&16777216&&(h.selectable=d[24]),c[0]&256&&(h.deletable=d[8]??!0),c[0]&8388608&&(h.type=d[23]),c[0]&4096&&(h.sourceHandleId=d[12]),c[0]&8192&&(h.targetHandleId=d[13]),c[0]&67108864&&(h.markerStart=d[26]),c[0]&33554432&&(h.markerEnd=d[25]),i.$set(h)}(!s||c[0]&4194304&&o!==(o=Ce(["svelte-flow__edge",d[22]])))&&w(n,"class",o),(!s||c[0]&1)&&w(n,"data-id",d[0]),(!s||c[0]&1048582&&r!==(r=d[20]===null?void 0:d[20]?d[20]:`Edge from ${d[1]} to ${d[2]}`))&&w(n,"aria-label",r),(!s||c[0]&4194368)&&re(n,"animated",d[6]),(!s||c[0]&4194432)&&re(n,"selected",d[7]),(!s||c[0]&20971520)&&re(n,"selectable",d[24]),c[0]&32&&se(t,"z-index",d[5])},i(d){s||(i&&H(i.$$.fragment,d),s=!0)},o(d){i&&R(i.$$.fragment,d),s=!1},d(d){d&&F(t),i&&ie(i),l=!1,Re(a)}}}function Xd(e){let t,n,i=!e[9]&&nl(e);return{c(){i&&i.c(),t=We()},m(o,r){i&&i.m(o,r),Z(o,t,r),n=!0},p(o,r){o[9]?i&&(Te(),R(i,1,1,()=>{i=null}),Ae()):i?(i.p(o,r),r[0]&512&&H(i,1)):(i=nl(o),i.c(),H(i,1),i.m(t.parentNode,t))},i(o){n||(H(i),n=!0)},o(o){R(i),n=!1},d(o){o&&F(t),i&&i.d(o)}}}function Rd(e,t,n){let i,o,r,s,l,a,u,f,d,{id:c}=t,{type:h="default"}=t,{source:m=""}=t,{target:y=""}=t,{data:_={}}=t,{style:g=void 0}=t,{zIndex:S=void 0}=t,{animated:k=!1}=t,{selected:C=!1}=t,{selectable:V=void 0}=t,{deletable:K=void 0}=t,{hidden:O=!1}=t,{label:M=void 0}=t,{labelStyle:P=void 0}=t,{markerStart:D=void 0}=t,{markerEnd:X=void 0}=t,{sourceHandle:L=void 0}=t,{targetHandle:B=void 0}=t,{sourceX:b}=t,{sourceY:v}=t,{targetX:p}=t,{targetY:N}=t,{sourcePosition:T}=t,{targetPosition:A}=t,{ariaLabel:Y=void 0}=t,{interactionWidth:U=void 0}=t,{class:Q=""}=t;On("svelteflow__edge_id",c);const{edgeLookup:j,edgeTypes:I,flowId:oe,elementsSelectable:de}=De();q(e,j,W=>n(44,a=W)),q(e,I,W=>n(40,d=W)),q(e,oe,W=>n(39,f=W)),q(e,de,W=>n(38,u=W));const J=Nn(),ke=Zr();function G(W){const ze=a.get(c);ze&&(ke(c),J("edgeclick",{event:W,edge:ze}))}function ge(W,ze){const Ve=a.get(c);Ve&&J(ze,{event:W,edge:Ve})}const _e=W=>{ge(W,"edgecontextmenu")},be=W=>{ge(W,"edgemouseenter")},Me=W=>{ge(W,"edgemouseleave")};return e.$$set=W=>{"id"in W&&n(0,c=W.id),"type"in W&&n(34,h=W.type),"source"in W&&n(1,m=W.source),"target"in W&&n(2,y=W.target),"data"in W&&n(3,_=W.data),"style"in W&&n(4,g=W.style),"zIndex"in W&&n(5,S=W.zIndex),"animated"in W&&n(6,k=W.animated),"selected"in W&&n(7,C=W.selected),"selectable"in W&&n(35,V=W.selectable),"deletable"in W&&n(8,K=W.deletable),"hidden"in W&&n(9,O=W.hidden),"label"in W&&n(10,M=W.label),"labelStyle"in W&&n(11,P=W.labelStyle),"markerStart"in W&&n(36,D=W.markerStart),"markerEnd"in W&&n(37,X=W.markerEnd),"sourceHandle"in W&&n(12,L=W.sourceHandle),"targetHandle"in W&&n(13,B=W.targetHandle),"sourceX"in W&&n(14,b=W.sourceX),"sourceY"in W&&n(15,v=W.sourceY),"targetX"in W&&n(16,p=W.targetX),"targetY"in W&&n(17,N=W.targetY),"sourcePosition"in W&&n(18,T=W.sourcePosition),"targetPosition"in W&&n(19,A=W.targetPosition),"ariaLabel"in W&&n(20,Y=W.ariaLabel),"interactionWidth"in W&&n(21,U=W.interactionWidth),"class"in W&&n(22,Q=W.class)},e.$$.update=()=>{e.$$.dirty[1]&8&&n(23,i=h||"default"),e.$$.dirty[0]&8388608|e.$$.dirty[1]&512&&n(27,o=d[i]||Ur),e.$$.dirty[1]&288&&n(26,r=D?`url('#${Gi(D,f)}')`:void 0),e.$$.dirty[1]&320&&n(25,s=X?`url('#${Gi(X,f)}')`:void 0),e.$$.dirty[1]&144&&n(24,l=V??u)},[c,m,y,_,g,S,k,C,K,O,M,P,L,B,b,v,p,N,T,A,Y,U,Q,i,l,s,r,o,j,I,oe,de,G,ge,h,V,D,X,u,f,d,_e,be,Me]}class Yd extends ce{constructor(t){super(),fe(this,t,Rd,Xd,ao,{id:0,type:34,source:1,target:2,data:3,style:4,zIndex:5,animated:6,selected:7,selectable:35,deletable:8,hidden:9,label:10,labelStyle:11,markerStart:36,markerEnd:37,sourceHandle:12,targetHandle:13,sourceX:14,sourceY:15,targetX:16,targetY:17,sourcePosition:18,targetPosition:19,ariaLabel:20,interactionWidth:21,class:22},null,[-1,-1])}}function Ld(e,t,n){let{onMount:i=void 0}=t,{onDestroy:o=void 0}=t;return Pn(()=>(i==null||i(),o)),e.$$set=r=>{"onMount"in r&&n(0,i=r.onMount),"onDestroy"in r&&n(1,o=r.onDestroy)},[i,o]}class Wd extends ce{constructor(t){super(),fe(this,t,Ld,null,he,{onMount:0,onDestroy:1})}}function il(e,t,n){const i=e.slice();return i[2]=t[n],i}function ol(e,t){let n,i,o;const r=[t[2]];let s={};for(let l=0;l<r.length;l+=1)s=me(s,r[l]);return i=new Jd({props:s}),{key:e,first:null,c(){n=We(),le(i.$$.fragment),this.first=n},m(l,a){Z(l,n,a),ne(i,l,a),o=!0},p(l,a){t=l;const u=a&1?ct(r,[Bt(t[2])]):{};i.$set(u)},i(l){o||(H(i.$$.fragment,l),o=!0)},o(l){R(i.$$.fragment,l),o=!1},d(l){l&&F(n),ie(i,l)}}}function Bd(e){let t,n=[],i=new Map,o,r=bt(e[0]);const s=l=>l[2].id;for(let l=0;l<r.length;l+=1){let a=il(e,r,l),u=s(a);i.set(u,n[l]=ol(u,a))}return{c(){t=ve("defs");for(let l=0;l<n.length;l+=1)n[l].c()},m(l,a){Z(l,t,a);for(let u=0;u<n.length;u+=1)n[u]&&n[u].m(t,null);o=!0},p(l,[a]){a&1&&(r=bt(l[0]),Te(),n=In(n,a,s,1,l,r,i,t,Hn,ol,null,il),Ae())},i(l){if(!o){for(let a=0;a<r.length;a+=1)H(n[a]);o=!0}},o(l){for(let a=0;a<n.length;a+=1)R(n[a]);o=!1},d(l){l&&F(t);for(let a=0;a<n.length;a+=1)n[a].d()}}}function Kd(e,t,n){let i;const{markers:o}=De();return q(e,o,r=>n(0,i=r)),[i,o]}class Fd extends ce{constructor(t){super(),fe(this,t,Kd,Bd,he,{})}}function qd(e){let t;return{c(){t=ve("polyline"),w(t,"stroke",e[6]),w(t,"stroke-linecap","round"),w(t,"stroke-linejoin","round"),w(t,"stroke-width",e[7]),w(t,"fill",e[6]),w(t,"points","-5,-4 0,0 -5,4 -5,-4")},m(n,i){Z(n,t,i)},p(n,i){i&64&&w(t,"stroke",n[6]),i&128&&w(t,"stroke-width",n[7]),i&64&&w(t,"fill",n[6])},d(n){n&&F(t)}}}function Zd(e){let t;return{c(){t=ve("polyline"),w(t,"stroke",e[6]),w(t,"stroke-linecap","round"),w(t,"stroke-linejoin","round"),w(t,"stroke-width",e[7]),w(t,"fill","none"),w(t,"points","-5,-4 0,0 -5,4")},m(n,i){Z(n,t,i)},p(n,i){i&64&&w(t,"stroke",n[6]),i&128&&w(t,"stroke-width",n[7])},d(n){n&&F(t)}}}function Gd(e){let t,n,i;function o(l,a){if(l[1]===oi.Arrow)return Zd;if(l[1]===oi.ArrowClosed)return qd}let r=o(e),s=r&&r(e);return{c(){t=ve("marker"),s&&s.c(),w(t,"class","svelte-flow__arrowhead"),w(t,"id",e[0]),w(t,"markerWidth",n=`${e[2]}`),w(t,"markerHeight",i=`${e[3]}`),w(t,"viewBox","-10 -10 20 20"),w(t,"markerUnits",e[4]),w(t,"orient",e[5]),w(t,"refX","0"),w(t,"refY","0")},m(l,a){Z(l,t,a),s&&s.m(t,null)},p(l,[a]){r===(r=o(l))&&s?s.p(l,a):(s&&s.d(1),s=r&&r(l),s&&(s.c(),s.m(t,null))),a&1&&w(t,"id",l[0]),a&4&&n!==(n=`${l[2]}`)&&w(t,"markerWidth",n),a&8&&i!==(i=`${l[3]}`)&&w(t,"markerHeight",i),a&16&&w(t,"markerUnits",l[4]),a&32&&w(t,"orient",l[5])},i:ae,o:ae,d(l){l&&F(t),s&&s.d()}}}function Ud(e,t,n){let{id:i}=t,{type:o}=t,{width:r=12.5}=t,{height:s=12.5}=t,{markerUnits:l="strokeWidth"}=t,{orient:a="auto-start-reverse"}=t,{color:u=void 0}=t,{strokeWidth:f=void 0}=t;return e.$$set=d=>{"id"in d&&n(0,i=d.id),"type"in d&&n(1,o=d.type),"width"in d&&n(2,r=d.width),"height"in d&&n(3,s=d.height),"markerUnits"in d&&n(4,l=d.markerUnits),"orient"in d&&n(5,a=d.orient),"color"in d&&n(6,u=d.color),"strokeWidth"in d&&n(7,f=d.strokeWidth)},[i,o,r,s,l,a,u,f]}class Jd extends ce{constructor(t){super(),fe(this,t,Ud,Gd,he,{id:0,type:1,width:2,height:3,markerUnits:4,orient:5,color:6,strokeWidth:7})}}function rl(e,t,n){const i=e.slice();return i[14]=t[n],i}function ll(e,t){let n,i,o;return i=new Yd({props:{id:t[14].id,source:t[14].source,target:t[14].target,data:t[14].data,style:t[14].style,animated:t[14].animated,selected:t[14].selected,selectable:t[14].selectable??t[1],deletable:t[14].deletable,hidden:t[14].hidden,label:t[14].label,labelStyle:t[14].labelStyle,markerStart:t[14].markerStart,markerEnd:t[14].markerEnd,sourceHandle:t[14].sourceHandle,targetHandle:t[14].targetHandle,sourceX:t[14].sourceX,sourceY:t[14].sourceY,targetX:t[14].targetX,targetY:t[14].targetY,sourcePosition:t[14].sourcePosition,targetPosition:t[14].targetPosition,ariaLabel:t[14].ariaLabel,interactionWidth:t[14].interactionWidth,class:t[14].class,type:t[14].type||"default",zIndex:t[14].zIndex}}),i.$on("edgeclick",t[7]),i.$on("edgecontextmenu",t[8]),i.$on("edgemouseenter",t[9]),i.$on("edgemouseleave",t[10]),{key:e,first:null,c(){n=We(),le(i.$$.fragment),this.first=n},m(r,s){Z(r,n,s),ne(i,r,s),o=!0},p(r,s){t=r;const l={};s&1&&(l.id=t[14].id),s&1&&(l.source=t[14].source),s&1&&(l.target=t[14].target),s&1&&(l.data=t[14].data),s&1&&(l.style=t[14].style),s&1&&(l.animated=t[14].animated),s&1&&(l.selected=t[14].selected),s&3&&(l.selectable=t[14].selectable??t[1]),s&1&&(l.deletable=t[14].deletable),s&1&&(l.hidden=t[14].hidden),s&1&&(l.label=t[14].label),s&1&&(l.labelStyle=t[14].labelStyle),s&1&&(l.markerStart=t[14].markerStart),s&1&&(l.markerEnd=t[14].markerEnd),s&1&&(l.sourceHandle=t[14].sourceHandle),s&1&&(l.targetHandle=t[14].targetHandle),s&1&&(l.sourceX=t[14].sourceX),s&1&&(l.sourceY=t[14].sourceY),s&1&&(l.targetX=t[14].targetX),s&1&&(l.targetY=t[14].targetY),s&1&&(l.sourcePosition=t[14].sourcePosition),s&1&&(l.targetPosition=t[14].targetPosition),s&1&&(l.ariaLabel=t[14].ariaLabel),s&1&&(l.interactionWidth=t[14].interactionWidth),s&1&&(l.class=t[14].class),s&1&&(l.type=t[14].type||"default"),s&1&&(l.zIndex=t[14].zIndex),i.$set(l)},i(r){o||(H(i.$$.fragment,r),o=!0)},o(r){R(i.$$.fragment,r),o=!1},d(r){r&&F(n),ie(i,r)}}}function sl(e){let t,n;return t=new Wd({props:{onMount:e[11],onDestroy:e[12]}}),{c(){le(t.$$.fragment)},m(i,o){ne(t,i,o),n=!0},p(i,o){const r={};o&4&&(r.onMount=i[11]),o&4&&(r.onDestroy=i[12]),t.$set(r)},i(i){n||(H(t.$$.fragment,i),n=!0)},o(i){R(t.$$.fragment,i),n=!1},d(i){ie(t,i)}}}function Qd(e){let t,n,i,o,r=[],s=new Map,l,a;i=new Fd({});let u=bt(e[0]);const f=c=>c[14].id;for(let c=0;c<u.length;c+=1){let h=rl(e,u,c),m=f(h);s.set(m,r[c]=ll(m,h))}let d=e[0].length>0&&sl(e);return{c(){t=we("div"),n=ve("svg"),le(i.$$.fragment),o=ye();for(let c=0;c<r.length;c+=1)r[c].c();l=ye(),d&&d.c(),w(n,"class","svelte-flow__marker"),w(t,"class","svelte-flow__edges")},m(c,h){Z(c,t,h),ee(t,n),ne(i,n,null),ee(t,o);for(let m=0;m<r.length;m+=1)r[m]&&r[m].m(t,null);ee(t,l),d&&d.m(t,null),a=!0},p(c,[h]){h&3&&(u=bt(c[0]),Te(),r=In(r,h,f,1,c,u,s,t,Hn,ll,l,rl),Ae()),c[0].length>0?d?(d.p(c,h),h&1&&H(d,1)):(d=sl(c),d.c(),H(d,1),d.m(t,null)):d&&(Te(),R(d,1,1,()=>{d=null}),Ae())},i(c){if(!a){H(i.$$.fragment,c);for(let h=0;h<u.length;h+=1)H(r[h]);H(d),a=!0}},o(c){R(i.$$.fragment,c);for(let h=0;h<r.length;h+=1)R(r[h]);R(d),a=!1},d(c){c&&F(t),ie(i);for(let h=0;h<r.length;h+=1)r[h].d();d&&d.d()}}}function jd(e,t,n){let i,o,r,{defaultEdgeOptions:s}=t;const{visibleEdges:l,edgesInitialized:a,edges:{setDefaultOptions:u},elementsSelectable:f}=De();q(e,l,g=>n(0,i=g)),q(e,a,g=>n(2,r=g)),q(e,f,g=>n(1,o=g)),Pn(()=>{s&&u(s)});function d(g){pe.call(this,e,g)}function c(g){pe.call(this,e,g)}function h(g){pe.call(this,e,g)}function m(g){pe.call(this,e,g)}const y=()=>{En(a,r=!0,r)},_=()=>{En(a,r=!1,r)};return e.$$set=g=>{"defaultEdgeOptions"in g&&n(6,s=g.defaultEdgeOptions)},[i,o,r,l,a,f,s,d,c,h,m,y,_]}class xd extends ce{constructor(t){super(),fe(this,t,jd,Qd,he,{defaultEdgeOptions:6})}}function al(e){let t;return{c(){t=we("div"),w(t,"class","svelte-flow__selection svelte-1iugwpu"),se(t,"width",typeof e[2]=="string"?e[2]:`${e[2]}px`),se(t,"height",typeof e[3]=="string"?e[3]:`${e[3]}px`),se(t,"transform",`translate(${e[0]}px, ${e[1]}px)`)},m(n,i){Z(n,t,i)},p(n,i){i&4&&se(t,"width",typeof n[2]=="string"?n[2]:`${n[2]}px`),i&8&&se(t,"height",typeof n[3]=="string"?n[3]:`${n[3]}px`),i&3&&se(t,"transform",`translate(${n[0]}px, ${n[1]}px)`)},d(n){n&&F(t)}}}function $d(e){let t,n=e[4]&&al(e);return{c(){n&&n.c(),t=We()},m(i,o){n&&n.m(i,o),Z(i,t,o)},p(i,[o]){i[4]?n?n.p(i,o):(n=al(i),n.c(),n.m(t.parentNode,t)):n&&(n.d(1),n=null)},i:ae,o:ae,d(i){i&&F(t),n&&n.d(i)}}}function eh(e,t,n){let{x:i=0}=t,{y:o=0}=t,{width:r=0}=t,{height:s=0}=t,{isVisible:l=!0}=t;return e.$$set=a=>{"x"in a&&n(0,i=a.x),"y"in a&&n(1,o=a.y),"width"in a&&n(2,r=a.width),"height"in a&&n(3,s=a.height),"isVisible"in a&&n(4,l=a.isVisible)},[i,o,r,s,l]}class ul extends ce{constructor(t){super(),fe(this,t,eh,$d,he,{x:0,y:1,width:2,height:3,isVisible:4})}}function th(e){var i,o,r,s;let t,n;return t=new ul({props:{isVisible:!!(e[0]&&e[1]==="user"),width:(i=e[0])==null?void 0:i.width,height:(o=e[0])==null?void 0:o.height,x:(r=e[0])==null?void 0:r.x,y:(s=e[0])==null?void 0:s.y}}),{c(){le(t.$$.fragment)},m(l,a){ne(t,l,a),n=!0},p(l,[a]){var f,d,c,h;const u={};a&3&&(u.isVisible=!!(l[0]&&l[1]==="user")),a&1&&(u.width=(f=l[0])==null?void 0:f.width),a&1&&(u.height=(d=l[0])==null?void 0:d.height),a&1&&(u.x=(c=l[0])==null?void 0:c.x),a&1&&(u.y=(h=l[0])==null?void 0:h.y),t.$set(u)},i(l){n||(H(t.$$.fragment,l),n=!0)},o(l){R(t.$$.fragment,l),n=!1},d(l){ie(t,l)}}}function nh(e,t,n){let i,o;const{selectionRect:r,selectionRectMode:s}=De();return q(e,r,l=>n(0,i=l)),q(e,s,l=>n(1,o=l)),[i,o,r,s]}class ih extends ce{constructor(t){super(),fe(this,t,nh,th,he,{})}}function fl(e){let t,n,i,o,r;return n=new ul({props:{width:"100%",height:"100%",x:0,y:0}}),{c(){t=we("div"),le(n.$$.fragment),w(t,"class","selection-wrapper nopan svelte-5pxri"),se(t,"width",e[1].width+"px"),se(t,"height",e[1].height+"px"),se(t,"transform","translate("+e[1].x+"px, "+e[1].y+"px)"),w(t,"role","button"),w(t,"tabindex","-1")},m(s,l){Z(s,t,l),ne(n,t,null),i=!0,o||(r=[Le(xr.call(null,t,{disabled:!1,store:e[2],onDrag:e[11],onDragStart:e[12],onDragStop:e[13]})),Se(t,"contextmenu",e[7]),Se(t,"click",e[8]),Se(t,"keyup",rh)],o=!0)},p(s,l){(!i||l&2)&&se(t,"width",s[1].width+"px"),(!i||l&2)&&se(t,"height",s[1].height+"px"),(!i||l&2)&&se(t,"transform","translate("+s[1].x+"px, "+s[1].y+"px)")},i(s){i||(H(n.$$.fragment,s),i=!0)},o(s){R(n.$$.fragment,s),i=!1},d(s){s&&F(t),ie(n),o=!1,Re(r)}}}function oh(e){let t=e[0]==="nodes"&&e[1]&&Ht(e[1].x)&&Ht(e[1].y),n,i,o=t&&fl(e);return{c(){o&&o.c(),n=We()},m(r,s){o&&o.m(r,s),Z(r,n,s),i=!0},p(r,[s]){s&3&&(t=r[0]==="nodes"&&r[1]&&Ht(r[1].x)&&Ht(r[1].y)),t?o?(o.p(r,s),s&3&&H(o,1)):(o=fl(r),o.c(),H(o,1),o.m(n.parentNode,n)):o&&(Te(),R(o,1,1,()=>{o=null}),Ae())},i(r){i||(H(o),i=!0)},o(r){R(o),i=!1},d(r){r&&F(n),o&&o.d(r)}}}const rh=()=>{};function lh(e,t,n){let i,o,r;const s=De(),{selectionRectMode:l,nodes:a,nodeLookup:u}=s;q(e,l,g=>n(0,r=g)),q(e,a,g=>n(9,i=g)),q(e,u,g=>n(10,o=g));const f=Nn();let d=null;function c(g){const S=i.filter(k=>k.selected);f("selectioncontextmenu",{nodes:S,event:g})}function h(g){const S=i.filter(k=>k.selected);f("selectionclick",{nodes:S,event:g})}const m=(g,S,k,C)=>{f("nodedrag",{event:g,targetNode:null,nodes:C})},y=(g,S,k,C)=>{f("nodedragstart",{event:g,targetNode:null,nodes:C})},_=(g,S,k,C)=>{f("nodedragstop",{event:g,targetNode:null,nodes:C})};return e.$$.update=()=>{e.$$.dirty&1537&&r==="nodes"&&n(1,d=Sn(o,{filter:g=>!!g.selected}))},[r,d,s,l,a,u,f,c,h,i,o,m,y,_]}class sh extends ce{constructor(t){super(),fe(this,t,lh,oh,he,{})}}function ut(e,t){let{enabled:n=!0,trigger:i,type:o="keydown"}=t;function r(s){const l=Array.isArray(i)?i:[i],a={alt:s.altKey,ctrl:s.ctrlKey,shift:s.shiftKey,meta:s.metaKey};for(const u of l){const f={modifier:[],preventDefault:!1,enabled:!0,...u},{modifier:d,key:c,callback:h,preventDefault:m,enabled:y}=f;if(y){if(d.length&&!(Array.isArray(d)?d:[d]).map(S=>typeof S=="string"?[S]:S).some(S=>S.every(k=>a[k])))continue;if(s.key===c){m&&s.preventDefault();const _={node:e,trigger:f,originalEvent:s};e.dispatchEvent(new CustomEvent("shortcut",{detail:_})),h==null||h(_)}}}}return n&&e.addEventListener(o,r),{update:s=>{const{enabled:l=!0,type:a="keydown"}=s;n&&(!l||o!==a)?e.removeEventListener(o,r):!n&&l&&e.addEventListener(a,r),n=l,o=a,i=s.trigger},destroy:()=>{e.removeEventListener(o,r)}}}function ah(e){let t,n,i,o,r,s,l,a,u,f,d,c;return{c:ae,m(h,m){d||(c=[Le(t=ut.call(null,window,{trigger:He(e[0],e[11]),type:"keydown"})),Le(n=ut.call(null,window,{trigger:He(e[0],e[12]),type:"keyup"})),Le(i=ut.call(null,window,{trigger:He(e[1],e[13]),type:"keydown"})),Le(o=ut.call(null,window,{trigger:He(e[1],e[14]),type:"keyup"})),Le(r=ut.call(null,window,{trigger:He(e[2],e[15]),type:"keydown"})),Le(s=ut.call(null,window,{trigger:He(e[2],e[16]),type:"keyup"})),Le(l=ut.call(null,window,{trigger:He(e[3],e[17]),type:"keydown"})),Le(a=ut.call(null,window,{trigger:He(e[3],e[18]),type:"keyup"})),Le(u=ut.call(null,window,{trigger:He(e[4],e[19]),type:"keydown"})),Le(f=ut.call(null,window,{trigger:He(e[4],e[20]),type:"keyup"})),Se(window,"blur",e[10]),Se(window,"contextmenu",e[10])],d=!0)},p(h,[m]){t&&Pe(t.update)&&m&1&&t.update.call(null,{trigger:He(h[0],h[11]),type:"keydown"}),n&&Pe(n.update)&&m&1&&n.update.call(null,{trigger:He(h[0],h[12]),type:"keyup"}),i&&Pe(i.update)&&m&2&&i.update.call(null,{trigger:He(h[1],h[13]),type:"keydown"}),o&&Pe(o.update)&&m&2&&o.update.call(null,{trigger:He(h[1],h[14]),type:"keyup"}),r&&Pe(r.update)&&m&4&&r.update.call(null,{trigger:He(h[2],h[15]),type:"keydown"}),s&&Pe(s.update)&&m&4&&s.update.call(null,{trigger:He(h[2],h[16]),type:"keyup"}),l&&Pe(l.update)&&m&8&&l.update.call(null,{trigger:He(h[3],h[17]),type:"keydown"}),a&&Pe(a.update)&&m&8&&a.update.call(null,{trigger:He(h[3],h[18]),type:"keyup"}),u&&Pe(u.update)&&m&16&&u.update.call(null,{trigger:He(h[4],h[19]),type:"keydown"}),f&&Pe(f.update)&&m&16&&f.update.call(null,{trigger:He(h[4],h[20]),type:"keyup"})},i:ae,o:ae,d(h){d=!1,Re(c)}}}function cl(e){return e!==null&&typeof e=="object"}function uh(e){return cl(e)?e.modifier||[]:[]}function fh(e){return e==null?"":cl(e)?e.key:e}function He(e,t){return(Array.isArray(e)?e:[e]).map(i=>{const o=fh(i);return{key:o,modifier:uh(i),enabled:o!==null,callback:t}})}function ch(e,t,n){let{selectionKey:i="Shift"}=t,{multiSelectionKey:o=si()?"Meta":"Control"}=t,{deleteKey:r="Backspace"}=t,{panActivationKey:s=" "}=t,{zoomActivationKey:l=si()?"Meta":"Control"}=t;const{selectionKeyPressed:a,multiselectionKeyPressed:u,deleteKeyPressed:f,panActivationKeyPressed:d,zoomActivationKeyPressed:c,selectionRect:h}=De();function m(){h.set(null),a.set(!1),u.set(!1),f.set(!1),d.set(!1),c.set(!1)}const y=()=>a.set(!0),_=()=>a.set(!1),g=()=>u.set(!0),S=()=>u.set(!1),k=P=>{!(P.originalEvent.ctrlKey||P.originalEvent.metaKey||P.originalEvent.shiftKey)&&!qf(P.originalEvent)&&f.set(!0)},C=()=>f.set(!1),V=()=>d.set(!0),K=()=>d.set(!1),O=()=>c.set(!0),M=()=>c.set(!1);return e.$$set=P=>{"selectionKey"in P&&n(0,i=P.selectionKey),"multiSelectionKey"in P&&n(1,o=P.multiSelectionKey),"deleteKey"in P&&n(2,r=P.deleteKey),"panActivationKey"in P&&n(3,s=P.panActivationKey),"zoomActivationKey"in P&&n(4,l=P.zoomActivationKey)},[i,o,r,s,l,a,u,f,d,c,m,y,_,g,S,k,C,V,K,O,M]}class dh extends ce{constructor(t){super(),fe(this,t,ch,ah,he,{selectionKey:0,multiSelectionKey:1,deleteKey:2,panActivationKey:3,zoomActivationKey:4})}}const hh=e=>({}),dl=e=>({});function hl(e){let t,n,i,o;const r=e[13].connectionLine,s=Fe(r,e,e[12],dl);let l=!e[2]&&gl(e);return{c(){t=ve("svg"),n=ve("g"),s&&s.c(),l&&l.c(),w(n,"class",i=Ce(["svelte-flow__connection",fr(e[3].isValid)])),w(t,"width",e[5]),w(t,"height",e[6]),w(t,"class","svelte-flow__connectionline"),w(t,"style",e[0])},m(a,u){Z(a,t,u),ee(t,n),s&&s.m(n,null),l&&l.m(n,null),o=!0},p(a,u){s&&s.p&&(!o||u&4096)&&Ze(s,r,a,a[12],o?qe(r,a[12],u,hh):Ge(a[12]),dl),a[2]?l&&(l.d(1),l=null):l?l.p(a,u):(l=gl(a),l.c(),l.m(n,null)),(!o||u&8&&i!==(i=Ce(["svelte-flow__connection",fr(a[3].isValid)])))&&w(n,"class",i),(!o||u&32)&&w(t,"width",a[5]),(!o||u&64)&&w(t,"height",a[6]),(!o||u&1)&&w(t,"style",a[0])},i(a){o||(H(s,a),o=!0)},o(a){R(s,a),o=!1},d(a){a&&F(t),s&&s.d(a),l&&l.d()}}}function gl(e){let t;return{c(){t=ve("path"),w(t,"d",e[4]),w(t,"style",e[1]),w(t,"fill","none"),w(t,"class","svelte-flow__connection-path")},m(n,i){Z(n,t,i)},p(n,i){i&16&&w(t,"d",n[4]),i&2&&w(t,"style",n[1])},d(n){n&&F(t)}}}function gh(e){let t,n,i=e[3].inProgress&&hl(e);return{c(){i&&i.c(),t=We()},m(o,r){i&&i.m(o,r),Z(o,t,r),n=!0},p(o,[r]){o[3].inProgress?i?(i.p(o,r),r&8&&H(i,1)):(i=hl(o),i.c(),H(i,1),i.m(t.parentNode,t)):i&&(Te(),R(i,1,1,()=>{i=null}),Ae())},i(o){n||(H(i),n=!0)},o(o){R(i),n=!1},d(o){o&&F(t),i&&i.d(o)}}}function mh(e,t,n){let i,o,r,s,{$$slots:l={},$$scope:a}=t,{containerStyle:u=""}=t,{style:f=""}=t,{isCustomComponent:d=!1}=t;const{width:c,height:h,connection:m,connectionLineType:y}=De();q(e,c,g=>n(5,r=g)),q(e,h,g=>n(6,s=g)),q(e,m,g=>n(3,o=g)),q(e,y,g=>n(11,i=g));let _=null;return e.$$set=g=>{"containerStyle"in g&&n(0,u=g.containerStyle),"style"in g&&n(1,f=g.style),"isCustomComponent"in g&&n(2,d=g.isCustomComponent),"$$scope"in g&&n(12,a=g.$$scope)},e.$$.update=()=>{if(e.$$.dirty&2060&&o.inProgress&&!d){const{from:g,to:S,fromPosition:k,toPosition:C}=o,V={sourceX:g.x,sourceY:g.y,sourcePosition:k,targetX:S.x,targetY:S.y,targetPosition:C};switch(i){case Jt.Bezier:n(4,[_]=Sr(V),_);break;case Jt.Step:n(4,[_]=fi({...V,borderRadius:0}),_);break;case Jt.SmoothStep:n(4,[_]=fi(V),_);break;default:n(4,[_]=Er(V),_)}}},[u,f,d,o,_,r,s,c,h,m,y,i,a,l]}class yh extends ce{constructor(t){super(),fe(this,t,mh,gh,he,{containerStyle:0,style:1,isCustomComponent:2})}}function _h(e){let t,n,i;const o=e[8].default,r=Fe(o,e,e[7],null);let s=[{class:n=Ce(["svelte-flow__panel",e[1],...e[2]])},{style:e[0]},e[5]],l={};for(let a=0;a<s.length;a+=1)l=me(l,s[a]);return{c(){t=we("div"),r&&r.c(),Xt(t,l),se(t,"pointer-events",e[3]?"none":"")},m(a,u){Z(a,t,u),r&&r.m(t,null),i=!0},p(a,[u]){r&&r.p&&(!i||u&128)&&Ze(r,o,a,a[7],i?qe(o,a[7],u,null):Ge(a[7]),null),Xt(t,l=ct(s,[(!i||u&6&&n!==(n=Ce(["svelte-flow__panel",a[1],...a[2]])))&&{class:n},(!i||u&1)&&{style:a[0]},u&32&&a[5]])),se(t,"pointer-events",a[3]?"none":"")},i(a){i||(H(r,a),i=!0)},o(a){R(r,a),i=!1},d(a){a&&F(t),r&&r.d(a)}}}function bh(e,t,n){let i;const o=["position","style","class"];let r=Ne(t,o),s,{$$slots:l={},$$scope:a}=t,{position:u="top-right"}=t,{style:f=void 0}=t,{class:d=void 0}=t;const{selectionRectMode:c}=De();return q(e,c,h=>n(3,s=h)),e.$$set=h=>{t=me(me({},t),tt(h)),n(5,r=Ne(t,o)),"position"in h&&n(6,u=h.position),"style"in h&&n(0,f=h.style),"class"in h&&n(1,d=h.class),"$$scope"in h&&n(7,a=h.$$scope)},e.$$.update=()=>{e.$$.dirty&64&&n(2,i=`${u}`.split("-"))},[f,d,i,s,c,r,u,a,l]}class to extends ce{constructor(t){super(),fe(this,t,bh,_h,he,{position:6,style:0,class:1})}}function ml(e){let t,n;return t=new to({props:{position:e[1],class:"svelte-flow__attribution","data-message":"Feel free to remove the attribution or check out how you could support us: https://svelteflow.dev/support-us",$$slots:{default:[wh]},$$scope:{ctx:e}}}),{c(){le(t.$$.fragment)},m(i,o){ne(t,i,o),n=!0},p(i,o){const r={};o&2&&(r.position=i[1]),o&4&&(r.$$scope={dirty:o,ctx:i}),t.$set(r)},i(i){n||(H(t.$$.fragment,i),n=!0)},o(i){R(t.$$.fragment,i),n=!1},d(i){ie(t,i)}}}function wh(e){let t;return{c(){t=we("a"),t.textContent="Svelte Flow",w(t,"href","https://svelteflow.dev"),w(t,"target","_blank"),w(t,"rel","noopener noreferrer"),w(t,"aria-label","Svelte Flow attribution")},m(n,i){Z(n,t,i)},p:ae,d(n){n&&F(t)}}}function kh(e){var o;let t,n,i=!((o=e[0])!=null&&o.hideAttribution)&&ml(e);return{c(){i&&i.c(),t=We()},m(r,s){i&&i.m(r,s),Z(r,t,s),n=!0},p(r,[s]){var l;(l=r[0])!=null&&l.hideAttribution?i&&(Te(),R(i,1,1,()=>{i=null}),Ae()):i?(i.p(r,s),s&1&&H(i,1)):(i=ml(r),i.c(),H(i,1),i.m(t.parentNode,t))},i(r){n||(H(i),n=!0)},o(r){R(i),n=!1},d(r){r&&F(t),i&&i.d(r)}}}function ph(e,t,n){let{proOptions:i=void 0}=t,{position:o="bottom-right"}=t;return e.$$set=r=>{"proOptions"in r&&n(0,i=r.proOptions),"position"in r&&n(1,o=r.position)},[i,o]}class vh extends ce{constructor(t){super(),fe(this,t,ph,kh,he,{proOptions:0,position:1})}}function yl(e,{nodeTypes:t,edgeTypes:n,minZoom:i,maxZoom:o,translateExtent:r,paneClickDistance:s}){t!==void 0&&e.setNodeTypes(t),n!==void 0&&e.setEdgeTypes(n),i!==void 0&&e.setMinZoom(i),o!==void 0&&e.setMaxZoom(o),r!==void 0&&e.setTranslateExtent(r),s!==void 0&&e.setPaneClickDistance(s)}const Sh=e=>Object.keys(e);function Ch(e,t){Sh(t).forEach(n=>{const i=t[n];i!==void 0&&e[n].set(i)})}function Eh(){return typeof window>"u"||!window.matchMedia?null:window.matchMedia("(prefers-color-scheme: dark)")}function Mh(e="light"){return je("light",n=>{if(e!=="system"){n(e);return}const i=Eh(),o=()=>n(i!=null&&i.matches?"dark":"light");return n(i!=null&&i.matches?"dark":"light"),i==null||i.addEventListener("change",o),()=>{i==null||i.removeEventListener("change",o)}})}const zh=e=>({}),_l=e=>({slot:"connectionLine"});function Ph(e){let t;const n=e[75].connectionLine,i=Fe(n,e,e[99],_l);return{c(){i&&i.c()},m(o,r){i&&i.m(o,r),t=!0},p(o,r){i&&i.p&&(!t||r[3]&64)&&Ze(i,n,o,o[99],t?qe(n,o[99],r,zh):Ge(o[99]),_l)},i(o){t||(H(i,o),t=!0)},o(o){R(i,o),t=!1},d(o){i&&i.d(o)}}}function Nh(e){let t,n,i,o,r,s,l,a,u,f,d,c;return t=new xd({props:{defaultEdgeOptions:e[21]}}),t.$on("edgeclick",e[78]),t.$on("edgecontextmenu",e[79]),t.$on("edgemouseenter",e[80]),t.$on("edgemouseleave",e[81]),i=new yh({props:{containerStyle:e[7],style:e[6],isCustomComponent:e[34].connectionLine,$$slots:{connectionLine:[Ph]},$$scope:{ctx:e}}}),u=new Vd({props:{nodeClickDistance:e[23]}}),u.$on("nodeclick",e[82]),u.$on("nodemouseenter",e[83]),u.$on("nodemousemove",e[84]),u.$on("nodemouseleave",e[85]),u.$on("nodedragstart",e[86]),u.$on("nodedrag",e[87]),u.$on("nodedragstop",e[88]),u.$on("nodecontextmenu",e[89]),d=new sh({}),d.$on("selectionclick",e[90]),d.$on("selectioncontextmenu",e[91]),d.$on("nodedragstart",e[92]),d.$on("nodedrag",e[93]),d.$on("nodedragstop",e[94]),{c(){le(t.$$.fragment),n=ye(),le(i.$$.fragment),o=ye(),r=we("div"),s=ye(),l=we("div"),a=ye(),le(u.$$.fragment),f=ye(),le(d.$$.fragment),w(r,"class","svelte-flow__edgelabel-renderer"),w(l,"class","svelte-flow__viewport-portal")},m(h,m){ne(t,h,m),Z(h,n,m),ne(i,h,m),Z(h,o,m),Z(h,r,m),Z(h,s,m),Z(h,l,m),Z(h,a,m),ne(u,h,m),Z(h,f,m),ne(d,h,m),c=!0},p(h,m){const y={};m[0]&2097152&&(y.defaultEdgeOptions=h[21]),t.$set(y);const _={};m[0]&128&&(_.containerStyle=h[7]),m[0]&64&&(_.style=h[6]),m[1]&8&&(_.isCustomComponent=h[34].connectionLine),m[3]&64&&(_.$$scope={dirty:m,ctx:h}),i.$set(_);const g={};m[0]&8388608&&(g.nodeClickDistance=h[23]),u.$set(g)},i(h){c||(H(t.$$.fragment,h),H(i.$$.fragment,h),H(u.$$.fragment,h),H(d.$$.fragment,h),c=!0)},o(h){R(t.$$.fragment,h),R(i.$$.fragment,h),R(u.$$.fragment,h),R(d.$$.fragment,h),c=!1},d(h){h&&(F(n),F(o),F(r),F(s),F(l),F(a),F(f)),ie(t,h),ie(i,h),ie(u,h),ie(d,h)}}}function Oh(e){let t,n,i,o;return t=new Pd({props:{$$slots:{default:[Nh]},$$scope:{ctx:e}}}),i=new ih({}),{c(){le(t.$$.fragment),n=ye(),le(i.$$.fragment)},m(r,s){ne(t,r,s),Z(r,n,s),ne(i,r,s),o=!0},p(r,s){const l={};s[0]&10485952|s[1]&8|s[3]&64&&(l.$$scope={dirty:s,ctx:r}),t.$set(l)},i(r){o||(H(t.$$.fragment,r),H(i.$$.fragment,r),o=!0)},o(r){R(t.$$.fragment,r),R(i.$$.fragment,r),o=!1},d(r){r&&F(n),ie(t,r),ie(i,r)}}}function Th(e){let t,n;return t=new Ed({props:{panOnDrag:e[17]===void 0?!0:e[17],selectionOnDrag:e[18],$$slots:{default:[Oh]},$$scope:{ctx:e}}}),t.$on("paneclick",e[95]),t.$on("panecontextmenu",e[96]),{c(){le(t.$$.fragment)},m(i,o){ne(t,i,o),n=!0},p(i,o){const r={};o[0]&131072&&(r.panOnDrag=i[17]===void 0?!0:i[17]),o[0]&262144&&(r.selectionOnDrag=i[18]),o[0]&10485952|o[1]&8|o[3]&64&&(r.$$scope={dirty:o,ctx:i}),t.$set(r)},i(i){n||(H(t.$$.fragment,i),n=!0)},o(i){R(t.$$.fragment,i),n=!1},d(i){ie(t,i)}}}function Ah(e){let t,n,i,o,r,s,l,a,u,f,d,c;n=new dh({props:{selectionKey:e[1],deleteKey:e[5],panActivationKey:e[2],multiSelectionKey:e[3],zoomActivationKey:e[4]}}),o=new vd({props:{initialViewport:e[31],onMoveStart:e[8],onMove:e[9],onMoveEnd:e[10],panOnScrollMode:e[11]===void 0?at.Free:e[11],preventScrolling:e[12]===void 0?!0:e[12],zoomOnScroll:e[13]===void 0?!0:e[13],zoomOnDoubleClick:e[14]===void 0?!0:e[14],zoomOnPinch:e[15]===void 0?!0:e[15],panOnScroll:e[16]===void 0?!1:e[16],panOnDrag:e[17]===void 0?!0:e[17],paneClickDistance:e[22]===void 0?0:e[22],$$slots:{default:[Th]},$$scope:{ctx:e}}}),s=new vh({props:{proOptions:e[20],position:e[19]}});const h=e[75].default,m=Fe(h,e,e[99],null);let y=[{style:e[24]},{class:a=Ce(["svelte-flow",e[25],e[30]])},{"data-testid":"svelte-flow__wrapper"},e[33],{role:"application"}],_={};for(let g=0;g<y.length;g+=1)_=me(_,y[g]);return{c(){t=we("div"),le(n.$$.fragment),i=ye(),le(o.$$.fragment),r=ye(),le(s.$$.fragment),l=ye(),m&&m.c(),Xt(t,_),An(()=>e[98].call(t)),re(t,"svelte-18e9ir1",!0)},m(g,S){Z(g,t,S),ne(n,t,null),ee(t,i),ne(o,t,null),ee(t,r),ne(s,t,null),ee(t,l),m&&m.m(t,null),e[97](t),u=Gl(t,e[98].bind(t)),f=!0,d||(c=[Se(t,"dragover",e[76]),Se(t,"drop",e[77])],d=!0)},p(g,S){const k={};S[0]&2&&(k.selectionKey=g[1]),S[0]&32&&(k.deleteKey=g[5]),S[0]&4&&(k.panActivationKey=g[2]),S[0]&8&&(k.multiSelectionKey=g[3]),S[0]&16&&(k.zoomActivationKey=g[4]),n.$set(k);const C={};S[0]&256&&(C.onMoveStart=g[8]),S[0]&512&&(C.onMove=g[9]),S[0]&1024&&(C.onMoveEnd=g[10]),S[0]&2048&&(C.panOnScrollMode=g[11]===void 0?at.Free:g[11]),S[0]&4096&&(C.preventScrolling=g[12]===void 0?!0:g[12]),S[0]&8192&&(C.zoomOnScroll=g[13]===void 0?!0:g[13]),S[0]&16384&&(C.zoomOnDoubleClick=g[14]===void 0?!0:g[14]),S[0]&32768&&(C.zoomOnPinch=g[15]===void 0?!0:g[15]),S[0]&65536&&(C.panOnScroll=g[16]===void 0?!1:g[16]),S[0]&131072&&(C.panOnDrag=g[17]===void 0?!0:g[17]),S[0]&4194304&&(C.paneClickDistance=g[22]===void 0?0:g[22]),S[0]&10879168|S[1]&8|S[3]&64&&(C.$$scope={dirty:S,ctx:g}),o.$set(C);const V={};S[0]&1048576&&(V.proOptions=g[20]),S[0]&524288&&(V.position=g[19]),s.$set(V),m&&m.p&&(!f||S[3]&64)&&Ze(m,h,g,g[99],f?qe(h,g[99],S,null):Ge(g[99]),null),Xt(t,_=ct(y,[(!f||S[0]&16777216)&&{style:g[24]},(!f||S[0]&1107296256&&a!==(a=Ce(["svelte-flow",g[25],g[30]])))&&{class:a},{"data-testid":"svelte-flow__wrapper"},S[1]&4&&g[33],{role:"application"}])),re(t,"svelte-18e9ir1",!0)},i(g){f||(H(n.$$.fragment,g),H(o.$$.fragment,g),H(s.$$.fragment,g),H(m,g),f=!0)},o(g){R(n.$$.fragment,g),R(o.$$.fragment,g),R(s.$$.fragment,g),R(m,g),f=!1},d(g){g&&F(t),ie(n),ie(o),ie(s),m&&m.d(g),e[97](null),u(),d=!1,Re(c)}}}function Dh(e,t,n){let i;const o=["id","nodes","edges","fitView","fitViewOptions","minZoom","maxZoom","initialViewport","viewport","nodeTypes","edgeTypes","selectionKey","selectionMode","panActivationKey","multiSelectionKey","zoomActivationKey","nodesDraggable","nodesConnectable","nodeDragThreshold","elementsSelectable","snapGrid","deleteKey","connectionRadius","connectionLineType","connectionMode","connectionLineStyle","connectionLineContainerStyle","onMoveStart","onMove","onMoveEnd","isValidConnection","translateExtent","nodeExtent","onlyRenderVisibleElements","panOnScrollMode","preventScrolling","zoomOnScroll","zoomOnDoubleClick","zoomOnPinch","panOnScroll","panOnDrag","selectionOnDrag","autoPanOnConnect","autoPanOnNodeDrag","onerror","ondelete","onedgecreate","attributionPosition","proOptions","defaultEdgeOptions","width","height","colorMode","onconnect","onconnectstart","onconnectend","onbeforedelete","oninit","nodeOrigin","paneClickDistance","nodeClickDistance","defaultMarkerColor","style","class"];let r=Ne(t,o),s,l,a=ae,u=()=>(a(),a=sn(M,E=>n(100,l=E)),M),f,d=ae,c=()=>(d(),d=sn(i,E=>n(30,f=E)),i);e.$$.on_destroy.push(()=>a()),e.$$.on_destroy.push(()=>d());let{$$slots:h={},$$scope:m}=t;const y=Bl(h);let{id:_="1"}=t,{nodes:g}=t,{edges:S}=t,{fitView:k=void 0}=t,{fitViewOptions:C=void 0}=t,{minZoom:V=void 0}=t,{maxZoom:K=void 0}=t,{initialViewport:O=void 0}=t,{viewport:M=void 0}=t;u();let{nodeTypes:P=void 0}=t,{edgeTypes:D=void 0}=t,{selectionKey:X=void 0}=t,{selectionMode:L=void 0}=t,{panActivationKey:B=void 0}=t,{multiSelectionKey:b=void 0}=t,{zoomActivationKey:v=void 0}=t,{nodesDraggable:p=void 0}=t,{nodesConnectable:N=void 0}=t,{nodeDragThreshold:T=void 0}=t,{elementsSelectable:A=void 0}=t,{snapGrid:Y=void 0}=t,{deleteKey:U=void 0}=t,{connectionRadius:Q=void 0}=t,{connectionLineType:j=void 0}=t,{connectionMode:I=At.Strict}=t,{connectionLineStyle:oe=""}=t,{connectionLineContainerStyle:de=""}=t,{onMoveStart:J=void 0}=t,{onMove:ke=void 0}=t,{onMoveEnd:G=void 0}=t,{isValidConnection:ge=void 0}=t,{translateExtent:_e=void 0}=t,{nodeExtent:be=void 0}=t,{onlyRenderVisibleElements:Me=void 0}=t,{panOnScrollMode:W=at.Free}=t,{preventScrolling:ze=!0}=t,{zoomOnScroll:Ve=!0}=t,{zoomOnDoubleClick:Be=!0}=t,{zoomOnPinch:Ee=!0}=t,{panOnScroll:$e=!1}=t,{panOnDrag:Ye=!0}=t,{selectionOnDrag:_t=void 0}=t,{autoPanOnConnect:$=!0}=t,{autoPanOnNodeDrag:vt=!0}=t,{onerror:St=void 0}=t,{ondelete:Ct=void 0}=t,{onedgecreate:It=void 0}=t,{attributionPosition:rt=void 0}=t,{proOptions:ft=void 0}=t,{defaultEdgeOptions:z=void 0}=t,{width:et=void 0}=t,{height:Ie=void 0}=t,{colorMode:Oe="light"}=t,{onconnect:en=void 0}=t,{onconnectstart:tn=void 0}=t,{onconnectend:nn=void 0}=t,{onbeforedelete:on=void 0}=t,{oninit:Et=void 0}=t,{nodeOrigin:Vt=void 0}=t,{paneClickDistance:mi=0}=t,{nodeClickDistance:Xl=0}=t,{defaultMarkerColor:oo="#b1b1b7"}=t,{style:Rl=void 0}=t,{class:Yl=void 0}=t,yi,rn,ln;const Fg=l||O,Ke=Jl(eo)?De():bd({nodes:x(g),edges:x(S),width:et,height:Ie,fitView:k,nodeOrigin:Vt,nodeExtent:be});Pn(()=>(Ke.width.set(rn),Ke.height.set(ln),Ke.domNode.set(yi),Ke.syncNodeStores(g),Ke.syncEdgeStores(S),Ke.syncViewport(M),k!==void 0&&Ke.fitViewQueued.set(k),C&&Ke.fitViewOptions.set(C),yl(Ke,{nodeTypes:P,edgeTypes:D,minZoom:V,maxZoom:K,translateExtent:_e,paneClickDistance:mi}),()=>{Ke.reset()}));const{initialized:Ll}=Ke;q(e,Ll,E=>n(74,s=E));let ro=!1;function qg(E){pe.call(this,e,E)}function Zg(E){pe.call(this,e,E)}function Gg(E){pe.call(this,e,E)}function Ug(E){pe.call(this,e,E)}function Jg(E){pe.call(this,e,E)}function Qg(E){pe.call(this,e,E)}function jg(E){pe.call(this,e,E)}function xg(E){pe.call(this,e,E)}function $g(E){pe.call(this,e,E)}function e0(E){pe.call(this,e,E)}function t0(E){pe.call(this,e,E)}function n0(E){pe.call(this,e,E)}function i0(E){pe.call(this,e,E)}function o0(E){pe.call(this,e,E)}function r0(E){pe.call(this,e,E)}function l0(E){pe.call(this,e,E)}function s0(E){pe.call(this,e,E)}function a0(E){pe.call(this,e,E)}function u0(E){pe.call(this,e,E)}function f0(E){pe.call(this,e,E)}function c0(E){pe.call(this,e,E)}function d0(E){fn[E?"unshift":"push"](()=>{yi=E,n(28,yi)})}function h0(){rn=this.clientWidth,ln=this.clientHeight,n(26,rn),n(27,ln)}return e.$$set=E=>{t=me(me({},t),tt(E)),n(33,r=Ne(t,o)),"id"in E&&n(35,_=E.id),"nodes"in E&&n(36,g=E.nodes),"edges"in E&&n(37,S=E.edges),"fitView"in E&&n(38,k=E.fitView),"fitViewOptions"in E&&n(39,C=E.fitViewOptions),"minZoom"in E&&n(40,V=E.minZoom),"maxZoom"in E&&n(41,K=E.maxZoom),"initialViewport"in E&&n(42,O=E.initialViewport),"viewport"in E&&u(n(0,M=E.viewport)),"nodeTypes"in E&&n(43,P=E.nodeTypes),"edgeTypes"in E&&n(44,D=E.edgeTypes),"selectionKey"in E&&n(1,X=E.selectionKey),"selectionMode"in E&&n(45,L=E.selectionMode),"panActivationKey"in E&&n(2,B=E.panActivationKey),"multiSelectionKey"in E&&n(3,b=E.multiSelectionKey),"zoomActivationKey"in E&&n(4,v=E.zoomActivationKey),"nodesDraggable"in E&&n(46,p=E.nodesDraggable),"nodesConnectable"in E&&n(47,N=E.nodesConnectable),"nodeDragThreshold"in E&&n(48,T=E.nodeDragThreshold),"elementsSelectable"in E&&n(49,A=E.elementsSelectable),"snapGrid"in E&&n(50,Y=E.snapGrid),"deleteKey"in E&&n(5,U=E.deleteKey),"connectionRadius"in E&&n(51,Q=E.connectionRadius),"connectionLineType"in E&&n(52,j=E.connectionLineType),"connectionMode"in E&&n(53,I=E.connectionMode),"connectionLineStyle"in E&&n(6,oe=E.connectionLineStyle),"connectionLineContainerStyle"in E&&n(7,de=E.connectionLineContainerStyle),"onMoveStart"in E&&n(8,J=E.onMoveStart),"onMove"in E&&n(9,ke=E.onMove),"onMoveEnd"in E&&n(10,G=E.onMoveEnd),"isValidConnection"in E&&n(54,ge=E.isValidConnection),"translateExtent"in E&&n(55,_e=E.translateExtent),"nodeExtent"in E&&n(56,be=E.nodeExtent),"onlyRenderVisibleElements"in E&&n(57,Me=E.onlyRenderVisibleElements),"panOnScrollMode"in E&&n(11,W=E.panOnScrollMode),"preventScrolling"in E&&n(12,ze=E.preventScrolling),"zoomOnScroll"in E&&n(13,Ve=E.zoomOnScroll),"zoomOnDoubleClick"in E&&n(14,Be=E.zoomOnDoubleClick),"zoomOnPinch"in E&&n(15,Ee=E.zoomOnPinch),"panOnScroll"in E&&n(16,$e=E.panOnScroll),"panOnDrag"in E&&n(17,Ye=E.panOnDrag),"selectionOnDrag"in E&&n(18,_t=E.selectionOnDrag),"autoPanOnConnect"in E&&n(58,$=E.autoPanOnConnect),"autoPanOnNodeDrag"in E&&n(59,vt=E.autoPanOnNodeDrag),"onerror"in E&&n(60,St=E.onerror),"ondelete"in E&&n(61,Ct=E.ondelete),"onedgecreate"in E&&n(62,It=E.onedgecreate),"attributionPosition"in E&&n(19,rt=E.attributionPosition),"proOptions"in E&&n(20,ft=E.proOptions),"defaultEdgeOptions"in E&&n(21,z=E.defaultEdgeOptions),"width"in E&&n(63,et=E.width),"height"in E&&n(64,Ie=E.height),"colorMode"in E&&n(65,Oe=E.colorMode),"onconnect"in E&&n(66,en=E.onconnect),"onconnectstart"in E&&n(67,tn=E.onconnectstart),"onconnectend"in E&&n(68,nn=E.onconnectend),"onbeforedelete"in E&&n(69,on=E.onbeforedelete),"oninit"in E&&n(70,Et=E.oninit),"nodeOrigin"in E&&n(71,Vt=E.nodeOrigin),"paneClickDistance"in E&&n(22,mi=E.paneClickDistance),"nodeClickDistance"in E&&n(23,Xl=E.nodeClickDistance),"defaultMarkerColor"in E&&n(72,oo=E.defaultMarkerColor),"style"in E&&n(24,Rl=E.style),"class"in E&&n(25,Yl=E.class),"$$scope"in E&&n(99,m=E.$$scope)},e.$$.update=()=>{e.$$.dirty[0]&201326592&&rn!==void 0&&ln!==void 0&&(Ke.width.set(rn),Ke.height.set(ln)),e.$$.dirty[2]&6400&&!ro&&s&&(Et==null||Et(),n(73,ro=!0)),e.$$.dirty[1]&2097135632|e.$$.dirty[2]&1777&&Ch(Ke,{flowId:_,connectionLineType:j,connectionRadius:Q,selectionMode:L,snapGrid:Y,defaultMarkerColor:oo,nodesDraggable:p,nodesConnectable:N,elementsSelectable:A,onlyRenderVisibleElements:Me,isValidConnection:ge,autoPanOnConnect:$,autoPanOnNodeDrag:vt,onerror:St,ondelete:Ct,onedgecreate:It,connectionMode:I,nodeDragThreshold:T,onconnect:en,onconnectstart:tn,onconnectend:nn,onbeforedelete:on,nodeOrigin:Vt}),e.$$.dirty[0]&4194304|e.$$.dirty[1]&16791040&&yl(Ke,{nodeTypes:P,edgeTypes:D,minZoom:V,maxZoom:K,translateExtent:_e,paneClickDistance:mi}),e.$$.dirty[2]&8&&c(n(29,i=Mh(Oe)))},[M,X,B,b,v,U,oe,de,J,ke,G,W,ze,Ve,Be,Ee,$e,Ye,_t,rt,ft,z,mi,Xl,Rl,Yl,rn,ln,yi,i,f,Fg,Ll,r,y,_,g,S,k,C,V,K,O,P,D,L,p,N,T,A,Y,Q,j,I,ge,_e,be,Me,$,vt,St,Ct,It,et,Ie,Oe,en,tn,nn,on,Et,Vt,oo,ro,s,h,qg,Zg,Gg,Ug,Jg,Qg,jg,xg,$g,e0,t0,n0,i0,o0,r0,l0,s0,a0,u0,f0,c0,d0,h0,m]}class Hh extends ce{constructor(t){super(),fe(this,t,Dh,Ah,he,{id:35,nodes:36,edges:37,fitView:38,fitViewOptions:39,minZoom:40,maxZoom:41,initialViewport:42,viewport:0,nodeTypes:43,edgeTypes:44,selectionKey:1,selectionMode:45,panActivationKey:2,multiSelectionKey:3,zoomActivationKey:4,nodesDraggable:46,nodesConnectable:47,nodeDragThreshold:48,elementsSelectable:49,snapGrid:50,deleteKey:5,connectionRadius:51,connectionLineType:52,connectionMode:53,connectionLineStyle:6,connectionLineContainerStyle:7,onMoveStart:8,onMove:9,onMoveEnd:10,isValidConnection:54,translateExtent:55,nodeExtent:56,onlyRenderVisibleElements:57,panOnScrollMode:11,preventScrolling:12,zoomOnScroll:13,zoomOnDoubleClick:14,zoomOnPinch:15,panOnScroll:16,panOnDrag:17,selectionOnDrag:18,autoPanOnConnect:58,autoPanOnNodeDrag:59,onerror:60,ondelete:61,onedgecreate:62,attributionPosition:19,proOptions:20,defaultEdgeOptions:21,width:63,height:64,colorMode:65,onconnect:66,onconnectstart:67,onconnectend:68,onbeforedelete:69,oninit:70,nodeOrigin:71,paneClickDistance:22,nodeClickDistance:23,defaultMarkerColor:72,style:24,class:25},null,[-1,-1,-1,-1])}}const Ih=e=>({}),bl=e=>({class:"button-svg"});function Vh(e){let t,n,i,o,r;const s=e[8].default,l=Fe(s,e,e[7],bl);let a=[{type:"button"},{class:n=Ce(["svelte-flow__controls-button",e[0]])},e[6]],u={};for(let f=0;f<a.length;f+=1)u=me(u,a[f]);return{c(){t=we("button"),l&&l.c(),Xt(t,u),se(t,"--xy-controls-button-background-color-props",e[1]),se(t,"--xy-controls-button-background-color-hover-props",e[2]),se(t,"--xy-controls-button-color-props",e[3]),se(t,"--xy-controls-button-color-hover-props",e[4]),se(t,"--xy-controls-button-border-color-props",e[5])},m(f,d){Z(f,t,d),l&&l.m(t,null),t.autofocus&&t.focus(),i=!0,o||(r=Se(t,"click",e[9]),o=!0)},p(f,[d]){l&&l.p&&(!i||d&128)&&Ze(l,s,f,f[7],i?qe(s,f[7],d,Ih):Ge(f[7]),bl),Xt(t,u=ct(a,[{type:"button"},(!i||d&1&&n!==(n=Ce(["svelte-flow__controls-button",f[0]])))&&{class:n},d&64&&f[6]])),se(t,"--xy-controls-button-background-color-props",f[1]),se(t,"--xy-controls-button-background-color-hover-props",f[2]),se(t,"--xy-controls-button-color-props",f[3]),se(t,"--xy-controls-button-color-hover-props",f[4]),se(t,"--xy-controls-button-border-color-props",f[5])},i(f){i||(H(l,f),i=!0)},o(f){R(l,f),i=!1},d(f){f&&F(t),l&&l.d(f),o=!1,r()}}}function Xh(e,t,n){const i=["class","bgColor","bgColorHover","color","colorHover","borderColor"];let o=Ne(t,i),{$$slots:r={},$$scope:s}=t,{class:l=void 0}=t,{bgColor:a=void 0}=t,{bgColorHover:u=void 0}=t,{color:f=void 0}=t,{colorHover:d=void 0}=t,{borderColor:c=void 0}=t;function h(m){pe.call(this,e,m)}return e.$$set=m=>{t=me(me({},t),tt(m)),n(6,o=Ne(t,i)),"class"in m&&n(0,l=m.class),"bgColor"in m&&n(1,a=m.bgColor),"bgColorHover"in m&&n(2,u=m.bgColorHover),"color"in m&&n(3,f=m.color),"colorHover"in m&&n(4,d=m.colorHover),"borderColor"in m&&n(5,c=m.borderColor),"$$scope"in m&&n(7,s=m.$$scope)},[l,a,u,f,d,c,o,s,r,h]}class gi extends ce{constructor(t){super(),fe(this,t,Xh,Vh,he,{class:0,bgColor:1,bgColorHover:2,color:3,colorHover:4,borderColor:5})}}function Rh(e){let t,n;return{c(){t=ve("svg"),n=ve("path"),w(n,"d","M32 18.133H18.133V32h-4.266V18.133H0v-4.266h13.867V0h4.266v13.867H32z"),w(t,"xmlns","http://www.w3.org/2000/svg"),w(t,"viewBox","0 0 32 32")},m(i,o){Z(i,t,o),ee(t,n)},p:ae,i:ae,o:ae,d(i){i&&F(t)}}}class Yh extends ce{constructor(t){super(),fe(this,t,null,Rh,he,{})}}function Lh(e){let t,n;return{c(){t=ve("svg"),n=ve("path"),w(n,"d","M0 0h32v4.2H0z"),w(t,"xmlns","http://www.w3.org/2000/svg"),w(t,"viewBox","0 0 32 5")},m(i,o){Z(i,t,o),ee(t,n)},p:ae,i:ae,o:ae,d(i){i&&F(t)}}}class Wh extends ce{constructor(t){super(),fe(this,t,null,Lh,he,{})}}function Bh(e){let t,n;return{c(){t=ve("svg"),n=ve("path"),w(n,"d","M3.692 4.63c0-.53.4-.938.939-.938h5.215V0H4.708C2.13 0 0 2.054 0 4.63v5.216h3.692V4.631zM27.354 0h-5.2v3.692h5.17c.53 0 .984.4.984.939v5.215H32V4.631A4.624 4.624 0 0027.354 0zm.954 24.83c0 .532-.4.94-.939.94h-5.215v3.768h5.215c2.577 0 4.631-2.13 4.631-4.707v-5.139h-3.692v5.139zm-23.677.94c-.531 0-.939-.4-.939-.94v-5.138H0v5.139c0 2.577 2.13 4.707 4.708 4.707h5.138V25.77H4.631z"),w(t,"xmlns","http://www.w3.org/2000/svg"),w(t,"viewBox","0 0 32 30")},m(i,o){Z(i,t,o),ee(t,n)},p:ae,i:ae,o:ae,d(i){i&&F(t)}}}class Kh extends ce{constructor(t){super(),fe(this,t,null,Bh,he,{})}}function Fh(e){let t,n;return{c(){t=ve("svg"),n=ve("path"),w(n,"d","M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0 8 0 4.571 3.429 4.571 7.619v3.048H3.048A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047zm4.724-13.866H7.467V7.619c0-2.59 2.133-4.724 4.723-4.724 2.591 0 4.724 2.133 4.724 4.724v3.048z"),w(t,"xmlns","http://www.w3.org/2000/svg"),w(t,"viewBox","0 0 25 32")},m(i,o){Z(i,t,o),ee(t,n)},p:ae,i:ae,o:ae,d(i){i&&F(t)}}}class qh extends ce{constructor(t){super(),fe(this,t,null,Fh,he,{})}}function Zh(e){let t,n;return{c(){t=ve("svg"),n=ve("path"),w(n,"d","M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0c-4.114 1.828-1.37 2.133.305 2.438 1.676.305 4.42 2.59 4.42 5.181v3.048H3.047A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047z"),w(t,"xmlns","http://www.w3.org/2000/svg"),w(t,"viewBox","0 0 25 32")},m(i,o){Z(i,t,o),ee(t,n)},p:ae,i:ae,o:ae,d(i){i&&F(t)}}}class Gh extends ce{constructor(t){super(),fe(this,t,null,Zh,he,{})}}const Uh=e=>({}),wl=e=>({}),Jh=e=>({}),kl=e=>({});function pl(e){let t,n,i,o;const r=[{class:"svelte-flow__controls-zoomin"},{title:"zoom in"},{"aria-label":"zoom in"},{disabled:e[9]},e[17]];let s={$$slots:{default:[Qh]},$$scope:{ctx:e}};for(let u=0;u<r.length;u+=1)s=me(s,r[u]);t=new gi({props:s}),t.$on("click",e[18]);const l=[{class:"svelte-flow__controls-zoomout"},{title:"zoom out"},{"aria-label":"zoom out"},{disabled:e[10]},e[17]];let a={$$slots:{default:[jh]},$$scope:{ctx:e}};for(let u=0;u<l.length;u+=1)a=me(a,l[u]);return i=new gi({props:a}),i.$on("click",e[19]),{c(){le(t.$$.fragment),n=ye(),le(i.$$.fragment)},m(u,f){ne(t,u,f),Z(u,n,f),ne(i,u,f),o=!0},p(u,f){const d=f[0]&131584?ct(r,[r[0],r[1],r[2],f[0]&512&&{disabled:u[9]},f[0]&131072&&Bt(u[17])]):{};f[1]&32&&(d.$$scope={dirty:f,ctx:u}),t.$set(d);const c=f[0]&132096?ct(l,[l[0],l[1],l[2],f[0]&1024&&{disabled:u[10]},f[0]&131072&&Bt(u[17])]):{};f[1]&32&&(c.$$scope={dirty:f,ctx:u}),i.$set(c)},i(u){o||(H(t.$$.fragment,u),H(i.$$.fragment,u),o=!0)},o(u){R(t.$$.fragment,u),R(i.$$.fragment,u),o=!1},d(u){u&&F(n),ie(t,u),ie(i,u)}}}function Qh(e){let t,n;return t=new Yh({}),{c(){le(t.$$.fragment)},m(i,o){ne(t,i,o),n=!0},i(i){n||(H(t.$$.fragment,i),n=!0)},o(i){R(t.$$.fragment,i),n=!1},d(i){ie(t,i)}}}function jh(e){let t,n;return t=new Wh({}),{c(){le(t.$$.fragment)},m(i,o){ne(t,i,o),n=!0},i(i){n||(H(t.$$.fragment,i),n=!0)},o(i){R(t.$$.fragment,i),n=!1},d(i){ie(t,i)}}}function vl(e){let t,n;const i=[{class:"svelte-flow__controls-fitview"},{title:"fit view"},{"aria-label":"fit view"},e[17]];let o={$$slots:{default:[xh]},$$scope:{ctx:e}};for(let r=0;r<i.length;r+=1)o=me(o,i[r]);return t=new gi({props:o}),t.$on("click",e[20]),{c(){le(t.$$.fragment)},m(r,s){ne(t,r,s),n=!0},p(r,s){const l=s[0]&131072?ct(i,[i[0],i[1],i[2],Bt(r[17])]):{};s[1]&32&&(l.$$scope={dirty:s,ctx:r}),t.$set(l)},i(r){n||(H(t.$$.fragment,r),n=!0)},o(r){R(t.$$.fragment,r),n=!1},d(r){ie(t,r)}}}function xh(e){let t,n;return t=new Kh({}),{c(){le(t.$$.fragment)},m(i,o){ne(t,i,o),n=!0},i(i){n||(H(t.$$.fragment,i),n=!0)},o(i){R(t.$$.fragment,i),n=!1},d(i){ie(t,i)}}}function Sl(e){let t,n;const i=[{class:"svelte-flow__controls-interactive"},{title:"toggle interactivity"},{"aria-label":"toggle interactivity"},e[17]];let o={$$slots:{default:[tg]},$$scope:{ctx:e}};for(let r=0;r<i.length;r+=1)o=me(o,i[r]);return t=new gi({props:o}),t.$on("click",e[21]),{c(){le(t.$$.fragment)},m(r,s){ne(t,r,s),n=!0},p(r,s){const l=s[0]&131072?ct(i,[i[0],i[1],i[2],Bt(r[17])]):{};s[0]&256|s[1]&32&&(l.$$scope={dirty:s,ctx:r}),t.$set(l)},i(r){n||(H(t.$$.fragment,r),n=!0)},o(r){R(t.$$.fragment,r),n=!1},d(r){ie(t,r)}}}function $h(e){let t,n;return t=new qh({}),{c(){le(t.$$.fragment)},m(i,o){ne(t,i,o),n=!0},i(i){n||(H(t.$$.fragment,i),n=!0)},o(i){R(t.$$.fragment,i),n=!1},d(i){ie(t,i)}}}function eg(e){let t,n;return t=new Gh({}),{c(){le(t.$$.fragment)},m(i,o){ne(t,i,o),n=!0},i(i){n||(H(t.$$.fragment,i),n=!0)},o(i){R(t.$$.fragment,i),n=!1},d(i){ie(t,i)}}}function tg(e){let t,n,i,o;const r=[eg,$h],s=[];function l(a,u){return a[8]?0:1}return t=l(e),n=s[t]=r[t](e),{c(){n.c(),i=We()},m(a,u){s[t].m(a,u),Z(a,i,u),o=!0},p(a,u){let f=t;t=l(a),t!==f&&(Te(),R(s[f],1,1,()=>{s[f]=null}),Ae(),n=s[t],n||(n=s[t]=r[t](a),n.c()),H(n,1),n.m(i.parentNode,i))},i(a){o||(H(n),o=!0)},o(a){R(n),o=!1},d(a){a&&F(i),s[t].d(a)}}}function ng(e){let t,n,i,o,r,s;const l=e[35].before,a=Fe(l,e,e[36],kl);let u=e[1]&&pl(e),f=e[2]&&vl(e),d=e[3]&&Sl(e);const c=e[35].default,h=Fe(c,e,e[36],null),m=e[35].after,y=Fe(m,e,e[36],wl);return{c(){a&&a.c(),t=ye(),u&&u.c(),n=ye(),f&&f.c(),i=ye(),d&&d.c(),o=ye(),h&&h.c(),r=ye(),y&&y.c()},m(_,g){a&&a.m(_,g),Z(_,t,g),u&&u.m(_,g),Z(_,n,g),f&&f.m(_,g),Z(_,i,g),d&&d.m(_,g),Z(_,o,g),h&&h.m(_,g),Z(_,r,g),y&&y.m(_,g),s=!0},p(_,g){a&&a.p&&(!s||g[1]&32)&&Ze(a,l,_,_[36],s?qe(l,_[36],g,Jh):Ge(_[36]),kl),_[1]?u?(u.p(_,g),g[0]&2&&H(u,1)):(u=pl(_),u.c(),H(u,1),u.m(n.parentNode,n)):u&&(Te(),R(u,1,1,()=>{u=null}),Ae()),_[2]?f?(f.p(_,g),g[0]&4&&H(f,1)):(f=vl(_),f.c(),H(f,1),f.m(i.parentNode,i)):f&&(Te(),R(f,1,1,()=>{f=null}),Ae()),_[3]?d?(d.p(_,g),g[0]&8&&H(d,1)):(d=Sl(_),d.c(),H(d,1),d.m(o.parentNode,o)):d&&(Te(),R(d,1,1,()=>{d=null}),Ae()),h&&h.p&&(!s||g[1]&32)&&Ze(h,c,_,_[36],s?qe(c,_[36],g,null):Ge(_[36]),null),y&&y.p&&(!s||g[1]&32)&&Ze(y,m,_,_[36],s?qe(m,_[36],g,Uh):Ge(_[36]),wl)},i(_){s||(H(a,_),H(u),H(f),H(d),H(h,_),H(y,_),s=!0)},o(_){R(a,_),R(u),R(f),R(d),R(h,_),R(y,_),s=!1},d(_){_&&(F(t),F(n),F(i),F(o),F(r)),a&&a.d(_),u&&u.d(_),f&&f.d(_),d&&d.d(_),h&&h.d(_),y&&y.d(_)}}}function ig(e){let t,n;return t=new to({props:{class:Ce(["svelte-flow__controls",e[7],e[6]]),position:e[0],"data-testid":"svelte-flow__controls","aria-label":e[4]??"Svelte Flow controls",style:e[5],$$slots:{default:[ng]},$$scope:{ctx:e}}}),{c(){le(t.$$.fragment)},m(i,o){ne(t,i,o),n=!0},p(i,o){const r={};o[0]&192&&(r.class=Ce(["svelte-flow__controls",i[7],i[6]])),o[0]&1&&(r.position=i[0]),o[0]&16&&(r["aria-label"]=i[4]??"Svelte Flow controls"),o[0]&32&&(r.style=i[5]),o[0]&1806|o[1]&32&&(r.$$scope={dirty:o,ctx:i}),t.$set(r)},i(i){n||(H(t.$$.fragment,i),n=!0)},o(i){R(t.$$.fragment,i),n=!1},d(i){ie(t,i)}}}function og(e,t,n){let i,o,r,s,l,a,u,f,d,c,{$$slots:h={},$$scope:m}=t,{position:y="bottom-left"}=t,{showZoom:_=!0}=t,{showFitView:g=!0}=t,{showLock:S=!0}=t,{buttonBgColor:k=void 0}=t,{buttonBgColorHover:C=void 0}=t,{buttonColor:V=void 0}=t,{buttonColorHover:K=void 0}=t,{buttonBorderColor:O=void 0}=t,{ariaLabel:M=void 0}=t,{style:P=void 0}=t,{orientation:D="vertical"}=t,{fitViewOptions:X=void 0}=t,{class:L=""}=t;const{zoomIn:B,zoomOut:b,fitView:v,viewport:p,minZoom:N,maxZoom:T,nodesDraggable:A,nodesConnectable:Y,elementsSelectable:U}=De();q(e,p,J=>n(30,a=J)),q(e,N,J=>n(31,u=J)),q(e,T,J=>n(29,l=J)),q(e,A,J=>n(34,c=J)),q(e,Y,J=>n(33,d=J)),q(e,U,J=>n(32,f=J));const Q={bgColor:k,bgColorHover:C,color:V,colorHover:K,borderColor:O},j=()=>{B()},I=()=>{b()},oe=()=>{v(X)},de=()=>{n(8,i=!i),A.set(i),Y.set(i),U.set(i)};return e.$$set=J=>{"position"in J&&n(0,y=J.position),"showZoom"in J&&n(1,_=J.showZoom),"showFitView"in J&&n(2,g=J.showFitView),"showLock"in J&&n(3,S=J.showLock),"buttonBgColor"in J&&n(22,k=J.buttonBgColor),"buttonBgColorHover"in J&&n(23,C=J.buttonBgColorHover),"buttonColor"in J&&n(24,V=J.buttonColor),"buttonColorHover"in J&&n(25,K=J.buttonColorHover),"buttonBorderColor"in J&&n(26,O=J.buttonBorderColor),"ariaLabel"in J&&n(4,M=J.ariaLabel),"style"in J&&n(5,P=J.style),"orientation"in J&&n(27,D=J.orientation),"fitViewOptions"in J&&n(28,X=J.fitViewOptions),"class"in J&&n(6,L=J.class),"$$scope"in J&&n(36,m=J.$$scope)},e.$$.update=()=>{e.$$.dirty[1]&14&&n(8,i=c||d||f),e.$$.dirty[0]&1073741824|e.$$.dirty[1]&1&&n(10,o=a.zoom<=u),e.$$.dirty[0]&1610612736&&n(9,r=a.zoom>=l),e.$$.dirty[0]&134217728&&n(7,s=D==="horizontal"?"horizontal":"vertical")},[y,_,g,S,M,P,L,s,i,r,o,p,N,T,A,Y,U,Q,j,I,oe,de,k,C,V,K,O,D,X,l,a,u,f,d,c,h,m]}class rg extends ce{constructor(t){super(),fe(this,t,og,ig,he,{position:0,showZoom:1,showFitView:2,showLock:3,buttonBgColor:22,buttonBgColorHover:23,buttonColor:24,buttonColorHover:25,buttonBorderColor:26,ariaLabel:4,style:5,orientation:27,fitViewOptions:28,class:6},null,[-1,-1])}}var yt;(function(e){e.Lines="lines",e.Dots="dots",e.Cross="cross"})(yt||(yt={}));function lg(e){let t,n;return{c(){t=ve("circle"),w(t,"cx",e[0]),w(t,"cy",e[0]),w(t,"r",e[0]),w(t,"class",n=Ce(["svelte-flow__background-pattern","dots",e[1]]))},m(i,o){Z(i,t,o)},p(i,[o]){o&1&&w(t,"cx",i[0]),o&1&&w(t,"cy",i[0]),o&1&&w(t,"r",i[0]),o&2&&n!==(n=Ce(["svelte-flow__background-pattern","dots",i[1]]))&&w(t,"class",n)},i:ae,o:ae,d(i){i&&F(t)}}}function sg(e,t,n){let{radius:i=5}=t,{class:o=""}=t;return e.$$set=r=>{"radius"in r&&n(0,i=r.radius),"class"in r&&n(1,o=r.class)},[i,o]}class ag extends ce{constructor(t){super(),fe(this,t,sg,lg,he,{radius:0,class:1})}}function ug(e){let t,n,i;return{c(){t=ve("path"),w(t,"stroke-width",e[0]),w(t,"d",n=`M${e[1][0]/2} 0 V${e[1][1]} M0 ${e[1][1]/2} H${e[1][0]}`),w(t,"class",i=Ce(["svelte-flow__background-pattern",e[2],e[3]]))},m(o,r){Z(o,t,r)},p(o,[r]){r&1&&w(t,"stroke-width",o[0]),r&2&&n!==(n=`M${o[1][0]/2} 0 V${o[1][1]} M0 ${o[1][1]/2} H${o[1][0]}`)&&w(t,"d",n),r&12&&i!==(i=Ce(["svelte-flow__background-pattern",o[2],o[3]]))&&w(t,"class",i)},i:ae,o:ae,d(o){o&&F(t)}}}function fg(e,t,n){let{lineWidth:i=1}=t,{dimensions:o}=t,{variant:r=void 0}=t,{class:s=""}=t;return e.$$set=l=>{"lineWidth"in l&&n(0,i=l.lineWidth),"dimensions"in l&&n(1,o=l.dimensions),"variant"in l&&n(2,r=l.variant),"class"in l&&n(3,s=l.class)},[i,o,r,s]}class cg extends ce{constructor(t){super(),fe(this,t,fg,ug,he,{lineWidth:0,dimensions:1,variant:2,class:3})}}function dg(e){let t,n;return t=new cg({props:{dimensions:e[6],variant:e[0],lineWidth:e[1],class:e[4]}}),{c(){le(t.$$.fragment)},m(i,o){ne(t,i,o),n=!0},p(i,o){const r={};o&64&&(r.dimensions=i[6]),o&1&&(r.variant=i[0]),o&2&&(r.lineWidth=i[1]),o&16&&(r.class=i[4]),t.$set(r)},i(i){n||(H(t.$$.fragment,i),n=!0)},o(i){R(t.$$.fragment,i),n=!1},d(i){ie(t,i)}}}function hg(e){let t,n;return t=new ag({props:{radius:e[7]/2,class:e[4]}}),{c(){le(t.$$.fragment)},m(i,o){ne(t,i,o),n=!0},p(i,o){const r={};o&128&&(r.radius=i[7]/2),o&16&&(r.class=i[4]),t.$set(r)},i(i){n||(H(t.$$.fragment,i),n=!0)},o(i){R(t.$$.fragment,i),n=!1},d(i){ie(t,i)}}}function gg(e){let t,n,i,o,r,s,l,a,u,f,d,c,h;const m=[hg,dg],y=[];function _(g,S){return g[14]?0:1}return i=_(e),o=y[i]=m[i](e),{c(){t=ve("svg"),n=ve("pattern"),o.c(),f=ve("rect"),w(n,"id",e[11]),w(n,"x",r=e[9].x%e[8][0]),w(n,"y",s=e[9].y%e[8][1]),w(n,"width",l=e[8][0]),w(n,"height",a=e[8][1]),w(n,"patternUnits","userSpaceOnUse"),w(n,"patternTransform",u=`translate(-${e[10][0]},-${e[10][1]})`),w(f,"x","0"),w(f,"y","0"),w(f,"width","100%"),w(f,"height","100%"),w(f,"fill",d=`url(#${e[11]})`),w(t,"class",c=fo(Ce(["svelte-flow__background",e[5]]))+" svelte-1r7pe8d"),w(t,"data-testid","svelte-flow__background"),se(t,"--xy-background-color-props",e[2]),se(t,"--xy-background-pattern-color-props",e[3])},m(g,S){Z(g,t,S),ee(t,n),y[i].m(n,null),ee(t,f),h=!0},p(g,[S]){o.p(g,S),(!h||S&2048)&&w(n,"id",g[11]),(!h||S&768&&r!==(r=g[9].x%g[8][0]))&&w(n,"x",r),(!h||S&768&&s!==(s=g[9].y%g[8][1]))&&w(n,"y",s),(!h||S&256&&l!==(l=g[8][0]))&&w(n,"width",l),(!h||S&256&&a!==(a=g[8][1]))&&w(n,"height",a),(!h||S&1024&&u!==(u=`translate(-${g[10][0]},-${g[10][1]})`))&&w(n,"patternTransform",u),(!h||S&2048&&d!==(d=`url(#${g[11]})`))&&w(f,"fill",d),(!h||S&32&&c!==(c=fo(Ce(["svelte-flow__background",g[5]]))+" svelte-1r7pe8d"))&&w(t,"class",c),S&4&&se(t,"--xy-background-color-props",g[2]),S&8&&se(t,"--xy-background-pattern-color-props",g[3])},i(g){h||(H(o),h=!0)},o(g){R(o),h=!1},d(g){g&&F(t),y[i].d()}}}const mg={[yt.Dots]:1,[yt.Lines]:1,[yt.Cross]:6};function yg(e,t,n){let i,o,r,s,l,a,u,{id:f=void 0}=t,{variant:d=yt.Dots}=t,{gap:c=20}=t,{size:h=1}=t,{lineWidth:m=1}=t,{bgColor:y=void 0}=t,{patternColor:_=void 0}=t,{patternClass:g=void 0}=t,{class:S=""}=t;const{viewport:k,flowId:C}=De();q(e,k,P=>n(9,a=P)),q(e,C,P=>n(18,u=P));const V=h||mg[d],K=d===yt.Dots,O=d===yt.Cross,M=Array.isArray(c)?c:[c,c];return e.$$set=P=>{"id"in P&&n(15,f=P.id),"variant"in P&&n(0,d=P.variant),"gap"in P&&n(16,c=P.gap),"size"in P&&n(17,h=P.size),"lineWidth"in P&&n(1,m=P.lineWidth),"bgColor"in P&&n(2,y=P.bgColor),"patternColor"in P&&n(3,_=P.patternColor),"patternClass"in P&&n(4,g=P.patternClass),"class"in P&&n(5,S=P.class)},e.$$.update=()=>{e.$$.dirty&294912&&n(11,i=`background-pattern-${u}-${f||""}`),e.$$.dirty&512&&n(8,o=[M[0]*a.zoom||1,M[1]*a.zoom||1]),e.$$.dirty&512&&n(7,r=V*a.zoom),e.$$.dirty&384&&n(6,s=O?[r,r]:o),e.$$.dirty&192&&n(10,l=K?[r/2,r/2]:[s[0]/2,s[1]/2])},[d,m,y,_,g,S,s,r,o,a,l,i,k,C,K,f,c,h,u]}class _g extends ce{constructor(t){super(),fe(this,t,yg,gg,he,{id:15,variant:0,gap:16,size:17,lineWidth:1,bgColor:2,patternColor:3,patternClass:4,class:5})}}function bg(e){let t,n,i;return{c(){t=ve("rect"),w(t,"class",n=Ce(["svelte-flow__minimap-node",e[10]])),w(t,"x",e[0]),w(t,"y",e[1]),w(t,"rx",e[4]),w(t,"ry",e[4]),w(t,"width",e[2]),w(t,"height",e[3]),w(t,"style",i=`${e[5]?`fill: ${e[5]};`:""}${e[7]?`stroke: ${e[7]};`:""}${e[8]?`stroke-width: ${e[8]};`:""}`),w(t,"shape-rendering",e[6]),re(t,"selected",e[9])},m(o,r){Z(o,t,r)},p(o,[r]){r&1024&&n!==(n=Ce(["svelte-flow__minimap-node",o[10]]))&&w(t,"class",n),r&1&&w(t,"x",o[0]),r&2&&w(t,"y",o[1]),r&16&&w(t,"rx",o[4]),r&16&&w(t,"ry",o[4]),r&4&&w(t,"width",o[2]),r&8&&w(t,"height",o[3]),r&416&&i!==(i=`${o[5]?`fill: ${o[5]};`:""}${o[7]?`stroke: ${o[7]};`:""}${o[8]?`stroke-width: ${o[8]};`:""}`)&&w(t,"style",i),r&64&&w(t,"shape-rendering",o[6]),r&1536&&re(t,"selected",o[9])},i:ae,o:ae,d(o){o&&F(t)}}}function wg(e,t,n){let{x:i}=t,{y:o}=t,{width:r=0}=t,{height:s=0}=t,{borderRadius:l=5}=t,{color:a=void 0}=t,{shapeRendering:u}=t,{strokeColor:f=void 0}=t,{strokeWidth:d=2}=t,{selected:c=!1}=t,{class:h=""}=t;return e.$$set=m=>{"x"in m&&n(0,i=m.x),"y"in m&&n(1,o=m.y),"width"in m&&n(2,r=m.width),"height"in m&&n(3,s=m.height),"borderRadius"in m&&n(4,l=m.borderRadius),"color"in m&&n(5,a=m.color),"shapeRendering"in m&&n(6,u=m.shapeRendering),"strokeColor"in m&&n(7,f=m.strokeColor),"strokeWidth"in m&&n(8,d=m.strokeWidth),"selected"in m&&n(9,c=m.selected),"class"in m&&n(10,h=m.class)},[i,o,r,s,l,a,u,f,d,c,h]}class kg extends ce{constructor(t){super(),fe(this,t,wg,bg,he,{x:0,y:1,width:2,height:3,borderRadius:4,color:5,shapeRendering:6,strokeColor:7,strokeWidth:8,selected:9,class:10})}}function pg(e,t){const n=bc({domNode:e,panZoom:t.panZoom,getTransform:()=>{const o=x(t.viewport);return[o.x,o.y,o.zoom]},getViewScale:t.getViewScale});function i(o){n.update({translateExtent:o.translateExtent,width:o.width,height:o.height,inversePan:o.inversePan,zoomStep:o.zoomStep,pannable:o.pannable,zoomable:o.zoomable})}return{update:i,destroy(){n.destroy()}}}function Cl(e,t,n){const i=e.slice();i[55]=t[n];const o=i[20].get(i[55].id);return i[56]=o,i}function no(e){const t=e.slice(),n=kt(t[56]);return t[59]=n,t}function El(e){let t,n,i=[],o=new Map,r,s,l,a,u,f,d,c=e[1]&&Ml(e),h=bt(e[19]);const m=y=>y[55].id;for(let y=0;y<h.length;y+=1){let _=Cl(e,h,y),g=m(_);o.set(g,i[y]=Pl(g,_))}return{c(){t=ve("svg"),c&&c.c(),n=We();for(let y=0;y<i.length;y+=1)i[y].c();r=ve("path"),w(r,"class","svelte-flow__minimap-mask"),w(r,"d",s="M"+(e[26]-e[15])+","+(e[25]-e[15])+"h"+(e[24]+e[15]*2)+"v"+(e[23]+e[15]*2)+"h"+(-e[24]-e[15]*2)+`z
      M`+e[18].x+","+e[18].y+"h"+e[18].width+"v"+e[18].height+"h"+-e[18].width+"z"),w(r,"fill-rule","evenodd"),w(r,"pointer-events","none"),w(t,"width",e[17]),w(t,"height",e[16]),w(t,"viewBox",l=e[26]+" "+e[25]+" "+e[24]+" "+e[23]),w(t,"class","svelte-flow__minimap-svg"),w(t,"role","img"),w(t,"aria-labelledby",e[41]),se(t,"--xy-minimap-mask-background-color-props",e[5]),se(t,"--xy-minimap-mask-stroke-color-props",e[6]),se(t,"--xy-minimap-mask-stroke-width-props",e[7]?e[7]*e[14]:void 0)},m(y,_){Z(y,t,_),c&&c.m(t,null),ee(t,n);for(let g=0;g<i.length;g+=1)i[g]&&i[g].m(t,null);ee(t,r),u=!0,f||(d=Le(a=pg.call(null,t,{panZoom:e[27],viewport:e[31],getViewScale:e[42],translateExtent:e[28],width:e[22],height:e[21],inversePan:e[10],zoomStep:e[11],pannable:e[8],zoomable:e[9]})),f=!0)},p(y,_){y[1]?c?c.p(y,_):(c=Ml(y),c.c(),c.m(t,n)):c&&(c.d(1),c=null),_[0]&1572876|_[1]&960&&(h=bt(y[19]),Te(),i=In(i,_,m,1,y,h,o,t,Hn,Pl,r,Cl),Ae()),(!u||_[0]&126124032&&s!==(s="M"+(y[26]-y[15])+","+(y[25]-y[15])+"h"+(y[24]+y[15]*2)+"v"+(y[23]+y[15]*2)+"h"+(-y[24]-y[15]*2)+`z
      M`+y[18].x+","+y[18].y+"h"+y[18].width+"v"+y[18].height+"h"+-y[18].width+"z"))&&w(r,"d",s),(!u||_[0]&131072)&&w(t,"width",y[17]),(!u||_[0]&65536)&&w(t,"height",y[16]),(!u||_[0]&125829120&&l!==(l=y[26]+" "+y[25]+" "+y[24]+" "+y[23]))&&w(t,"viewBox",l),a&&Pe(a.update)&&_[0]&408948480&&a.update.call(null,{panZoom:y[27],viewport:y[31],getViewScale:y[42],translateExtent:y[28],width:y[22],height:y[21],inversePan:y[10],zoomStep:y[11],pannable:y[8],zoomable:y[9]}),_[0]&32&&se(t,"--xy-minimap-mask-background-color-props",y[5]),_[0]&64&&se(t,"--xy-minimap-mask-stroke-color-props",y[6]),_[0]&16512&&se(t,"--xy-minimap-mask-stroke-width-props",y[7]?y[7]*y[14]:void 0)},i(y){if(!u){for(let _=0;_<h.length;_+=1)H(i[_]);u=!0}},o(y){for(let _=0;_<i.length;_+=1)R(i[_]);u=!1},d(y){y&&F(t),c&&c.d();for(let _=0;_<i.length;_+=1)i[_].d();f=!1,d()}}}function Ml(e){let t,n;return{c(){t=ve("title"),n=Xe(e[1]),w(t,"id",e[41])},m(i,o){Z(i,t,o),ee(t,n)},p(i,o){o[0]&2&&Ue(n,i[1])},d(i){i&&F(t)}}}function zl(e){var r;let t,n;const i=[{x:e[56].internals.positionAbsolute.x},{y:e[56].internals.positionAbsolute.y},e[59],{selected:e[56].selected},{color:(r=e[37])==null?void 0:r.call(e,e[56])},{borderRadius:e[2]},{strokeColor:e[38](e[56])},{strokeWidth:e[3]},{shapeRendering:e[40]},{class:e[39](e[56])}];let o={};for(let s=0;s<i.length;s+=1)o=me(o,i[s]);return t=new kg({props:o}),{c(){le(t.$$.fragment)},m(s,l){ne(t,s,l),n=!0},p(s,l){var u;const a=l[0]&1572876|l[1]&960?ct(i,[l[0]&1572864&&{x:s[56].internals.positionAbsolute.x},l[0]&1572864&&{y:s[56].internals.positionAbsolute.y},l[0]&1572864&&Bt(s[59]),l[0]&1572864&&{selected:s[56].selected},l[0]&1572864|l[1]&64&&{color:(u=s[37])==null?void 0:u.call(s,s[56])},l[0]&4&&{borderRadius:s[2]},l[0]&1572864|l[1]&128&&{strokeColor:s[38](s[56])},l[0]&8&&{strokeWidth:s[3]},l[1]&512&&{shapeRendering:s[40]},l[0]&1572864|l[1]&256&&{class:s[39](s[56])}]):{};t.$set(a)},i(s){n||(H(t.$$.fragment,s),n=!0)},o(s){R(t.$$.fragment,s),n=!1},d(s){ie(t,s)}}}function Pl(e,t){let n,i=t[56]&&ai(t[56]),o,r,s=i&&zl(no(t));return{key:e,first:null,c(){n=We(),s&&s.c(),o=We(),this.first=n},m(l,a){Z(l,n,a),s&&s.m(l,a),Z(l,o,a),r=!0},p(l,a){t=l,a[0]&1572864&&(i=t[56]&&ai(t[56])),i?s?(s.p(no(t),a),a[0]&1572864&&H(s,1)):(s=zl(no(t)),s.c(),H(s,1),s.m(o.parentNode,o)):s&&(Te(),R(s,1,1,()=>{s=null}),Ae())},i(l){r||(H(s),r=!0)},o(l){R(s),r=!1},d(l){l&&(F(n),F(o)),s&&s.d(l)}}}function vg(e){let t,n,i=e[27]&&El(e);return{c(){i&&i.c(),t=We()},m(o,r){i&&i.m(o,r),Z(o,t,r),n=!0},p(o,r){o[27]?i?(i.p(o,r),r[0]&134217728&&H(i,1)):(i=El(o),i.c(),H(i,1),i.m(t.parentNode,t)):i&&(Te(),R(i,1,1,()=>{i=null}),Ae())},i(o){n||(H(i),n=!0)},o(o){R(i),n=!1},d(o){o&&F(t),i&&i.d(o)}}}function Sg(e){let t,n;return t=new to({props:{position:e[0],style:e[12]+(e[4]?`;--xy-minimap-background-color-props:${e[4]}`:""),class:Ce(["svelte-flow__minimap",e[13]]),"data-testid":"svelte-flow__minimap",$$slots:{default:[vg]},$$scope:{ctx:e}}}),{c(){le(t.$$.fragment)},m(i,o){ne(t,i,o),n=!0},p(i,o){const r={};o[0]&1&&(r.position=i[0]),o[0]&4112&&(r.style=i[12]+(i[4]?`;--xy-minimap-background-color-props:${i[4]}`:"")),o[0]&8192&&(r.class=Ce(["svelte-flow__minimap",i[13]])),o[0]&536858606|o[1]&536870912&&(r.$$scope={dirty:o,ctx:i}),t.$set(r)},i(i){n||(H(t.$$.fragment,i),n=!0)},o(i){R(t.$$.fragment,i),n=!1},d(i){ie(t,i)}}}const io=e=>e instanceof Function?e:()=>e,Cg=200,Eg=150;function Mg(e,t,n){let i,o,r,s,l,a,u,f,d,c,h,m,y,_,g,S,k,C,V,K,O,{position:M="bottom-right"}=t,{ariaLabel:P="Mini map"}=t,{nodeStrokeColor:D="transparent"}=t,{nodeColor:X=void 0}=t,{nodeClass:L=""}=t,{nodeBorderRadius:B=5}=t,{nodeStrokeWidth:b=2}=t,{bgColor:v=void 0}=t,{maskColor:p=void 0}=t,{maskStrokeColor:N=void 0}=t,{maskStrokeWidth:T=void 0}=t,{width:A=void 0}=t,{height:Y=void 0}=t,{pannable:U=!0}=t,{zoomable:Q=!0}=t,{inversePan:j=void 0}=t,{zoomStep:I=void 0}=t,{style:oe=""}=t,{class:de=""}=t;const{nodes:J,nodeLookup:ke,viewport:G,width:ge,height:_e,flowId:be,panZoom:Me,translateExtent:W}=De();q(e,J,$=>n(19,_=$)),q(e,ke,$=>n(20,g=$)),q(e,G,$=>n(53,S=$)),q(e,ge,$=>n(22,C=$)),q(e,_e,$=>n(21,k=$)),q(e,be,$=>n(54,V=$)),q(e,Me,$=>n(27,K=$)),q(e,W,$=>n(28,O=$));const ze=X===void 0?void 0:io(X),Ve=io(D),Be=io(L),Ee=typeof window>"u"||window.chrome?"crispEdges":"geometricPrecision",$e=`svelte-flow__minimap-desc-${V}`;let Ye=i;const _t=()=>a;return e.$$set=$=>{"position"in $&&n(0,M=$.position),"ariaLabel"in $&&n(1,P=$.ariaLabel),"nodeStrokeColor"in $&&n(43,D=$.nodeStrokeColor),"nodeColor"in $&&n(44,X=$.nodeColor),"nodeClass"in $&&n(45,L=$.nodeClass),"nodeBorderRadius"in $&&n(2,B=$.nodeBorderRadius),"nodeStrokeWidth"in $&&n(3,b=$.nodeStrokeWidth),"bgColor"in $&&n(4,v=$.bgColor),"maskColor"in $&&n(5,p=$.maskColor),"maskStrokeColor"in $&&n(6,N=$.maskStrokeColor),"maskStrokeWidth"in $&&n(7,T=$.maskStrokeWidth),"width"in $&&n(46,A=$.width),"height"in $&&n(47,Y=$.height),"pannable"in $&&n(8,U=$.pannable),"zoomable"in $&&n(9,Q=$.zoomable),"inversePan"in $&&n(10,j=$.inversePan),"zoomStep"in $&&n(11,I=$.zoomStep),"style"in $&&n(12,oe=$.style),"class"in $&&n(13,de=$.class)},e.$$.update=()=>{e.$$.dirty[0]&6291456|e.$$.dirty[1]&4194304&&n(18,i={x:-S.x/S.zoom,y:-S.y/S.zoom,width:C/S.zoom,height:k/S.zoom}),e.$$.dirty[0]&1835008&&n(48,Ye=g.size>0?yr(Sn(g,{filter:$=>!$.hidden}),i):i),e.$$.dirty[1]&32768&&n(17,o=A??Cg),e.$$.dirty[1]&65536&&n(16,r=Y??Eg),e.$$.dirty[0]&131072|e.$$.dirty[1]&131072&&n(52,s=Ye.width/o),e.$$.dirty[0]&65536|e.$$.dirty[1]&131072&&n(51,l=Ye.height/r),e.$$.dirty[1]&3145728&&n(14,a=Math.max(s,l)),e.$$.dirty[0]&147456&&n(50,u=a*o),e.$$.dirty[0]&81920&&n(49,f=a*r),e.$$.dirty[0]&16384&&n(15,d=5*a),e.$$.dirty[0]&32768|e.$$.dirty[1]&655360&&n(26,c=Ye.x-(u-Ye.width)/2-d),e.$$.dirty[0]&32768|e.$$.dirty[1]&393216&&n(25,h=Ye.y-(f-Ye.height)/2-d),e.$$.dirty[0]&32768|e.$$.dirty[1]&524288&&n(24,m=u+d*2),e.$$.dirty[0]&32768|e.$$.dirty[1]&262144&&n(23,y=f+d*2)},[M,P,B,b,v,p,N,T,U,Q,j,I,oe,de,a,d,r,o,i,_,g,k,C,y,m,h,c,K,O,J,ke,G,ge,_e,be,Me,W,ze,Ve,Be,Ee,$e,_t,D,X,L,A,Y,Ye,f,u,l,s,S]}class zg extends ce{constructor(t){super(),fe(this,t,Mg,Sg,he,{position:0,ariaLabel:1,nodeStrokeColor:43,nodeColor:44,nodeClass:45,nodeBorderRadius:2,nodeStrokeWidth:3,bgColor:4,maskColor:5,maskStrokeColor:6,maskStrokeWidth:7,width:46,height:47,pannable:8,zoomable:9,inversePan:10,zoomStep:11,style:12,class:13},null,[-1,-1])}}function Nl(e){let t,n=e[0].organization+"",i;return{c(){t=we("div"),i=Xe(n),w(t,"class","node-org svelte-tkgxpd")},m(o,r){Z(o,t,r),ee(t,i)},p(o,r){r&1&&n!==(n=o[0].organization+"")&&Ue(i,n)},d(o){o&&F(t)}}}function Ol(e){let t,n=e[0].expanded?"":"",i,o,r=e[0].childCount+"",s,l;return{c(){t=we("div"),i=Xe(n),o=ye(),s=Xe(r),l=Xe(" vendors"),w(t,"class","node-children svelte-tkgxpd")},m(a,u){Z(a,t,u),ee(t,i),ee(t,o),ee(t,s),ee(t,l)},p(a,u){u&1&&n!==(n=a[0].expanded?"":"")&&Ue(i,n),u&1&&r!==(r=a[0].childCount+"")&&Ue(s,r)},d(a){a&&F(t)}}}function Pg(e){let t,n,i,o,r,s=e[0].domain+"",l,a,u,f,d,c,h=e[0].organization&&e[0].organization!==e[0].domain&&Nl(e),m=e[0].hasChildren&&Ol(e);return d=new pt({props:{type:"source",position:ue.Bottom}}),{c(){t=we("div"),n=we("div"),n.textContent="",i=ye(),o=we("div"),r=we("div"),l=Xe(s),a=ye(),h&&h.c(),u=ye(),m&&m.c(),f=ye(),le(d.$$.fragment),w(n,"class","node-icon svelte-tkgxpd"),w(r,"class","node-domain svelte-tkgxpd"),w(o,"class","node-content svelte-tkgxpd"),w(t,"class","root-node svelte-tkgxpd"),re(t,"expanded",e[0].expanded)},m(y,_){Z(y,t,_),ee(t,n),ee(t,i),ee(t,o),ee(o,r),ee(r,l),ee(o,a),h&&h.m(o,null),ee(o,u),m&&m.m(o,null),ee(t,f),ne(d,t,null),c=!0},p(y,[_]){(!c||_&1)&&s!==(s=y[0].domain+"")&&Ue(l,s),y[0].organization&&y[0].organization!==y[0].domain?h?h.p(y,_):(h=Nl(y),h.c(),h.m(o,u)):h&&(h.d(1),h=null),y[0].hasChildren?m?m.p(y,_):(m=Ol(y),m.c(),m.m(o,null)):m&&(m.d(1),m=null),(!c||_&1)&&re(t,"expanded",y[0].expanded)},i(y){c||(H(d.$$.fragment,y),c=!0)},o(y){R(d.$$.fragment,y),c=!1},d(y){y&&F(t),h&&h.d(),m&&m.d(),ie(d)}}}function Ng(e,t,n){let{data:i}=t;return e.$$set=o=>{"data"in o&&n(0,i=o.data)},[i]}class Og extends ce{constructor(t){super(),fe(this,t,Ng,Pg,he,{data:0})}}function Tl(e){let t,n=e[0].organization+"",i;return{c(){t=we("div"),i=Xe(n),w(t,"class","node-org svelte-1mswpjf")},m(o,r){Z(o,t,r),ee(t,i)},p(o,r){r&1&&n!==(n=o[0].organization+"")&&Ue(i,n)},d(o){o&&F(t)}}}function Al(e){let t,n=e[0].expanded?"":"",i,o,r=e[0].childCount+"",s;return{c(){t=we("div"),i=Xe(n),o=ye(),s=Xe(r),w(t,"class","node-children svelte-1mswpjf")},m(l,a){Z(l,t,a),ee(t,i),ee(t,o),ee(t,s)},p(l,a){a&1&&n!==(n=l[0].expanded?"":"")&&Ue(i,n),a&1&&r!==(r=l[0].childCount+"")&&Ue(s,r)},d(l){l&&F(t)}}}function Dl(e){let t,n;return t=new pt({props:{type:"source",position:ue.Bottom}}),{c(){le(t.$$.fragment)},m(i,o){ne(t,i,o),n=!0},i(i){n||(H(t.$$.fragment,i),n=!0)},o(i){R(t.$$.fragment,i),n=!1},d(i){ie(t,i)}}}function Tg(e){let t,n,i,o,r,s=e[0].domain+"",l,a,u,f,d;n=new pt({props:{type:"target",position:ue.Top}});let c=e[0].organization&&e[0].organization!==e[0].domain&&Tl(e),h=e[0].hasChildren&&Al(e),m=e[0].hasChildren&&Dl();return{c(){t=we("div"),le(n.$$.fragment),i=ye(),o=we("div"),r=we("div"),l=Xe(s),a=ye(),c&&c.c(),u=ye(),h&&h.c(),f=ye(),m&&m.c(),w(r,"class","node-domain svelte-1mswpjf"),w(o,"class","node-content svelte-1mswpjf"),w(t,"class","vendor-node svelte-1mswpjf"),se(t,"background",e[1].bg),se(t,"--shadow-color",e[1].shadow),re(t,"expanded",e[0].expanded),re(t,"has-children",e[0].hasChildren)},m(y,_){Z(y,t,_),ne(n,t,null),ee(t,i),ee(t,o),ee(o,r),ee(r,l),ee(o,a),c&&c.m(o,null),ee(o,u),h&&h.m(o,null),ee(t,f),m&&m.m(t,null),d=!0},p(y,[_]){(!d||_&1)&&s!==(s=y[0].domain+"")&&Ue(l,s),y[0].organization&&y[0].organization!==y[0].domain?c?c.p(y,_):(c=Tl(y),c.c(),c.m(o,u)):c&&(c.d(1),c=null),y[0].hasChildren?h?h.p(y,_):(h=Al(y),h.c(),h.m(o,null)):h&&(h.d(1),h=null),y[0].hasChildren?m?_&1&&H(m,1):(m=Dl(),m.c(),H(m,1),m.m(t,null)):m&&(Te(),R(m,1,1,()=>{m=null}),Ae()),(!d||_&2)&&se(t,"background",y[1].bg),(!d||_&2)&&se(t,"--shadow-color",y[1].shadow),(!d||_&1)&&re(t,"expanded",y[0].expanded),(!d||_&1)&&re(t,"has-children",y[0].hasChildren)},i(y){d||(H(n.$$.fragment,y),H(m),d=!0)},o(y){R(n.$$.fragment,y),R(m),d=!1},d(y){y&&F(t),ie(n),c&&c.d(),h&&h.d(),m&&m.d()}}}function Ag(e,t,n){let i,{data:o}=t;const r={1:{bg:"linear-gradient(135deg, #3b82f6 0%, #2563eb 100%)",border:"#2563eb",shadow:"rgba(59, 130, 246, 0.3)"},2:{bg:"linear-gradient(135deg, #10b981 0%, #059669 100%)",border:"#059669",shadow:"rgba(16, 185, 129, 0.3)"},3:{bg:"linear-gradient(135deg, #f59e0b 0%, #d97706 100%)",border:"#d97706",shadow:"rgba(245, 158, 11, 0.3)"},4:{bg:"linear-gradient(135deg, #ef4444 0%, #dc2626 100%)",border:"#dc2626",shadow:"rgba(239, 68, 68, 0.3)"}};return e.$$set=s=>{"data"in s&&n(0,o=s.data)},e.$$.update=()=>{e.$$.dirty&1&&n(1,i=r[o.layer]||r[4])},[o,i]}class Dg extends ce{constructor(t){super(),fe(this,t,Ag,Tg,he,{data:0})}}function Hg(e){let t,n,i,o,r,s,l,a=e[0].label+"",u,f,d,c;return n=new pt({props:{type:"target",position:ue.Top}}),{c(){t=we("div"),le(n.$$.fragment),i=ye(),o=we("div"),r=we("div"),r.textContent="+",s=ye(),l=we("div"),u=Xe(a),f=ye(),d=we("div"),d.textContent="Click to load",w(r,"class","node-icon svelte-aq22t1"),w(l,"class","node-label svelte-aq22t1"),w(d,"class","node-hint svelte-aq22t1"),w(o,"class","node-content svelte-aq22t1"),w(t,"class","load-more-node svelte-aq22t1")},m(h,m){Z(h,t,m),ne(n,t,null),ee(t,i),ee(t,o),ee(o,r),ee(o,s),ee(o,l),ee(l,u),ee(o,f),ee(o,d),c=!0},p(h,[m]){(!c||m&1)&&a!==(a=h[0].label+"")&&Ue(u,a)},i(h){c||(H(n.$$.fragment,h),c=!0)},o(h){R(n.$$.fragment,h),c=!1},d(h){h&&F(t),ie(n)}}}function Ig(e,t,n){let{data:i}=t;return e.$$set=o=>{"data"in o&&n(0,i=o.data)},[i]}class Vg extends ce{constructor(t){super(),fe(this,t,Ig,Hg,he,{data:0})}}function Hl(e){const t=new Map;for(const n of e){const i=n.nth_party_customer_domain;t.has(i)||t.set(i,[]),t.get(i).push(n)}return t}function Xg(e,t){const n=new Map,i=new Map;for(const[s,{layer:l}]of e)i.has(l)||i.set(l,[]),i.get(l).push(s);const o=250,r=150;for(const[s,l]of i){const u=-((l.length-1)*o)/2;l.forEach((f,d)=>{n.set(f,{x:u+d*o,y:s*r})})}return n}function Rg(e,t){var u,f,d;const n=[],i=[],o=new Set,r=new Map,s=Hl(e);(u=s.get(t))!=null&&u.length,r.set(t,{layer:0,index:0}),o.add(t);let l=0;for(const c of e)o.has(c.nth_party_domain)||((f=s.get(c.nth_party_domain))!=null&&f.length,r.set(c.nth_party_domain,{layer:c.nth_party_layer,index:r.size}),o.add(c.nth_party_domain)),i.push({id:`e-${l++}`,source:c.nth_party_customer_domain,target:c.nth_party_domain,label:Yg(c.nth_party_record_type),type:"smoothstep",hidden:c.nth_party_layer>1,data:{recordType:c.nth_party_record_type,layer:c.nth_party_layer}});const a=Xg(r);for(const c of o){const h=r.get(c),m=a.get(c)||{x:0,y:0},y=((d=s.get(c))==null?void 0:d.length)||0;let _=c;const g=e.find(k=>k.nth_party_domain===c);g&&(_=g.nth_party_organization||c);const S=c===t;n.push({id:c,type:S?"root":"vendor",data:{label:c,organization:_,domain:c,layer:h.layer,childCount:y,hasChildren:y>0,expanded:S},position:m,hidden:!S&&h.layer>1})}return{nodes:n,edges:i}}function Yg(e){return{"TXT::Verification":"DNS","TXT::SPF":"SPF",MX:"Email",CNAME:"CNAME",NS:"NS","HTTP::Subprocessor":"Subprocessor","HTTP::WebOrg":"Web",SaaSTenant:"SaaS"}[e]||e.split("::").pop()||e}function Lg(e){let t,n,i,o,r,s;return t=new rg({}),i=new _g({props:{variant:yt.Dots}}),r=new zg({}),{c(){le(t.$$.fragment),n=ye(),le(i.$$.fragment),o=ye(),le(r.$$.fragment)},m(l,a){ne(t,l,a),Z(l,n,a),ne(i,l,a),Z(l,o,a),ne(r,l,a),s=!0},p:ae,i(l){s||(H(t.$$.fragment,l),H(i.$$.fragment,l),H(r.$$.fragment,l),s=!0)},o(l){R(t.$$.fragment,l),R(i.$$.fragment,l),R(r.$$.fragment,l),s=!1},d(l){l&&(F(n),F(o)),ie(t,l),ie(i,l),ie(r,l)}}}function Wg(e){let t,n,i,o,r,s,l,a,u,f;return l=new Hh({props:{nodes:e[2],edges:e[3],nodeTypes:e[4],fitView:!0,$$slots:{default:[Lg]},$$scope:{ctx:e}}}),l.$on("nodeclick",e[5]),{c(){t=we("div"),n=we("div"),i=we("button"),i.textContent="Reset View",o=ye(),r=we("button"),r.textContent="Expand All",s=ye(),le(l.$$.fragment),w(i,"class","btn btn-primary svelte-19rw5s4"),w(r,"class","btn btn-secondary svelte-19rw5s4"),w(n,"class","graph-controls svelte-19rw5s4"),w(t,"class","vendor-graph-container svelte-19rw5s4")},m(d,c){Z(d,t,c),ee(t,n),ee(n,i),ee(n,o),ee(n,r),ee(t,s),ne(l,t,null),a=!0,u||(f=[Se(i,"click",e[0]),Se(r,"click",e[1])],u=!0)},p(d,[c]){const h={};c&2097152&&(h.$$scope={dirty:c,ctx:d}),l.$set(h)},i(d){a||(H(l.$$.fragment,d),a=!0)},o(d){R(l.$$.fragment,d),a=!1},d(d){d&&F(t),ie(l),u=!1,Re(f)}}}const Bg=5;function Kg(e,t,n){let i,{initialNodes:o=[]}=t,{initialEdges:r=[]}=t,{rootDomain:s=""}=t,{relationships:l=[]}=t;const a={1:50,2:10,3:5};function u(M){return a[M]||Bg}const f=te(o);q(e,f,M=>n(11,i=M));const d=te(r),c=new Set([s]),h=new Map,m=Hl(l),y={root:Og,vendor:Dg,loadMore:Vg};function _(M){var X;const P=(X=M.detail.node)==null?void 0:X.id;if(!P)return;const D=i.find(L=>L.id===P);if(D){if(D.type==="loadMore"){k(D.data.parentId);return}D.data.hasChildren&&(c.has(P)?S(P):g(P))}}function g(M){const P=m.get(M)||[];if(P.length===0)return;const D=i.find(T=>T.id===M),X=((D==null?void 0:D.data.layer)||0)+1,L=u(X);h.has(M)||h.set(M,{shown:0,total:P.length});const B=h.get(M),b=B.shown,v=Math.min(b+L,P.length),p=P.slice(b,v);f.update(T=>T.map(A=>p.some(Y=>Y.nth_party_domain===A.id)?{...A,hidden:!1}:A.id===M?{...A,data:{...A.data,expanded:!0}}:A)),d.update(T=>T.map(A=>A.source===M&&p.some(Y=>Y.nth_party_domain===A.target)?{...A,hidden:!1}:A)),B.shown=v,c.add(M);const N=P.length-B.shown;N>0&&C(M,N,X)}function S(M){const P=m.get(M)||[];for(const D of P)c.has(D.nth_party_domain)&&S(D.nth_party_domain);f.update(D=>D.map(X=>P.some(L=>L.nth_party_domain===X.id)?{...X,hidden:!0}:X.id===M?{...X,data:{...X.data,expanded:!1}}:X.type==="loadMore"&&X.data.parentId===M?{...X,hidden:!0}:X)),d.update(D=>D.map(X=>X.source===M?{...X,hidden:!0}:X)),c.delete(M),h.delete(M)}function k(M){g(M)}function C(M,P,D){const X=`loadMore-${M}`,L=i.find(v=>v.id===M),B=(L==null?void 0:L.position)||{x:0,y:0};f.update(v=>v.filter(p=>p.id!==X)),d.update(v=>v.filter(p=>p.target!==X));const b={id:X,type:"loadMore",data:{label:`+ ${P} more`,organization:"",domain:"",layer:D,childCount:P,hasChildren:!1,expanded:!1,parentId:M},position:{x:B.x+200,y:B.y+100},hidden:!1};f.update(v=>[...v,b]),d.update(v=>[...v,{id:`e-loadMore-${M}`,source:M,target:X,type:"smoothstep",hidden:!1}])}function V(){for(const M of c)M!==s&&S(M)}function K(){const M=i.filter(P=>P.data.hasChildren&&!c.has(P.id));for(const P of M)g(P.id)}function O(M){const P=i.find(D=>D.id===M);if(P!=null&&P.hidden){const D=l.find(X=>X.nth_party_domain===M);D&&(O(D.nth_party_customer_domain),g(D.nth_party_customer_domain))}}return e.$$set=M=>{"initialNodes"in M&&n(6,o=M.initialNodes),"initialEdges"in M&&n(7,r=M.initialEdges),"rootDomain"in M&&n(8,s=M.rootDomain),"relationships"in M&&n(9,l=M.relationships)},[V,K,f,d,y,_,o,r,s,l,O]}class Il extends ce{constructor(t){super(),fe(this,t,Kg,Wg,he,{initialNodes:6,initialEdges:7,rootDomain:8,relationships:9,resetView:0,expandAll:1,focusNode:10})}get resetView(){return this.$$.ctx[0]}get expandAll(){return this.$$.ctx[1]}get focusNode(){return this.$$.ctx[10]}}function Vl(){const e=document.getElementById("vendor-graph");if(!e){console.error("vendor-graph container not found");return}if(!window.graphData){console.error("window.graphData not found");return}const{nodes:t,edges:n}=Rg(window.graphData.relationships,window.graphData.summary.root_domain);window.vendorGraph=new Il({target:e,props:{initialNodes:t,initialEdges:n,rootDomain:window.graphData.summary.root_domain,relationships:window.graphData.relationships}})}return document.readyState==="loading"?document.addEventListener("DOMContentLoaded",Vl):Vl(),Il}();
